;/*FB_PKG_DELIM*/

__d("CometSinglePostDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25075294915437829"}),null);
__d("CometSinglePostDialogContentQuery$Parameters",["CometImmersivePhotoCanUserDisable3DMotion.relayprovider","CometSinglePostDialogContentQuery_facebookRelayOperation","CometUFICommentAvatarStickerAnimatedImage.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","FBReels_enable_meta_ai_label_gk.relayprovider","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","FeedDeepDiveTopicPillThreadViewEnabled.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometGYSJFeedItemHeight.relayprovider","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","StoriesShouldIncludeFbNotes.relayprovider","TestPilotShouldIncludeDemoAdUseCase.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometSinglePostDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometSinglePostDialogContentQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:b("FBReels_enable_view_dubbed_audio_type_gk.relayprovider"),__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider:b("CometUFICommentAvatarStickerAnimatedImage.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider:b("TestPilotShouldIncludeDemoAdUseCase.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__FeedDeepDiveTopicPillThreadViewEnabledrelayprovider:b("FeedDeepDiveTopicPillThreadViewEnabled.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider:b("FBReels_enable_meta_ai_label_gk.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:b("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:b("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider"),__relay_internal__pv__GroupsCometGYSJFeedItemHeightrelayprovider:b("GroupsCometGYSJFeedItemHeight.relayprovider"),__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider:b("StoriesShouldIncludeFbNotes.relayprovider")}}};e.exports=a}),null);
__d("CometSinglePostDialogRoot.entrypoint",["CometSinglePostDialogContentQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c,e=a.routeParams,f=e.comment_id;e=e.reply_comment_id;c=(c=(c=a.passthroughProps)==null?void 0:c.storyID)!=null?c:a.routeProps.storyID;a=e!=null?e:f;e={feedbackSource:2,feedLocation:"POST_PERMALINK_DIALOG",focusCommentID:a!=null?String(a):null,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"permalink",scale:d("WebPixelRatio").get(),storyID:c,useDefaultActor:!1};f={singlePostDialogRootQueryReference:{environmentProviderOptions:{numConnectionsForSSR:1},parameters:b("CometSinglePostDialogContentQuery$Parameters"),variables:e}};return{queries:f}},root:c("JSResourceForInteraction")("CometSinglePostDialogRoot.react").__setRef("CometSinglePostDialogRoot.entrypoint")};g["default"]=a}),98);
__d("CometUFICommentScrollOptionsContextProvider.react",["CometUFICommentScrollOptionsContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.delay,g=a.scrollAnchorOptions;a=a.scrollIntoViewOptions;var h=j(c("CometUFICommentScrollOptionsContext")),k=h.delay,l=h.scrollAnchorOptions;h=h.scrollIntoViewOptions;f=f!=null?f:k;b[0]!==g||b[1]!==l?(k=babelHelpers["extends"]({},l,g),b[0]=g,b[1]=l,b[2]=k):k=b[2];b[3]!==a||b[4]!==h?(g=babelHelpers["extends"]({},h,a),b[3]=a,b[4]=h,b[5]=g):g=b[5];b[6]!==f||b[7]!==k||b[8]!==g?(l={delay:f,scrollAnchorOptions:k,scrollIntoViewOptions:g},b[6]=f,b[7]=k,b[8]=g,b[9]=l):l=b[9];a=l;h=a;b[10]!==e||b[11]!==h?(f=i.jsx(c("CometUFICommentScrollOptionsContext").Provider,{value:h,children:e}),b[10]=e,b[11]=h,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("CometUFIGlimmer.react",["BaseLoadingStateElement.react","CometUFICommentRowGlimmer.react","FDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={actionButton:{borderStartStartRadius:"x13t61ll",borderStartEndRadius:"x1kchd1x",borderEndEndRadius:"x1u0fnx4",borderEndStartRadius:"xbxn0j6",height:"x170jfvy",width:"x1dmp6jm",$$css:!0},root:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.numCommentRows,f=a.randomizeCommentRowSizes;a=a.withoutActions;var g=f===void 0?!0:f;f=a===void 0?!1:a;b[0]!==f?(a=f===!1&&i.jsxs("div",{className:"x78zum5 x1l1ennw xyamay9 xv54qhq x1l90r2v xf7dkkf",children:[i.jsx(c("FDSGlimmer.react"),{index:1,xstyle:j.actionButton}),i.jsx(c("FDSGlimmer.react"),{index:2,xstyle:j.actionButton}),i.jsx(c("FDSGlimmer.react"),{index:3,xstyle:j.actionButton})]}),b[0]=f,b[1]=a):a=b[1];b[2]!==e?(f=Array.from(Array(e).keys()),b[2]=e,b[3]=f):f=b[3];b[4]!==g||b[5]!==f?(e=f.map(function(a){return i.jsx("div",{className:"x1y1aw1k x64bnmy xwib8y2 xmzvs34",children:i.jsx(c("CometUFICommentRowGlimmer.react"),{randomSize:g})},a)}),b[4]=g,b[5]=f,b[6]=e):e=b[6];b[7]!==a||b[8]!==e?(f=i.jsxs(c("BaseLoadingStateElement.react"),{xstyle:j.root,children:[a,e]}),b[7]=a,b[8]=e,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("FDSDialogUFIFooter.react",["CometColumnItem.react","CometUFICommentRowGlimmer.react","CometUFIDetachableComposerContext","CometVisualCompletionAttributes","FDSDialogFooterContainer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l={scrollAreaInner:{paddingTop:"xyqdw3p",paddingBottom:"xg8j3zb",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.shouldFocusComposer;a=j(c("CometUFIDetachableComposerContext"));var f=a.composerElement,g=a.focusComposer,h;b[0]!==g||b[1]!==e?(a=function(){e&&g!=null&&window.setTimeout(g,0)},h=[g,e],b[0]=g,b[1]=e,b[2]=a,b[3]=h):(a=b[2],h=b[3]);k(a,h);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x2lah0s x96k8nx xdvlbce x1c1uobl xyri2b"},b[4]=a):a=b[4];b[5]!==f?(h=f!=null?f:i.jsx(c("CometUFICommentRowGlimmer.react"),{xstyle:l.scrollAreaInner}),b[5]=f,b[6]=h):h=b[6];b[7]!==h?(f=i.jsx(c("FDSDialogFooterContainer.react"),{children:i.jsx(c("CometColumnItem.react"),{children:i.jsx("div",babelHelpers["extends"]({},a,c("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,{children:h}))})}),b[7]=h,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("useOnRoutableDialogClose",["CometRouteRenderType","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(8),f=a===void 0?"/":a;e[0]!==b?(a=b===void 0?{}:b,e[0]=b,e[1]=a):a=e[1];var g=a,h=d("CometRouteRenderType").useIsPushView(),i=c("useCometRouterDispatcher")(),j=d("CometRouteRenderType").useIsHosted();e[2]!==g||e[3]!==f||e[4]!==i||e[5]!==j||e[6]!==h?(b=function(){if(i)if(h)return i.popPushView();else if(j)return i.goBack();else return i.go(f,babelHelpers["extends"]({},g,{target:"self"}))},e[2]=g,e[3]=f,e[4]=i,e[5]=j,e[6]=h,e[7]=b):b=e[7];return b}g["default"]=a}),98);
__d("CometSinglePostDialogRoot.react",["fbt","Actor","CometFeedHighlightedStoriesContext","CometFeedStoryGlimmer.react","CometFeedUnitBorderContext","CometFeedUnitDialogTrackingDataContext","CometFeedUnitDropShadowContext","CometFeedUnitIsFocusedStoryViewContext","CometFocusedStoryViewPortableVideoContext","CometFocusedStoryViewReferringFeedLocationContext","CometInteractionSourceContext","CometPlaceholder.react","CometRouteParams","CometSSRMultipassBoundary.react","CometScrollAnchorContext","CometSeoMetadataContextProvider.react","CometStoryRenderLocationContext.react","CometUFICommentListComposerProvider.react","CometUFICommentScrollOptionsContextProvider.react","CometUFIConversationGuideLoggingProvider.react","CometUFIConversationGuideUtils","CometUFIDetachableComposerContext","CometUFIGlimmer.react","FDSDialog.react","FDSDialogHeader.react","FDSDialogUFIFooter.react","PagesLogger","PagesLoggerEventEnum","PagesPermalinkImpressionFalcoEvent","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","cr:13495","deferredLoadComponent","isStringNullOrEmpty","react","requireDeferredForDisplay","useCurrentRoute","useGroupsCometPerfLogging","useGroupsSeoVisitStorage","useOnRoutableDialogClose","useSetVideoShareDownstreamSignalTracking"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useMemo,m=e.useRef,n=e.useState,o=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometSinglePostDialogContent.react").__setRef("CometSinglePostDialogRoot.react")),p=new Set(["comment_button","comment_count","toplevel_pager"]),q={dialog:{paddingTop:"x1miatn0",paddingBottom:"x1gan7if","@supports (padding: env(safe-area-inset-bottom, 0))_paddingBottom":"x2z19jh","@supports (padding: env(safe-area-inset-bottom, 0))_paddingTop":"x2tomnu",$$css:!0},dialogPage:{maxHeight:"xqbnct6",minHeight:"xga75y6",$$css:!0}};function a(a){var e,f,g,i,r=a.queries.singlePostDialogRootQueryReference.variables.focusCommentID,s=c("useOnRoutableDialogClose")(),t=d("CometRouteParams").useRouteParams(),u=d("Actor").useActor(),v=u[0],w=String(t==null?void 0:t.story_token);u=a.props.routeProps;t=u.commentDialogEntrypoint;var x=u.entrypointFeedUnitTrackingData,y=u.headerTitle,z=u.interactionSource,A=u.isSeoVisit,B=u.localFeedUnitQueryVariables,C=u.pageID,D=u.referringStoryRect;u=c("useCurrentRoute")();e=(e=u==null||(f=u.url)==null?void 0:f.includes("/groups/"))!=null?e:!1;var E=e?String(u==null||(g=u.params)==null?void 0:g.story_id):null;e=e?String(u==null||(i=u.params)==null?void 0:i.idorvanity):null;c("useGroupsSeoVisitStorage")(A!=null?A:!1);c("useGroupsCometPerfLogging")(e,E);c("useSetVideoShareDownstreamSignalTracking")();k(function(){var a=v===C;C!=null&&a&&(d("PagesLogger").log(C,c("PagesLoggerEventEnum").IMPRESSION,"admin_permalink_view",null,["core_biz_growth"]),c("PagesPermalinkImpressionFalcoEvent").log(function(){return{event_data:{},event_location:"notification",page_id:C}}))},[C,v]);u=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed");e=m(null);var F=m(null),G=m(!1),H=m(null),I=p.has(t);E=n(null);var J=E[0],K=E[1],L=m(null);t=l(function(){return{composerElement:J,focusComposer:L.current,setComposerElement:K,setFocusComposer:function(a){L.current=a}}},[J]);E=l(function(){return typeof r==="string"?{key:"ufi-comment",value:r}:null},[r]);var M=l(function(){return{delay:0,scrollAnchorOptions:{behavior:"auto",verticalAlign:"center"},scrollIntoViewOptions:{behavior:"auto",force:!0,verticalAlign:"center"}}},[]);k(function(){if(c("isStringNullOrEmpty")(r)&&I&&G.current===!1){var a;a=(a=F.current)==null?void 0:a.getDOMNode();if(D!=null&&a!=null&&(J!=null||H.current!=null)){var b=Math.min(D.y-32-60,0);a.scrollTop=Math.abs(b);G.current=!0;return}}},[r,D,J,I]);var N=l(function(){return new Set([w])},[w]);B=B!=null&&b("cr:13495")?j.jsx(c("CometInteractionSourceContext").Provider,{value:z!=null?z:8,children:j.jsx(b("cr:13495"),{renderer:function(a){return a==null?j.jsx(c("CometFeedStoryGlimmer.react"),{}):j.jsxs("div",{ref:H,children:[j.jsx(c("CometFeedUnitIsFocusedStoryViewContext").Provider,{value:!0,children:a}),j.jsx("div",{className:"x135b78x",children:j.jsx(c("CometUFIGlimmer.react"),{numCommentRows:20})})]})},storyID:a.queries.singlePostDialogRootQueryReference.variables.storyID,variables:B})}):j.jsx(c("CometFeedStoryGlimmer.react"),{});var O=l(function(){return x!=null?x:{clientViewConfig:{can_delay_log_impression:null,use_banzai_signal_imp:null,use_banzai_vital_imp:null},trackingDataID:null,viewabilityConfig:null}},[x]);return j.jsx(c("CometUFIDetachableComposerContext").Provider,{value:t,children:j.jsx(c("CometFocusedStoryViewReferringFeedLocationContext").Provider,{value:a.props.routeProps.referringFeedLocation,children:j.jsx(c("CometUFIConversationGuideLoggingProvider.react"),{callerID:d("CometUFIConversationGuideUtils").CALLER_ID,children:j.jsx(c("CometFeedUnitDialogTrackingDataContext").Provider,{value:O,children:j.jsx(c("CometSeoMetadataContextProvider.react"),{isSeoVisit:A!=null?A:!1,children:j.jsx(c("CometUFICommentListComposerProvider.react"),{children:j.jsx(c("FDSDialog.react"),{anchorXStyle:q.dialog,footer:j.jsx(c("FDSDialogUFIFooter.react"),{shouldFocusComposer:I}),header:j.jsx(c("FDSDialogHeader.react"),{onClose:s,text:y!=null?y:h._(/*BTDS*/"Post"),withBackButton:!1,withCloseButton:!0}),isFullHeightByDefault:!0,onClose:s,pageXStyle:q.dialogPage,scrollAreaRef:F,size:"medium",testid:void 0,children:j.jsx("div",{className:"x6ikm8r x10wlt62",ref:e,children:j.jsx(c("CometScrollAnchorContext").Provider,{value:E,children:j.jsx(c("CometUFICommentScrollOptionsContextProvider.react"),babelHelpers["extends"]({},M,{children:j.jsx(c("CometFocusedStoryViewPortableVideoContext").Provider,{value:a.props.routeProps.portableVideoID,children:j.jsx(c("CometPlaceholder.react"),{fallback:B,name:"CometSinglePostDialogRoot",children:j.jsx(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:u,children:j.jsx(c("CometInteractionSourceContext").Provider,{value:z!=null?z:8,children:j.jsx(c("CometStoryRenderLocationContext.react").Provider,{value:a.queries.singlePostDialogRootQueryReference.variables.renderLocation,children:j.jsx(c("CometFeedHighlightedStoriesContext").Provider,{value:N,children:j.jsx(c("CometFeedUnitBorderContext").Provider,{value:"none",children:j.jsx(c("CometFeedUnitDropShadowContext").Provider,{value:0,children:j.jsx(c("CometSSRMultipassBoundary.react"),{fallback:B,children:j.jsx(o,{singlePostDialogRootQueryReference:a.queries.singlePostDialogRootQueryReference})})})})})})})})})})}))})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);