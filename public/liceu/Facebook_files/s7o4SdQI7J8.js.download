;/*FB_PKG_DELIM*/

__d("AdsValidationConsts",[],(function(a,b,c,d,e,f){a=Object.freeze({ixCanvasPrefix:"https://fb.com/canvas_doc/",maxAge:65,maxAdgroupNameLength:400,maxFriendlyNameLength:128,maxURLLength:1024,minAge:13,minAgeDefault:18,nonDefaultMinAgeByCountryCode:{ID:21,TH:20},minMessagingDestinationAge:18,minLeadGenerationAge:18,minCallNowAge:18,minWAMOStatusAge:13,nameMaxLength:400,maxAdObjectNameLength:400});f["default"]=a}),66);
__d("AssertionError",["ManagedError"],(function(a,b,c,d,e,f,g){a=function(a){function b(b){return a.call(this,b)||this}babelHelpers.inheritsLoose(b,a);return b}(c("ManagedError"));g["default"]=a}),98);
__d("Assert",["AssertionError","sprintf"],(function(a,b,c,d,e,f,g){function h(a,b){if(typeof a!=="boolean"||a===!1)throw new(c("AssertionError"))(b);return a}function i(a,b,d){var e;if(b===void 0)e="undefined";else if(b===null)e="null";else{var f=Object.prototype.toString.call(b);f=/\s(\w*)/.exec(f);e=f==null?typeof f:f[1].toLowerCase()}h(a.indexOf(e)!==-1,d!=null?d:c("sprintf")("Expression is of type %s, not %s",e,a));return b}function a(a,b,c){h(b instanceof a,c!=null?c:"Expression not instance of type");return b}function j(a,b){k["is"+a]=b,k["maybe"+a]=function(a,c){return a==null?a:b(a,c)}}b=function(a,b){return a};var k={isInstanceOf:a,isTrue:h,isTruthy:function(a,b){return h(!!a,b)},isBoolean:b,isFunction:b,isNumber:b,isObject:b,isString:b,isUndefined:b,maybeObject:b,maybeNumber:b,maybeFunction:b};["Boolean","Function","Number","Object","String","Undefined"].forEach(function(a){j(a,i.bind(null,a.toLowerCase()))});d=k;g["default"]=d}),98);
__d("BandicootSession",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",CLOSED:"CLOSED"}),h=10*60*1e3,i=14*24*60*60*1e3;function j(a){return Date.now()-a.lastUpdated}function a(a){return!!(typeof a==="object"&&a&&a.lastUpdated&&a.status)}function b(a){if(a.status===g.CLOSED)return!1;else if(a.status===g.INACTIVE&&j(a)>h)return!1;return!0}function c(a){return a.status===g.ACTIVE&&j(a)>h}function d(a){return j(a)>i}f.Status=g;f.isValidSession=a;f.isTrackedSession=b;f.isCrashedSession=c;f.isOrphanSession=d}),66);
__d("Bandicoot",["invariant","BandicootSession","FBLogger","getErrorSafe"],(function(a,b,c,d,e,f,g,h){"use strict";var i=5*1e3,j=i*2,k="Bandicoot:";function a(){try{var a=window.localStorage;if(a){var b="__test"+Date.now();a.setItem(b,"");a.removeItem(b)}return a}catch(a){c("FBLogger")("bandicoot").warn("Local storage is full");return null}}var l=a();b=function(){function a(a){this.$5=k+a,this.$4={},this.$1=this.$7.bind(this),this.sessionID=null,this.sessionStartTime=null,this.storage=l}var b=a.prototype;b.getCrashTimeData=function(){var a=window.performance&&window.performance.memory||{},b=this.sessionStartTime;return{duration:b?Date.now()-b:0,tabs:Object.keys(this.$8()).length,jsHeapSizeLimit:a.jsHeapSizeLimit,totalJSHeapSize:a.totalJSHeapSize,usedJSHeapSize:a.usedJSHeapSize,elementsInDOM:document.getElementsByTagName("*").length,uri:window.location.href}};b.getLogTimeData=function(){return{userAgent:window.navigator.userAgent}};b.logCrash=function(a,b,d){c("FBLogger")("bandicoot").warn("Session %s crashed at %s",a,d)};b.logBrowserUnsupported=function(){c("FBLogger")("bandicoot").warn("Browser not supported")};b.logTrackingError=function(){c("FBLogger")("bandicoot").warn("Failed to record data for current session")};b.startSession=function(){var a=this;if(!this.storage){this.logBrowserUnsupported();return}if(this.$2)return;this.sessionID||(this.sessionID=Math.random().toString(36).slice(2,9));this.sessionStartTime||(this.sessionStartTime=Date.now());this.$2=setInterval(function(){a.$9()},i);this.$9();document.addEventListener&&document.addEventListener("visibilitychange",this.$1);this.$10()};b.endSession=function(){if(!this.storage)return;if(!this.$2)return;clearInterval(this.$2);this.$2=null;this.$3||this.$11({status:d("BandicootSession").Status.CLOSED});this.sessionID=null;this.sessionStartTime=null;document.removeEventListener&&document.removeEventListener("visibilitychange",this.$1)};b.logKnownCrashes=function(){var a=this;if(!this.storage)return;if(!this.$2){var b=this.$8();b=this.$12(b,function(b,c){if(d("BandicootSession").isCrashedSession(b)){a.logCrash(c,b,a.getLogTimeData());return null}else return b});this.$13(b)}};b.$14=function(){var a=this.sessionID;a||h(0,663);return a};b.$9=function(){var a=this.$8();this.$15(a);a=this.$16(a);this.$13(a)};b.$15=function(a){var b=this.$14(),c=a[b]?a[b]:{};a[b]=babelHelpers["extends"]({},c,this.getCrashTimeData(),{lastUpdated:Date.now(),status:this.$17()})};b.$12=function(a,b){var c={};Object.keys(a).forEach(function(e){var f=a[e];if(d("BandicootSession").isValidSession(f)&&d("BandicootSession").isTrackedSession(f)&&!d("BandicootSession").isOrphanSession(f)){f=b(f,e);f&&(c[e]=f)}});return c};b.$16=function(a){var b=this;return this.$12(a,function(a,c){if(d("BandicootSession").isCrashedSession(a)){var e=a.loggerReportTime||0;if(Date.now()-e>j)a.loggerReportTime=Date.now(),a.loggerReportSession=b.$14();else if(a.loggerReportSession==b.$14()){b.logCrash(c,a,b.getLogTimeData());b.$4[c]=!0;return null}}return a})};b.$8=function(a){a=a||this.$5;var b=this.storage.getItem(a)||"{}";try{b=JSON.parse(b)}catch(d){b={},this.storage.removeItem(a),c("FBLogger")("bandicoot").catching(c("getErrorSafe")(d)).warn("Invalid JSON data")}return b};b.$11=function(a){a.lastUpdated=Date.now();var b=this.$8(),c=this.sessionID;c&&b[c]&&(Object.assign(b[c],a),this.$13(b))};b.$13=function(a){a=JSON.stringify(a);try{this.storage.setItem(this.$5,a)}catch(d){a=this.$6;var b=Date.now();(!a||b>a+i)&&(this.logTrackingError(),this.$6=b);try{this.storage.removeItem(this.$5)}catch(a){this.$3=!0,this.endSession(),c("FBLogger")("bandicoot").catching(c("getErrorSafe")(a)).warn("Removing from storage failed")}}};b.$10=function(){for(var a=0;a<this.storage.length;++a){var b=this.storage.key(a);if(b.indexOf(k)===0&&b!==this.$5){var c=this.$8(b),e=Object.keys(c).every(function(a){a=c[a];return!d("BandicootSession").isValidSession(a)||d("BandicootSession").isOrphanSession(a)});e&&this.storage.removeItem(b)}}};b.$7=function(){this.$11({status:this.$17()})};b.$17=function(){return document.hidden?d("BandicootSession").Status.INACTIVE:d("BandicootSession").Status.ACTIVE};return a}();g["default"]=b}),98);
__d("BlockMapBuilder",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap;a={createFromArray:function(a){return g(a.map(function(a){return[a.getKey(),a]}))}};e.exports=a}),null);
__d("BlockTree",["findRangesImmutable","getOwnObjectValues","immutable"],(function(a,b,c,d,e,f){"use strict";var g=["leaves"],h=b("immutable").List,i=b("immutable").Repeat;a=b("immutable").Record;var j=function(){return!0};c={start:null,end:null};var k=a(c);d={start:null,end:null,decoratorKey:null,leaves:null};var l=a(d);f={generate:function(a,c,d){var e=c.getLength();if(!e)return h.of(new l({start:0,end:0,decoratorKey:null,leaves:h.of(new k({start:0,end:0}))}));var f=[],g=d?d.getDecorations(c,a):h(i(null,e)),o=c.getCharacterList();b("findRangesImmutable")(g,n,j,function(a,b){f.push(new l({start:a,end:b,decoratorKey:g.get(a),leaves:m(o.slice(a,b).toList(),a)}))});return h(f)},fromJS:function(a){var c=a.leaves;a=babelHelpers.objectWithoutPropertiesLoose(a,g);return new l(babelHelpers["extends"]({},a,{leaves:c!=null?h(Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return k(a)}):null}))}};function m(a,c){var d=[];a=a.map(function(a){return a.getStyle()}).toList();b("findRangesImmutable")(a,n,j,function(a,b){d.push(new k({start:a+c,end:b+c}))});return h(d)}function n(a,b){return a===b}e.exports=f}),null);
__d("BrandedContentSharedToSponsorStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_SHARED:0,ALL_SHARED:1});f["default"]=a}),66);
__d("BrandedContentSponsorRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({WITH:0,PAID_RELATIONSHIP_WITH:1,PRESENTED_BY:2,SOCIAL_TAGGING:3,SUPPORT:4,BRAND_INLINE_AD_WITHOUT_CREATOR_PAGE:5,CREATOR_INLINE_AD_WITHOUT_SPONSOR_PAGE:6,SPONSORSHIP:7,AFFILIATE_LINKS:8});f["default"]=a}),66);
__d("BusinessComposerIGAudienceTypes",["$InternalEnum"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum").Mirrored(["IG_AUDIENCE_PUBLIC","IG_AUDIENCE_RESTRICTED"]);c=["SD","CU","IR","SY","KP"];g.BusinessComposerIGAudienceTypes=a;g.UnsupportedIGAudienceCountryList=c}),98);
__d("CallToActionTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({OPEN_LINK:"OPEN_LINK",LIKE_PAGE:"LIKE_PAGE",SHOP_NOW:"SHOP_NOW",PLAY_GAME:"PLAY_GAME",INSTALL_APP:"INSTALL_APP",USE_APP:"USE_APP",CALL:"CALL",CALL_ME:"CALL_ME",VIDEO_CALL:"VIDEO_CALL",GET_MOBILE_APP:"GET_MOBILE_APP",INSTALL_MOBILE_APP:"INSTALL_MOBILE_APP",INSTALL_FREE_MOBILE_APP:"INSTALL_FREE_MOBILE_APP",USE_MOBILE_APP:"USE_MOBILE_APP",MOBILE_DOWNLOAD:"MOBILE_DOWNLOAD",BOOK_TRAVEL:"BOOK_TRAVEL",LISTEN_MUSIC:"LISTEN_MUSIC",WATCH_VIDEO:"WATCH_VIDEO",LEARN_MORE:"LEARN_MORE",SIGN_UP:"SIGN_UP",DOWNLOAD:"DOWNLOAD",WATCH_MORE:"WATCH_MORE",NO_BUTTON:"NO_BUTTON",VISIT_PAGES_FEED:"VISIT_PAGES_FEED",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",DIAL_CODE:"DIAL_CODE",APPLY_NOW:"APPLY_NOW",CONTACT:"CONTACT",BUY_NOW:"BUY_NOW",GET_OFFER:"GET_OFFER",GET_OFFER_VIEW:"GET_OFFER_VIEW",BUY_TICKETS:"BUY_TICKETS",UPDATE_APP:"UPDATE_APP",GET_DIRECTIONS:"GET_DIRECTIONS",BUY:"BUY",SEE_DETAILS:"SEE_DETAILS",SEND_UPDATES:"SEND_UPDATES",MESSAGE_PAGE:"MESSAGE_PAGE",MESSAGE_USER:"MESSAGE_USER",DONATE:"DONATE",SUBSCRIBE:"SUBSCRIBE",SAY_THANKS:"SAY_THANKS",SELL_NOW:"SELL_NOW",SHARE:"SHARE",DONATE_NOW:"DONATE_NOW",GET_QUOTE:"GET_QUOTE",CONTACT_US:"CONTACT_US",ORDER_NOW:"ORDER_NOW",START_ORDER:"START_ORDER",ADD_TO_CART:"ADD_TO_CART",VIEW_CART:"VIEW_CART",VIEW_IN_CART:"VIEW_IN_CART",VIDEO_ANNOTATION:"VIDEO_ANNOTATION",MOMENTS:"MOMENTS",RECORD_NOW:"RECORD_NOW",INQUIRE_NOW:"INQUIRE_NOW",CONFIRM:"CONFIRM",VOTE_NOW:"VOTE_NOW",GIVE_FREE_RIDES:"GIVE_FREE_RIDES",REGISTER_NOW:"REGISTER_NOW",OPEN_MESSENGER_EXT:"OPEN_MESSENGER_EXT",CIVIC_ACTION:"CIVIC_ACTION",SEND_INVITES:"SEND_INVITES",REFER_FRIENDS:"REFER_FRIENDS",SAVE:"SAVE",REQUEST_TIME:"REQUEST_TIME",SEE_MENU:"SEE_MENU",EMAIL_NOW:"EMAIL_NOW",PAY_OR_REQUEST:"PAY_OR_REQUEST",SEARCH:"SEARCH",GET_SHOWTIMES:"GET_SHOWTIMES",TRY_IT:"TRY_IT",LISTEN_NOW:"LISTEN_NOW",TRY_ON:"TRY_ON",TRY_DEMO:"TRY_DEMO",WOODHENGE_SUPPORT:"WOODHENGE_SUPPORT",SOTTO_SUBSCRIBE:"SOTTO_SUBSCRIBE",SEARCH_MORE:"SEARCH_MORE",FOLLOW_USER:"FOLLOW_USER",BLOOD_DONATIONS:"BLOOD_DONATIONS",CLAIM_OFFER:"CLAIM_OFFER",RAISE_MONEY:"RAISE_MONEY",SEE_SHOP:"SEE_SHOP",GET_DETAILS:"GET_DETAILS",FIND_OUT_MORE:"FIND_OUT_MORE",VISIT_WEBSITE:"VISIT_WEBSITE",BROWSE_SHOP:"BROWSE_SHOP",UNLIKE_PAGE:"UNLIKE_PAGE",BET_NOW:"BET_NOW",OPEN_MOVIES:"OPEN_MOVIES",EVENT_RSVP:"EVENT_RSVP",INTERESTED:"INTERESTED",GO_LIVE:"GO_LIVE",SEND_TIP:"SEND_TIP",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",GET_EVENT_TICKETS:"GET_EVENT_TICKETS",VIEW_INSTAGRAM_PROFILE:"VIEW_INSTAGRAM_PROFILE",INSTAGRAM_MESSAGE:"INSTAGRAM_MESSAGE",FOLLOW_NEWS_STORYLINE:"FOLLOW_NEWS_STORYLINE",LINK_CARD:"LINK_CARD",PRE_REGISTER:"PRE_REGISTER",SEE_MORE:"SEE_MORE",WATCH_APP_UPGRADE:"WATCH_APP_UPGRADE",LOYALTY_LEARN_MORE:"LOYALTY_LEARN_MORE",ACTIVATE_OFFER:"ACTIVATE_OFFER",BOOK_NOW:"BOOK_NOW",BOOK_TEST_DRIVE:"BOOK_TEST_DRIVE",CHECK_AVAILABILITY:"CHECK_AVAILABILITY",FIND_A_GROUP:"FIND_A_GROUP",FIND_YOUR_GROUPS:"FIND_YOUR_GROUPS",REMIND_ME:"REMIND_ME",SAVE_OFFER:"SAVE_OFFER",SEE_OFFER:"SEE_OFFER",PAY_TO_ACCESS:"PAY_TO_ACCESS",PURCHASE_GIFT_CARDS:"PURCHASE_GIFT_CARDS",FOLLOW_PAGE:"FOLLOW_PAGE",SEND_A_GIFT:"SEND_A_GIFT",JOBS_APPLY_NOW:"JOBS_APPLY_NOW",VIEW_RESUME:"VIEW_RESUME",SWIPE_UP_SHOP:"SWIPE_UP_SHOP",SWIPE_UP_PRODUCT:"SWIPE_UP_PRODUCT",SEND_GIFT_MONEY:"SEND_GIFT_MONEY",SEND_GIFT:"SEND_GIFT",WATCH_MUSIC_VIDEO:"WATCH_MUSIC_VIDEO",TRY_IN_CAMERA:"TRY_IN_CAMERA",WHATSAPP_LINK:"WHATSAPP_LINK",PLAY_GAME_ON_FACEBOOK:"PLAY_GAME_ON_FACEBOOK",GET_STARTED:"GET_STARTED",VISIT_WORLD:"VISIT_WORLD",OPEN_INSTANT_APP:"OPEN_INSTANT_APP",AUDIO_CALL:"AUDIO_CALL",JOIN_GROUP:"JOIN_GROUP",GET_PROMOTIONS:"GET_PROMOTIONS",JOIN_CHANNEL:"JOIN_CHANNEL",VISIT_PROFILE:"VISIT_PROFILE",CHAT_ON_WHATSAPP:"CHAT_ON_WHATSAPP",EXPLORE_MORE:"EXPLORE_MORE",PLAY:"PLAY",MAKE_AN_APPOINTMENT:"MAKE_AN_APPOINTMENT",ASK_ABOUT_SERVICES:"ASK_ABOUT_SERVICES",BOOK_A_CONSULTATION:"BOOK_A_CONSULTATION",GET_A_QUOTE:"GET_A_QUOTE",BUY_VIA_MESSAGE:"BUY_VIA_MESSAGE",ASK_FOR_MORE_INFO:"ASK_FOR_MORE_INFO",CHAT_WITH_US:"CHAT_WITH_US",VIEW_PRODUCT:"VIEW_PRODUCT",VIEW_CHANNEL:"VIEW_CHANNEL",GET_IN_TOUCH:"GET_IN_TOUCH",WATCH_LIVE_VIDEO:"WATCH_LIVE_VIDEO",IMAGINE:"IMAGINE",SHOP_WITH_AI:"SHOP_WITH_AI",TRY_ON_WITH_AI:"TRY_ON_WITH_AI",TRY_NOW:"TRY_NOW"});f["default"]=a}),66);
__d("CometPhotoEditorTagPopover.react",["fbt","BasePopover.react","BasePopoverSVGArrowContainer.react","FDSCrossFilled16Icon","FDSIcon.react","FDSListCell.react","FDSText.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.isDeleting,f=a.removeTag;a=a.userName;var g;b[0]!==a?(g=h._(/*BTDS*/"Tag information for {userName}",[h._param("userName",a)]),b[0]=a,b[1]=g):g=b[1];var i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x2bj2ny x1obq294 x5a5i1n xde0f50 x15x8krk x8ii3r7 x78zum5 x1fayt1i x1qughib xc3hqiw x1y1aw1k xwib8y2 xf7dkkf xv54qhq"},b[2]=i):i=b[2];var k;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"delete tag"),b[3]=k):k=b[3];var l=e?"disabled":"primary";f=e?c("emptyFunction"):f;b[4]!==e||b[5]!==l||b[6]!==f?(k=j.jsx(c("FDSIcon.react"),{"aria-label":k,color:l,disabled:e,icon:c("FDSCrossFilled16Icon"),onPress:f}),b[4]=e,b[5]=l,b[6]=f,b[7]=k):k=b[7];b[8]!==a?(e=j.jsx(c("FDSText.react"),{type:"headline4",children:a}),b[8]=a,b[9]=e):e=b[9];b[10]!==k||b[11]!==e?(l=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("FDSListCell.react"),{addOnEnd:k,content:e})})),b[10]=k,b[11]=e,b[12]=l):l=b[12];b[13]!==g||b[14]!==l?(f=j.jsx(c("BasePopover.react"),{"aria-label":g,arrowImpl:c("BasePopoverSVGArrowContainer.react"),children:l}),b[13]=g,b[14]=l,b[15]=f):f=b[15];return f}g["default"]=a}),226);
__d("CometPhotoCustomizedProductTagMenuItem.react",["fbt","ix","CometPressable.react","CometRow.react","CometRowItem.react","CometTheme.react","FDSIcon.react","FDSPopover.react","FDSText.react","fbicon","isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(46),e=a.perUnitPrice,f=a.strikeThroughPrice,g=!c("isStringNullOrEmpty")(f),j;b[0]!==g||b[1]!==f?(j=g?k.jsx("div",{className:"x1dntmbh x1ks1olk x135b78x xmqliwb",children:k.jsx(c("FDSText.react"),{color:"secondary",numberOfLines:1,type:"body3",children:f})}):null,b[0]=g,b[1]=f,b[2]=j):j=b[2];f=j;b[3]!==g||b[4]!==e?(j=c("isStringNullOrEmpty")(e)?null:k.jsx("div",babelHelpers["extends"]({},{0:{},2:{className:"x1yrsyyn"},1:{className:"xdzw4kq"},3:{className:"x1yrsyyn xdzw4kq"}}[!!g<<1|!!!g<<0],{children:k.jsx(c("FDSText.react"),{color:"secondary",type:"body4",children:"("+e+")"})})),b[3]=g,b[4]=e,b[5]=j):j=b[5];e=j;j=g?"highlight":"secondary";var l;b[6]!==a.productPrice||b[7]!==j?(l=k.jsx(c("CometRowItem.react"),{children:k.jsx(c("FDSText.react"),{color:j,type:"body3",children:a.productPrice})}),b[6]=a.productPrice,b[7]=j,b[8]=l):l=b[8];b[9]!==f?(j=k.jsx(c("CometRowItem.react"),{children:f}),b[9]=f,b[10]=j):j=b[10];b[11]!==g||b[12]!==e?(f=!g&&k.jsx(c("CometRowItem.react"),{children:e}),b[11]=g,b[12]=e,b[13]=f):f=b[13];var m;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx(c("CometRowItem.react"),{children:k.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(i("492547"),10)})}),b[14]=m):m=b[14];b[15]!==l||b[16]!==j||b[17]!==f?(m=k.jsx(c("CometTheme.react"),{theme:"light",children:k.jsxs(c("CometRow.react"),{align:"start",paddingHorizontal:0,paddingTop:8,spacing:0,verticalAlign:"center",children:[l,j,f,m]})}),b[15]=l,b[16]=j,b[17]=f,b[18]=m):m=b[18];l=m;b[19]!==a.productName?(j=k.jsx(c("CometTheme.react"),{theme:"light",children:k.jsx(c("FDSText.react"),{color:"primary",numberOfLines:2,type:"bodyLink3",children:a.productName})}),b[19]=a.productName,b[20]=j):j=b[20];f=j;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(m={referralUIComponent:"PRODUCT_TAG"},b[21]=m):m=b[21];b[22]!==a.productItemURL?(j={passthroughProps:m,url:a.productItemURL},b[22]=a.productItemURL,b[23]=j):j=b[23];b[24]!==a?(m=function(b){a.allowProductTags?(b.stopPropagation(),b.nativeEvent.stopImmediatePropagation()):a.logClick()},b[24]=a,b[25]=m):m=b[25];var n;b[26]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x78zum5 x1q0g3np xh8yej3 x6s0dn4"},b[26]=n):n=b[26];b[27]!==l?(n=k.jsx("div",babelHelpers["extends"]({},n,{children:l})),b[27]=l,b[28]=n):n=b[28];l=g&&e;b[29]!==f||b[30]!==n||b[31]!==l?(g=k.jsxs(c("CometRowItem.react"),{expanding:!0,children:[f,n,l]}),b[29]=f,b[30]=n,b[31]=l,b[32]=g):g=b[32];b[33]!==a.aux?(e=k.jsx(c("CometRowItem.react"),{children:a.aux}),b[33]=a.aux,b[34]=e):e=b[34];b[35]!==g||b[36]!==e?(f=k.jsxs(c("CometRow.react"),{paddingHorizontal:8,paddingVertical:8,children:[g,e]}),b[35]=g,b[36]=e,b[37]=f):f=b[37];b[38]!==j||b[39]!==m||b[40]!==f?(n=k.jsx(c("CometPressable.react"),{linkProps:j,onPress:m,children:f}),b[38]=j,b[39]=m,b[40]=f,b[41]=n):n=b[41];l=n;b[42]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1xmf6yo x1e4dklr"},b[42]=g):g=b[42];b[43]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Product details popover showing name, price, and other product information"),b[43]=e):e=b[43];b[44]!==l?(j=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("CometTheme.react"),{theme:"light",children:k.jsx(c("FDSPopover.react"),{"aria-label":e,withArrow:!0,children:l})})})),b[44]=l,b[45]=j):j=b[45];return j}g["default"]=a}),226);
__d("CometPhotoProductTagMenuItem.react",["CometImage.react","CometPhotoCustomizedProductTagMenuItem.react","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CometSharedPostInGroupContext","CommercePdpProductTagClickFalcoEvent","FDSMenuItemBase.react","FDSText.react","MediaEditorViewStateContext","XCometCommerceProductItemControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||(i=d("react")),k=i.useContext,l=70,m="#",n="group_",o="product_tag_on_photo_fullscreen_",p="product_tag_on_newsfeed_photo_",q="product_tag_on_group_mall_photo_",r="unconnected_commerce_product_match_on_photo_fullscreen_",s="unconnected_commerce_product_match_on_newsfeed_photo_fullscreen_";function a(a){var b,e,f=d("react-compiler-runtime").c(66),g,i;f[0]!==a?(i=a.ref,g=babelHelpers.objectWithoutPropertiesLoose(a,h),f[0]=a,f[1]=g,f[2]=i):(g=f[1],i=f[2]);a=g;var n=a.adID,o=a.isGroupPost,p=a.isProductMatch,q=a.perUnitPrice,r=a.postID,s=a.productID;a=a.strikeThroughPrice;var x=k(c("CometProductTagFunnelIDContext"));b=(b=k(c("MediaEditorViewStateContext")))==null?void 0:b.activeTool;var y=k(c("CometSharedPostInGroupContext"));y=y.isSharedPostInGroup;var z=k(c("CometProductTagReferralCodeContext"));if(r==null||s==null)return null;var A,B;f[3]!==n||f[4]!==z||f[5]!==x||f[6]!==o||f[7]!==p||f[8]!==y||f[9]!==r||f[10]!==s?(A=function(){c("CommercePdpProductTagClickFalcoEvent").log(function(){return{ad_id:n,component:"CometPhotoProductTagMenuItem",funnel_id:x,marketplace_surface:"photo_fullscreen",post_id:r,product_id:s,referral_code:B+r}})},B=v(z,p===!0,o===!0||y),f[3]=n,f[4]=z,f[5]=x,f[6]=o,f[7]=p,f[8]=y,f[9]=r,f[10]=s,f[11]=A,f[12]=B):(A=f[11],B=f[12]);z=B+r;f[13]!==x||f[14]!==s||f[15]!==z?(o=c("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:s,ref:"photo_fullscreen",referral_code:x!=null?z+m+x:z}),f[13]=x,f[14]=s,f[15]=z,f[16]=o):o=f[16];p=o;y=u;z=a!=null&&a!=="";f[17]!==z||f[18]!==a?(o=z?j.jsx("span",{className:"xdzw4kq xmqliwb",children:j.jsx(c("FDSText.react"),{color:"secondary",type:"body4",children:a})}):null,f[17]=z,f[18]=a,f[19]=o):o=f[19];z=o;f[20]!==z||f[21]!==q?(o=q!=null&&q!==""?j.jsx("div",babelHelpers["extends"]({},{0:{},2:{className:"x1yrsyyn"},1:{className:"xdzw4kq"},3:{className:"x1yrsyyn xdzw4kq"}}[!!z<<1|!!!z<<0],{children:j.jsx(c("FDSText.react"),{color:"secondary",type:"body4",children:"("+q+")"})})):null,f[20]=z,f[21]=q,f[22]=o):o=f[22];o=o;var C=g.tagModeEnabled===!0||b==="PRODUCT_TAG";f[23]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1q0g3np x16em4ew"},f[23]=b):b=f[23];e=(e=g.profilePictureUri)!=null?e:"";var D;f[24]!==e?(D=j.jsx("div",{children:j.jsx(c("CometImage.react"),{height:l,src:e,width:l,xstyle:w.profileImage})}),f[24]=e,f[25]=D):D=f[25];var E;f[26]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1diwwjn"},E={className:"x12nagc"},f[26]=e,f[27]=E):(e=f[26],E=f[27]);f[28]!==g.primaryText?(E=j.jsx("div",babelHelpers["extends"]({},E,{children:j.jsx(c("FDSText.react"),{color:"primary",numberOfLines:2,type:"bodyLink3",children:g.primaryText})})),f[28]=g.primaryText,f[29]=E):E=f[29];var F;f[30]===Symbol["for"]("react.memo_cache_sentinel")?(F={className:"x6s0dn4 x78zum5 x1q0g3np x1yrsyyn"},f[30]=F):F=f[30];var G;f[31]!==g.bodyText?(G=j.jsx(c("FDSText.react"),{color:"primary",type:"body3",children:g.bodyText}),f[31]=g.bodyText,f[32]=G):G=f[32];var H=!z&&o;f[33]!==z||f[34]!==G||f[35]!==H?(F=j.jsxs("div",babelHelpers["extends"]({},F,{children:[G,z,H]})),f[33]=z,f[34]=G,f[35]=H,f[36]=F):F=f[36];G=z&&o;f[37]!==F||f[38]!==G||f[39]!==E?(H=j.jsxs("div",babelHelpers["extends"]({},e,{children:[E,F,G]})),f[37]=F,f[38]=G,f[39]=E,f[40]=H):H=f[40];f[41]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x9q68il x67bb7w x10l6tqk x1tk7jg1"},f[41]=z):z=f[41];f[42]!==g.aux?(o=j.jsx("div",babelHelpers["extends"]({},z,{children:g.aux})),f[42]=g.aux,f[43]=o):o=f[43];f[44]!==H||f[45]!==o||f[46]!==D?(e=j.jsxs("div",babelHelpers["extends"]({},b,{children:[D,H,o]})),f[44]=H,f[45]=o,f[46]=D,f[47]=e):e=f[47];f[48]!==C||f[49]!==e?(F=j.jsx(y,{condition:C,wrapper:t,children:e}),f[48]=C,f[49]=e,f[50]=F):F=f[50];G=F;E=C?"#":p;if(f[51]!==C||f[52]!==A||f[53]!==q||f[54]!==E||f[55]!==G||f[56]!==g.aux||f[57]!==g.bodyText||f[58]!==g.primaryText||f[59]!==g.productID||f[60]!==g.productTagID||f[61]!==g.profilePictureUri||f[62]!==g.useNewProductTags||f[63]!==i||f[64]!==a){H=Boolean(g.useNewProductTags)?j.jsx(c("CometPhotoCustomizedProductTagMenuItem.react"),{allowProductTags:C,aux:g.aux,logClick:A,perUnitPrice:q,primaryText:"",productID:g.productID,productItemURL:E,productName:g.primaryText.toString(),productPrice:(z=g.bodyText)==null?void 0:z.toString(),productTagID:g.productTagID,profilePictureUri:(b=g.profilePictureUri)!=null?b:"",strikeThroughPrice:a,useNewProductTags:g.useNewProductTags}):j.jsx(c("FDSMenuItemBase.react"),{alignCenter:!0,href:E,iconNode:G,onClick:function(a){C?(a.stopPropagation(),a.nativeEvent.stopImmediatePropagation()):A()},passthroughProps:{referralUIComponent:"PRODUCT_TAG"},primaryText:"",ref:i});f[51]=C;f[52]=A;f[53]=q;f[54]=E;f[55]=G;f[56]=g.aux;f[57]=g.bodyText;f[58]=g.primaryText;f[59]=g.productID;f[60]=g.productTagID;f[61]=g.profilePictureUri;f[62]=g.useNewProductTags;f[63]=i;f[64]=a;f[65]=H}else H=f[65];return H}function t(a){return j.jsx("div",{className:"x1h6gzvc",children:a})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.children,c=a.condition;a=a.wrapper;return c?a(b):b}function v(a,b,c){var d=a==="newsfeed";a=a==="group_mall";c=a||c?n:"";d?d=b?s:p:a?d=q:d=b?r:o;return c+d}var w={profileImage:{borderTopColor:"x1exxf4d",borderInlineEndColor:"xpv9jar",borderBottomColor:"x1nb4dca",borderInlineStartColor:"x1nmn18",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0}};g["default"]=a}),98);
__d("maybeSanitizeXYTag",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=95;function a(a){return!c("gkx")("13180")?a:j(a)}function b(a){return a==null||!c("gkx")("14875")?a:j(a)}function j(a){var b=Math.min(Math.max(h,a.x),i),c=Math.min(Math.max(h,a.y),i);return babelHelpers["extends"]({},a,{x:b,y:c})}g.maybeSanitizeXYTagOnCreateTag=a;g.maybeSanitizeXYTagOnMutation=b}),98);
__d("updateTagReducer",["SharedAIProductTagUtils","maybeSanitizeXYTag"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return d("SharedAIProductTagUtils").isPointNearbyPoint(a,b,c.x,c.y)}function a(a,b){var c;switch(b.type){case"REMOVE_TAG":return babelHelpers["extends"]({},a,{tags:((c=a.tags)!=null?c:[]).filter(function(a){var c;return(a==null||(c=a.taggee)==null?void 0:c.id)!==b.tagToDelete})});case"ADD_TAG":return babelHelpers["extends"]({},a,{tags:[].concat((c=a.tags)!=null?c:[],[d("maybeSanitizeXYTag").maybeSanitizeXYTagOnCreateTag(b.newTag)]),unknownProductTagSuggestions:((c=a.unknownProductTagSuggestions)!=null?c:[]).filter(function(a){return!h(a.x,a.y,b.newTag)})});case"RESTORE_TAGS":return babelHelpers["extends"]({},a,{tags:(c=b.tags)!=null?c:[]});case"SET_VIDEO_PRODUCT_TAGS":return babelHelpers["extends"]({},a,{videoProductTags:(c=b.videoProductTags)!=null?c:[]});case"ADD_KNOWN_AI_SUGGESTED_PRODUCT_TAG":var e={source:b.newAISuggestedProductTag.source,taggee:b.newAISuggestedProductTag.taggee,x:b.newAISuggestedProductTag.x,y:b.newAISuggestedProductTag.y};return babelHelpers["extends"]({},a,{tags:((c=a.tags)!=null?c:[]).filter(function(a){return a.taggee.id===e.taggee.id}).length>0?(c=a.tags)!=null?c:[]:[].concat((c=a.tags)!=null?c:[],[d("maybeSanitizeXYTag").maybeSanitizeXYTagOnCreateTag(e)])});case"ADD_UNKNOWN_AI_SUGGESTED_PRODUCT_TAG":return babelHelpers["extends"]({},a,{unknownProductTagSuggestions:((c=a.unknownProductTagSuggestions)!=null?c:[]).includes(b.newUnknownSuggestedProductTag)||((c=a.tags)!=null?c:[]).some(function(a){return h(b.newUnknownSuggestedProductTag.x,b.newUnknownSuggestedProductTag.y,a)})?(c=a.unknownProductTagSuggestions)!=null?c:[]:[].concat((c=a.unknownProductTagSuggestions)!=null?c:[],[b.newUnknownSuggestedProductTag])});case"SET_SAVE_PRODUCT_TAGS_DISABLED":return babelHelpers["extends"]({},a,{isSaveProductTagsDisabled:b.shouldDisable});case"RESET":if(b.finalMutatedMediaAttachment.fileType==="PHOTO"){return babelHelpers["extends"]({},a,{tags:((c=b.finalMutatedMediaAttachment.data.tags)!=null?c:[]).filter(Boolean)})}}return a}g["default"]=a}),98);
__d("useComposerViewStateDispatcher",["CometComposerViewStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometComposerViewStateDispatcherContext"))}g["default"]=a}),98);
__d("MediaEditorViewStateReducerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({current:new Map()});g["default"]=b}),98);
__d("useContextRef",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useContext,j=b.useEffect;function a(a,b){var c=d("react-compiler-runtime").c(4);b=i(b);var e=b.current,f;c[0]!==e||c[1]!==a?(b=function(){if(e.has(a)){var b=e.get(a);e.set(a,b+1)}else e.set(a,1);return function(){var b=e.get(a);b!==void 0&&(b===1?e["delete"](a):e.set(a,b-1))}},f=[e,a],c[0]=e,c[1]=a,c[2]=b,c[3]=f):(b=c[2],f=c[3]);j(b,f)}g["default"]=a}),98);
__d("useMediaEditorReducer",["MediaEditorViewStateReducerContext","useContextRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useContextRef")(a,c("MediaEditorViewStateReducerContext"))}g["default"]=a}),98);
__d("MediaEditorViewStateDispatcherContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("useMediaEditorViewStateDispatcher",["MediaEditorViewStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("MediaEditorViewStateDispatcherContext"))}g["default"]=a}),98);
__d("CometPhotoEditorTagDropdown.react",["fbt","CometPhotoEditorTagPopover.react","CometPhotoProductTagMenuItem.react","CometTrackingNodeProvider.react","FDSCrossFilled16Icon","FDSIcon.react","FDSTooltip.react","emptyFunction","react","react-compiler-runtime","updateTagReducer","useComposerViewStateDispatcher","useMediaEditorReducer","useMediaEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(32),e=a.id,f=a.name,g=a.onDeletePressed,i=a.onMouseEnter,l=a.onMouseLeave,m=a.photoID,n=a.productImage,o=a.productPerUnitPrice;a=a.productPrice;var p=k(!1),q=p[0],r=p[1],s=c("useComposerViewStateDispatcher")();c("useMediaEditorReducer")(c("updateTagReducer"));var t=c("useMediaEditorViewStateDispatcher")();b[0]!==s||b[1]!==t||b[2]!==g||b[3]!==m?(p=function(a){g&&g(),t({tagToDelete:a,type:"REMOVE_TAG"}),s({mediaID:m!=null?m:"",tagIDToDelete:a,type:"REMOVE_AI_SUGGESTED_TAG"})},b[0]=s,b[1]=t,b[2]=g,b[3]=m,b[4]=p):p=b[4];var u=p;p=f;var v;b[5]!==u||b[6]!==e?(v=function(){u&&u(e),r(!0)},b[5]=u,b[6]=e,b[7]=v):v=b[7];v=v;var w=null;if(f!=null&&n!=null&&n!==""&&a!=null&&e!=null){var x;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"Remove Product Tag"),b[8]=x):x=b[8];var y;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(y=h._(/*BTDS*/"delete tag"),b[9]=y):y=b[9];var z=q?"disabled":"primary",A=q?c("emptyFunction"):v;b[10]!==q||b[11]!==z||b[12]!==A?(x=j.jsx(c("FDSTooltip.react"),{position:"above",tooltip:x,children:j.jsx(c("FDSIcon.react"),{"aria-label":y,color:z,disabled:q,icon:c("FDSCrossFilled16Icon"),onPress:A,testid:void 0})}),b[10]=q,b[11]=z,b[12]=A,b[13]=x):x=b[13];y=o!=null?o:"";b[14]!==e||b[15]!==q||b[16]!==m||b[17]!==n||b[18]!==a||b[19]!==x||b[20]!==y||b[21]!==p?(z=j.jsx(c("CometPhotoProductTagMenuItem.react"),{aux:x,bodyText:a,disabled:q,perUnitPrice:y,postID:m,primaryText:p,productID:e,profilePictureUri:n,useNewProductTags:!0}),b[14]=e,b[15]=q,b[16]=m,b[17]=n,b[18]=a,b[19]=x,b[20]=y,b[21]=p,b[22]=z):z=b[22];A=z;w=A}else if(f!=null){b[23]!==q||b[24]!==v||b[25]!==p?(o=j.jsx(c("CometPhotoEditorTagPopover.react"),{isDeleting:q,removeTag:v,userName:p}),b[23]=q,b[24]=v,b[25]=p,b[26]=o):o=b[26];w=o}b[27]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x78zum5"},b[27]=n):n=b[27];b[28]!==i||b[29]!==l||b[30]!==w?(a=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:254,children:j.jsx("div",babelHelpers["extends"]({},n,{onMouseEnter:i,onMouseLeave:l,children:w}))}),b[28]=i,b[29]=l,b[30]=w,b[31]=a):a=b[31];return a}g["default"]=a}),226);
__d("FDSShopsFilled16Icon",["cr:15666"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15666")}),98);
__d("CometProductTagDotHint.react",["FDSIcon.react","FDSShopsFilled16Icon","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={dotHint:{backgroundClip:"xx83zyx",backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},dotHintWithIcon:{backgroundColor:"x86vgt0",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.borderSize,f=a.dotSize,g=a.isHighlighted,i=a.padding;a=a.showShopIconInDot;g=Boolean(g)?"var(--accent)":"var(--fds-black-alpha-20)";var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l="x6s0dn4 x78zum5 xl56j7k",b[0]=l):l=b[0];var m;b[1]!==i?(m={padding:i},b[1]=i,b[2]=m):m=b[2];i=a===!0?k.dotHintWithIcon:k.dotHint;var n;b[3]!==i?(n=(h||(h=c("stylex")))(i),b[3]=i,b[4]=n):n=b[4];i=e+"px solid "+g;b[5]!==f||b[6]!==i?(e={border:i,height:f,width:f},b[5]=f,b[6]=i,b[7]=e):e=b[7];b[8]!==a?(g=a===!0?j.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSShopsFilled16Icon"),size:16}):null,b[8]=a,b[9]=g):g=b[9];b[10]!==n||b[11]!==e||b[12]!==g?(f=j.jsx("div",{className:n,style:e,children:g}),b[10]=n,b[11]=e,b[12]=g,b[13]=f):f=b[13];b[14]!==m||b[15]!==f?(i=j.jsx("div",{className:l,style:m,children:f}),b[14]=m,b[15]=f,b[16]=i):i=b[16];return i}g["default"]=a}),98);
__d("CometAIProductTagBox.react",["fbt","CometContextualLayer.react","CometPhotoEditorTagDropdown.react","CometPressable.react","CometProductTagDotHint.react","CometProductTaggingConstants","react","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useReducer,n=e.useRef,o=e.useState;function b(b){var e=b.isAddingTag,f=b.isHighlighted,g=b.knownTag,i=b.logImpression,p=b.onDeletePressed,q=b.onHover;b=b.photoID;c("vulture")("Hf2xM9rVtkEylFYB9OSmVCbkrH4=");var r=o(!1),s=r[0],t=r[1];r=m(function(a){return a+1});r[0];var u=r[1],v=n(null),w=n(null),x=k(function(){w.current!=null&&w.current.reposition({autoflip:!0})},[]);l(function(){a.addEventListener("resize",x);return function(){a.removeEventListener("resize",x)}},[x]);var y=n(i);l(function(){y.current&&y.current()},[]);var z=function(a){t(a),q(a)};return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"x71s49j x10l6tqk",ref:function(a){v.current=a,u()},style:{left:"calc("+g.x+"% - "+d("CometProductTaggingConstants").TOTAL_DOT_SIZE+"px / 2",top:"calc("+g.y+"% - "+d("CometProductTaggingConstants").TOTAL_DOT_SIZE+"px / 2"},children:v.current&&f&&j.jsx(c("CometPressable.react"),{"aria-label":h._(/*BTDS*/"Tag dot"),onHoverChange:z,overlayDisabled:!0,children:j.jsx(c("CometProductTagDotHint.react"),{borderSize:d("CometProductTaggingConstants").DOT_HINT_BORDER_SIZE,dotSize:d("CometProductTaggingConstants").DOT_HINT_DOT_SIZE,isHighlighted:f,padding:d("CometProductTaggingConstants").DOT_HINT_PADDING})})}),v.current&&(f||s)&&j.jsx(c("CometContextualLayer.react"),{align:"middle",context_DEPRECATED:v.current,imperativeRef:w,position:"below",children:j.jsx(c("CometPhotoEditorTagDropdown.react"),{id:(r=g.productID)!=null?r:"",name:(i=g.taggee.name)!=null?i:"",onDeletePressed:p,onMouseEnter:function(){e||z(!0)},onMouseLeave:function(){z(!1)},photoID:b,productImage:(f=g.taggee.image_uri)!=null?f:"",productPerUnitPrice:(s=g.taggee.product_per_unit_price)!=null?s:"",productPrice:(r=g.taggee.product_price)!=null?r:""})},g.productID)]})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),226);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function(a,b,c,d,e,f,g){a="slice";(b=d("UserAgent_DEPRECATED").chrome())?b<21&&(a="webkitSlice"):(b=d("UserAgent_DEPRECATED").firefox())?b<13&&(a="mozSlice"):d("UserAgent_DEPRECATED").safari()||d("UserAgent_DEPRECATED").webkit()&&(a="webkitSlice");c=a;g["default"]=c}),98);
__d("fileSlice",["fileSliceName"],(function(a,b,c,d,e,f,g){b=a.File&&a.File.prototype[c("fileSliceName")];b||(b=a.Blob&&a.Blob.prototype[c("fileSliceName")]);d=b;g["default"]=d}),98);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function(a,b,c,d,e,f,g){function a(){return typeof c("fileSlice")==="function"&&h()}function b(){return!d("UserAgent_DEPRECATED").firefox()}function e(){return"FileList"in window}function f(){return"FileReader"in window&&"DataView"in window}function h(){return"FormData"in window}g.supportsChunking=a;g.supportsFullProgress=b;g.supportsFileAPI=e;g.supportsFileReading=f;g.supportsXHR=h}),98);
__d("VideoUploadFile",["VideoUploadFeatureDetector","fileSlice","md5"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d==null?void 0:d.toLowerCase()}a.fromBlob=function(b){var c=b.type.indexOf("/")!=-1?"."+b.type.split("/").pop().toLowerCase():"";c="blob"+c;c=new File([b],c,{type:b.type});return a.fromFile(c)};a.fromFile=function(b){var c=a.getExtensionFromFileName(b.name);return new this(null,b,b.size,c)};a.fromFileInput=function(b){var c=null,e=null,f=a.getExtensionFromFileInput(b);d("VideoUploadFeatureDetector").supportsFileAPI()&&b.files.length&&(c=b.files[0],e=c.size);return new this(b,c,e,f)};var b=a.prototype;b.getFileInput=function(){return this.$1};b.getFile=function(){return this.$2};b.getSize=function(){return this.$3};b.getExtension=function(){return this.$4};b.getCreatorProduct=function(){return this.$4==="gif"?4:2};b.getChunk=function(a,b){return this.$2!=null?c("fileSlice").call(this.$2,a,b):null};b.getFilePath=function(){var a;return(a=this.$2)==null?void 0:a.name};b.getStableAssetID=function(){var a;return(a=c("md5")(this.getFilePath()))!=null?a:"unknown"};a.getExtensionFromFileInput=function(a){return this.getExtensionFromFileName(a.value)};a.getExtensionFromFileName=function(a){return a!=null&&a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():""};return a}();g["default"]=a}),98);
__d("MediaCancelledPostFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743938");b=d("FalcoLoggerInternal").create("media_cancelled_post_flow",a);e=b;g["default"]=e}),98);
__d("MediaFailedPostFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743939");b=d("FalcoLoggerInternal").create("media_failed_post_flow",a);e=b;g["default"]=e}),98);
__d("MediaFinishedPostFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743940");b=d("FalcoLoggerInternal").create("media_finished_post_flow",a);e=b;g["default"]=e}),98);
__d("MediaStartedPostFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743941");b=d("FalcoLoggerInternal").create("media_started_post_flow",a);e=b;g["default"]=e}),98);
__d("VideoUploadLoggerEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({EVENT_STARTED_GENERATE_THUMBNAILS:"upload.client.started_generate_thumbnails",EVENT_FINISHED_GENERATE_THUMBNAILS:"upload.client.finished_generate_thumbnails",EVENT_SELECTED_CUSTOM_THUMBNAIL:"upload.client.selected_custom_thumbnail",EVENT_VIDEO_DIMENSIONS_UNREADABLE:"upload.client.video_dimensions_unreadable",EVENT_REPLACE_VIDEO:"upload.client.replace_video",EVENT_STARTED_FLOW:"upload.client.started_flow",EVENT_FINISHED_FLOW:"upload.client.finished_flow",EVENT_FAILED_FLOW:"upload.client.failed_flow",EVENT_CANCELED_FLOW:"upload.client.canceled_flow",EVENT_RESIGNED_FLOW:"upload.client.resigned_flow",EVENT_REQUESTED_UPLOADING:"upload.client.requested_uploading",EVENT_INVALIDATED_UPLOADING:"upload.client.invalidated_uploading",EVENT_STARTED_UPLOADING:"upload.client.started_uploading",EVENT_PROGRESS_UPLOADING_START_REQUEST:"upload.client.progress_uploading_start_request",EVENT_FINISHED_UPLOADING:"upload.client.finished_uploading",EVENT_CANCELED_UPLOADING:"upload.client.canceled_uploading",EVENT_ABANDONED_UPLOADING:"upload.client.abandoned_uploading",EVENT_FAILED_UPLOADING:"upload.client.failed_uploading",EVENT_STARTED_SENDING_BYTES:"upload.client.started_sending_bytes",EVENT_FINISHED_SENDING_BYTES:"upload.client.finished_sending_bytes",EVENT_CANCELED_SENDING_BYTES:"upload.client.canceled_sending_bytes",EVENT_FAILED_SENDING_BYTES:"upload.client.failed_sending_bytes",EVENT_STARTED_START_REQUEST:"upload.client.started_sending_start_request",EVENT_FINISHED_START_REQUEST:"upload.client.finished_sending_start_request",EVENT_FAILED_START_REQUEST:"upload.client.failed_sending_start_request",EVENT_CANCELED_START_REQUEST:"upload.client.canceled_sending_start_request",EVENT_STARTED_RECEIVE_REQUEST:"upload.client.started_sending_receive_request",EVENT_FINISHED_RECEIVE_REQUEST:"upload.client.finished_sending_receive_request",EVENT_FAILED_RECEIVE_REQUEST:"upload.client.failed_sending_receive_request",EVENT_STARTED_POST_REQUEST:"upload.client.started_sending_post_request",EVENT_FINISHED_POST_REQUEST:"upload.client.finished_sending_post_request",EVENT_FAILED_POST_REQUEST:"upload.client.failed_sending_post_request",EVENT_HANDLING_SERVER_FAILURE_RESPONSE:"upload.client.handling_server_failure_response",EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE:"upload.client.handling_transport_failure_response",EVENT_DUPLICATE_POST_REQUEST:"upload.client.duplicate_post_request",EVENT_STARTED_SENDING_CHUNK_BYTES:"upload.client.started_sending_chunk_bytes",EVENT_FINISHED_SENDING_CHUNK_BYTES:"upload.client.finished_sending_chunk_bytes",EVENT_CANCELED_SENDING_CHUNK_BYTES:"upload.client.canceled_sending_chunk_bytes",EVENT_FAILED_SENDING_CHUNK_BYTES:"upload.client.failed_sending_chunk_bytes",EVENT_TIMEOUT_SENDING_CHUNK_BYTES:"upload.client.timeout_sending_chunk_bytes",EVENT_STARTED_FETCHING_STATUS:"upload.client.started_fetching_status",EVENT_FINISHED_FETCHING_STATUS:"upload.client.finished_fetching_status",EVENT_STARTED_POST_FLOW:"upload.client.started_post_flow",EVENT_FINISHED_POST_FLOW:"upload.client.finished_post_flow",EVENT_CANCELED_POST_FLOW:"upload.client.canceled_post_flow",EVENT_FAILED_POST_FLOW:"upload.client.failed_post_flow",EVENT_RETRY_ATTEMPT:"upload.client.retry_attempt",EVENT_RESUMABLE_CALLED:"upload.client.resumable_called",EVENT_RESUMABLE_STARTED:"upload.client.resumable_started",EVENT_RESUMABLE_SUCCESS:"upload.client.resumable_success",EVENT_RESUMABLE_FAILED:"upload.client.resumable_failed",EVENT_ENCODING_START_OBSERVED:"encode.client.encoding_start_observed",EVENT_ENCODING_SUCCESS_OBSERVED:"encode.client.encoding_success_observed",EVENT_ENCODING_FAIL_OBSERVED:"encode.client.encoding_fail_observed",EVENT_ENCODING_ABORT_OBSERVED:"encode.client.encoding_abort_observed",EVENT_FETCH_FAIL_OBSERVED:"encode.client.fetch_video_info_fail_observed",EVENT_ENCODING_SUBSCRIBE_TO_VIDEO_STATUS:"encode.client.subscribe_to_video_status",EVENT_ENCODING_POLLING_FALLBACK:"encode.client.polling_fallback",EVENT_RECEIVED_RESPONSE:"upload.client.received_response",EVENT_STARTED_FLOW_EXP1:"upload.client.started_flow_exp1",EVENT_FINISHED_FLOW_EXP1:"upload.client.finished_flow_exp1",EVENT_CANCELED_FLOW_EXP1:"upload.client.canceled_flow_exp1",EVENT_MEASURE_FREE_LOCAL_STORAGE:"upload.client.free_local_storage"});f.VideoUploadLoggerEvents=a}),66);
__d("VideoUploadLoggingConfig.experimental",["cr:8923"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8923")}),98);
__d("MediaUploadCommonWwwFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1839305");b=d("FalcoLoggerInternal").create("media_upload_common_www",a);e=b;g["default"]=e}),98);
__d("VideoComposerDialogVersion",[],(function(a,b,c,d,e,f){a=Object.freeze({V1:"V1",V2:"V2"});f["default"]=a}),66);
__d("VideoUploadSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADS_INTERFACES:"ads_interfaces",DIALOG:"dialog",COMPOSER:"composer",BIZ_COMPOSER:"biz_composer",VIDEO_COMPOSER_V2:"video_composer_v2",ADS_API:"ads_api",API:"api",APP_PROMO_VIDEO:"app_promo_video",APP_GAMEPLAY_VIDEO:"app_gameplay_video",APP_PROMO_VIDEO_AB_TEST:"app_promo_video_ab_test",APP_GAMEPLAY_VIDEO_AB_TEST:"app_gameplay_video_ab_test",APP_PROMO_VIDEO_LANDSCAPE:"app_promo_video_landscape",APP_PROMO_VIDEO_PORTRAIT:"app_promo_video_portrait",APP_PROMO_VIDEO_SQUARE:"app_promo_video_square",APP_GAMEPLAY_VIDEO_LANDSCAPE:"app_gameplay_video_landscape",APP_GAMEPLAY_VIDEO_PORTRAIT:"app_gameplay_video_portrait",APP_GAMEPLAY_VIDEO_SQUARE:"app_gameplay_video_square",ASPERA:"aspera",PIXELCLOUD:"pixelcloud",PROTON:"proton",PLATFORM:"platform",INSTANT_ARTICLE:"instant_article",INSTANT_APPLICATION_PREVIEW:"instant_application_preview",IS_REWARDS_ENABLED:"is_rewards_enabled",POWER_EDITOR:"power_editor",CAMPAIGN_MANAGER:"campaign_manager",CREATE_FLOW:"create_flow",VIDEO_BROADCAST:"video_broadcast",SVE_PIPELINE:"sve_pipeline",ALBUM_UPLOADER:"album_uploader",PROFILE_VIDEO:"profile_video",LEARN_VIDEO:"learn_video",BIRTHDAY_VIDEO:"birthday_video",NUX_MEDIA_TOOL:"nux_media_tool",LIVE_BROADCAST:"live_broadcast",CANVAS:"canvas",DYNAMIC_ITEM_DISPLAY_BUNDLE:"dynamic_item_display_bundle",GOODWILL_VIDEO:"goodwill_video",APP_REVIEW:"app_review",APP_REREVIEW:"app_rereview",APP_REREVIEW_SCREENCAST:"app_rereview_screencast",REFERENCE_FILE_COMPOSER:"reference_file_composer",PRODUCT_EDIT_TOOL:"product_edit_tool",SLIDESHOW:"slideshow",ISSUE_MODULE:"issue_module",TAROT_DIGEST:"tarot_digest",LEARN:"learn",PAGES_COVER_VIDEO:"pages_cover_video",EVENT_TOUR:"event_tour",EVENT_COVER_VIDEO:"event_cover_video",PAGE_TRAILER:"page_trailer",SHOW_VIDEO_LIBRARY:"show_video_library",GMS_HUB_ANNOUCEMENTS:"gms_hub_annoucements",LIVE_CREATIVE_KIT_VIDEO:"live_creative_kit_video",MESSENGER_GROUP_VIDEO:"messenger_group_video",P2P:"p2p",DYNAMIC_ITEM:"dynamic_item",AUDIO_STORY_VIDEO:"audio_story_video",IMAGE_OVERLAY_STORY_VIDEO:"image_overlay_story_video",REACTION_STORY:"inspiration_react_mode",SHOWREEL_VIDEO:"showreel_video",INSPIRATIONS:"inspirations",INSPIRATIONS_DIRECT:"inspirations-direct",BACKSTAGE:"backstage",FUNDRAISER_COVER_VIDEO:"fundraiser_cover_video",THIRD_PARTY_VIDEO:"third_party_video",NEWSFEED_COMPOSER:"newsfeed_composer",COMPPHOTO_GENERATED:"compphoto_generated",SIMPLE:"simple",ATTACH_PHOTOS:"attach_photos",COMMENT:"comment",REPLACE:"replace",PAGE_REVIEW:"page_review",WOODHENGE:"woodhenge",UC_DEMONETIZATION_APPEALS:"uc_demonetization_appeals",CREATOR_STOREFRONT_PERSONALIZED_VIDEO:"creator_storefront_personalized_video",CREATOR_STOREFRONT_PROMOTIONAL_VIDEO:"creator_storefront_promotional_video",PROFILE_FEATURED:"profile_featured",INSTANT_GAMES_DVR:"instant_games_dvr",BCMP_PROFILE_PITCHDECK:"branded_content_profile_pitchdeck",MEDIA_MANAGER_INSTAGRAM_VIDEO_COMPOSER:"media_manager_instagram_video_composer",MEDIA_MANAGER_INSTAGRAM_VIDEO:"media_manager_instagram_video",OCULUS_CREATOR_PORTAL:"oculus_creator_portal",VR_CREATOR_STUDIO:"vr_creator_studio",INSTAGRAM_XPOST:"instagram_xpost",WHATSAPP_XPOST:"whatsapp_xpost",HORIZON_XPOST:"horizon_xpost",PH_XPOST:"ph_xpost",DIM_SUM:"dim_sum",VML_VIDEO_SUPERRES:"vml_video_superres_service",MEDIA_MANAGER_BULK_VIDEO_IMPORTER:"media_manager_bulk_video_importer",MARKETPLACE_COMPOSER:"marketplace_composer",MARKETPLACE_COMPOSER_PRE_RECORDED_VIDEO:"marketplace_composer_pre_recorded_video",SOUND_PLATFORM:"sound_platform",OPTIMISTIC_POST:"optimistic_post",WORKPLACE_KNOWLEDGE_LIBRARY:"workplace_knowledge_library",COPYRIGHT_INGESTION:"copyright_ingestion",CMS_MEDIA_MANAGER:"cms_media_manager",PREMIUM_MUSIC_VIDEO:"premium_music_video",BOOSTED_COMPONENT:"boosted_component",VISUAL_EDITOR:"visual_editor",GIF_LINK:"gif_link",SRT_ATTACHMENT:"srt_attachment",SOUNDBITES_VIDEO:"soundbites_video",VOICES_CREATOR_STUDIO:"voices_creator_studio",VOICES_AUDIO_EMBED:"voices_audio_embed",VOICES_ARTICLE:"voices_article",TPG:"tpg",BUSINESS_CREATIVE_ASSET_MANAGER:"business_creative_asset_manager",STAGES:"stages",RMSI_VIDEO_INGESTION:"rights_manager_scaled_video_ingestion",ASSET_MANAGER:"asset_manager",PAID_CONTENT_DIALOG:"paid_content_dialog",CREATION_ML_PRECREATION:"creation_ml_precreation",PODCAST:"podcast",BUSINESS_OMNI_UPLOADER:"business_omni_uploader",BUSINESS_UNIFIED_CREATIVE_EDITOR:"business_unified_creative_editor",REEL_COMPOSER:"reel_composer",CONTENT_INJECTION:"content_injection",DROPS_SHOPPING_EVENT_PAGE:"drops_shopping_event_page",HORIZON_VIDEO:"horizon_video",PAPER_COMPOSER:"paper_composer",SHOP_BUILDER_VIDEO:"shop_builder_video",PROFESSIONAL_DASHBOARD_AB_TESTING:"professional_dashboard_ab_testing",PROFESSIONAL_DASHBOARD_BULK_UPLOAD:"professional_dashboard_bulk_upload",LIVE_CLIP_VIDEO:"live_clip_video",STARFOX_PLAYGROUND:"starfox_playground",CREATOR_FAN_CHALLENGE:"creator_fan_challenge",COMPOSER_ADS_CANVAS_VIDEO_ASSET_CLONER_FEATURE:"composer_ads_canvas_video_asset_cloner_feature",COMPOSER_ADS_VIDEO_AUTO_CROPPER_FEATURE:"composer_ads_video_auto_cropper_feature",COMPOSER_ADS_VIDEO_CLONE_FEATURE:"composer_ads_video_clone_feature",COMPOSER_ADS_VIDEO_CREATIVE_COMPOSER_FEATURE:"composer_ads_video_creative_composer_feature",COMPOSER_ADS_VIDEO_SLIDESHOW_FEATURE:"composer_ads_video_slideshow_feature",COMPOSER_ADS_VIDEO_SLIDESHOW_VARIATIONS_FEATURE:"composer_ads_video_slideshow_variations_feature",COMPOSER_AUTO_CLIPS_TO_REELS:"composer_auto_clips_to_reels",COMPOSER_AUTOGEN_BACK_CATALOG:"composer_autogen_back_catalog",COMPOSER_BASE_VIDEO_EDIT_FEATURE:"composer_base_video_edit_feature",COMPOSER_BIZWEB_AB_TESTING:"composer_bizweb_ab_testing",COMPOSER_BIZWEB_COMPOSER:"composer_bizweb_composer",COMPOSER_BULK_EDIT_COMPOSER:"composer_bulk_edit_composer",COMPOSER_COMET_REEL_COMPOSER:"composer_comet_reel_composer",COMPOSER_CROSS_POST_FROM_VIDEO_ASSET_OBSERVER_FEATURE:"composer_cross_post_from_video_assset_observer_feature",COMPOSER_CS_AB_TESTING:"composer_cs_ab_testing",COMPOSER_CS_AUTO_GENERATE_FB_SHORTS:"composer_cs_auto_generate_fb_shorts",COMPOSER_CS_BULK_UPLOAD:"composer_cs_bulk_upload",COMPOSER_CS_REEL_COMPOSER:"composer_cs_reel_composer",COMPOSER_GRAPH_API_CLIPPING:"composer_graph_api_clipping",COMPOSER_GRAPH_API_CROSSPOST:"composer_graph_api_crosspost",COMPOSER_GRAPH_API_NON_RESUMABLE:"composer_graph_api_non_resumable",COMPOSER_GRAPH_API_RESUMABLE:"composer_graph_api_resumable",COMPOSER_HORIZON_VIDEO_POST_TO_FB:"composer_horizon_video_post_to_fb",COMPOSER_HZ_STORY_XPOST_TO_FB:"composer_hz_story_xpost_to_fb",COMPOSER_IG_GLADOS_VIDEO_ADS_SHOWREEL:"composer_ig_glados_video_ads_showreel",COMPOSER_IG_REELS_SHARED_TO_FB:"composer_ig_reels_shared_to_fb",COMPOSER_IG_STORY_XPOST_TO_FB:"composer_ig_story_xpost_to_fb",COMPOSER_LIVE_VIDEO_BROADCAST:"composer_live_video_broadcast",COMPOSER_LONG_FORM_VIDEO_TO_PLAYLIST:"composer_long_form_video_to_playlist",COMPOSER_PAGE_SLIDESHOW_FEATURE:"composer_page_slideshow_feature",COMPOSER_PAGE_VIDEO_COMPOSER:"composer_page_video_composer",COMPOSER_PH_STORY_XPOST_TO_FB:"composer_ph_story_xpost_to_fb",COMPOSER_PLAYLIST_COMPOSER:"composer_playlist_composer",COMPOSER_PROFILE_VIDEO_INTRO_CLONER:"composer_profile_video_intro_cloner",COMPOSER_REMOTE_TRIMMER:"composer_remote_trimmer",COMPOSER_STORY_VIDEO_RENDER_FEATURE:"composer_story_video_render_feature",COMPOSER_SVE_SHADOW_CLONE_FEATURE:"composer_sve_shadow_clone_feature",COMPOSER_TEXT_BASED_VIDEO_EDITOR:"composer_text_based_video_editor",COMPOSER_UNIFIED_API_FOR_POST_CREATION_FEATURE:"composer_unified_stories_api_for_post_creation_feature",COMPOSER_UNIFIED_STORIES_VIDEO_CONVERTER:"composer_unified_stories_video_converter",COMPOSER_VIDEO_CLONE_FEATURE:"composer_video_clone_feature",COMPOSER_WA_STORY_XPOST_TO_FB:"composer_wa_story_xpost_to_fb",EXPERIMENT_HQ:"experiment_hq",GROUPS_AI:"groups_ai"});f["default"]=a}),66);
__d("WorkSharedDraftMode",[],(function(a,b,c,d,e,f){a=Object.freeze({DRAFTER_CREATING:"drafter_creating",FINAL_AUTHOR_EDITING:"final_author_editing"});f["default"]=a}),66);
__d("logVideoUploadViaFalco",["FBLogger","MediaUploadCommonWwwFalcoEvent","VideoComposerDialogVersion","VideoUploadSourceType","WorkSharedDraftMode","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("FBLogger")("media_upload","media_upload_common_www")}function i(a){if(a==null)return void 0;else return String(a)}function j(a){if(a==null)return void 0;else if(a==="false"||a==="0")return!1;else return Boolean(a)}function k(a){try{if(a==null)return void 0;else{var b;typeof a==="number"?b=Number.isInteger(a)?a:Math.trunc(a):b=Number.parseInt(String(a),10);if(Number.isNaN(b)||!Number.isFinite(b))return void 0;else return String(b)}}catch(b){h().catching(c("getErrorSafe")(b)).warn("Value should be integer, but it was not - %s",String(a));return void 0}}function l(a){if(a==null)return void 0;else{a=Number(a);if(Number.isNaN(a)||!Number.isFinite(a))return void 0;else return a}}function m(a){if(a==null||typeof a!=="object")return void 0;else return a}function n(a,b){if(a!=null&&Object.values(b).indexOf(a)>=0)return a;else return void 0}function a(a){var b=i(a.waterfall_id);if(b==null){h().warn("Video upload event cannot be logged due missing waterfall_id: %s",String(a.waterfall_id));return}var d=n(a.source,c("VideoUploadSourceType"));if(d==null){h().warn("Video upload event cannot be logged due missing or invalid source type: %s (original: %s)",String(d),String(a.source));return}var e=i(a.event);if(e==null){h().warn("Video upload event cannot be logged due missing event field: %s",String(a.event));return}var f={waterfall_id:b,source:d,event:e,actor_id:i(a.actor_id),target_id:i(a.target_id),composer_entry_point_ref:i(a.composer_entry_point_ref),container_type:k(a.container_type),is_chunked_upload:j(a.is_chunked_upload),hinted_app_id:i(a.app_id),is_remote_upload:j(a.is_remote_upload),composer_dialog_version:n(a.composer_dialog_version,c("VideoComposerDialogVersion")),composer_work_shared_draft_mode:n(a.composer_work_shared_draft_mode,c("WorkSharedDraftMode")),elapsed_time:k(a.elapsed_time),error:i(a.error),error_inner:i(a.error_inner),error_code:k(a.error_code),error_description:i(a.error_description),error_summary:i(a.error_summary),error_trace:i(a.error_trace),source_height:k(a.source_height),source_width:k(a.source_width),duration:k(a.duration),file_size:k(a.file_size),has_file_been_replaced:j(a.has_file_been_replaced),composer_session_id:i(a.composer_session_id),retries:k(a.retries),server_retries:k(a.server_retries),asset_id:i(a.asset_id),file_can_read:j(a.file_can_read),application_state:i(a.application_state),upload_method:i(a.upload_method),upload_domain:i(a.upload_domain),hash:i(a.hash),hash_time:k(a.hash_time),hash_exception:i(a.hash_exception),video_id:i(a.video_id),upload_speed:l(a.upload_speed),skip_upload:j(a.skip_upload),trigger_time:i(a.trigger_time),ad_account_id:i(a.ad_account_id),video_original_file_path:i(a.video_original_file_path),event_reason:i(a.event_reason),retry_id:i(a.retry_id),internet_status:i(a.internet_status),network_status:i(a.network_status),is_spherical:j(a.is_spherical),file_extension:i(a.file_extension),sent_bytes:k(a.sent_bytes),start_offset:k(a.start_offset),transport_retries:k(a.transport_retries),timeout_retries:k(a.timeout_retries),request_manager_state:i(a.request_manager_state),debug:m(a.debug),creative_tools:i(a.creative_tools)};c("MediaUploadCommonWwwFalcoEvent").logCritical(function(){return f})}g["default"]=a}),98);
__d("VideoUploadLogger",["Banzai","CurrentUser","VideoUploadLoggerEvents","VideoUploadLoggingConfig.experimental","logVideoUploadViaFalco"],(function(a,b,c,d,e,f,g){b=babelHelpers["extends"]({BANZAI_GK:"videos",BANZAI_ROUTE:"video_waterfall",SOURCE_SIMPLE:"simple",SOURCE_COMPOSER:"composer"},(a=d("VideoUploadLoggerEvents")).VideoUploadLoggerEvents);var h=new Set([a.VideoUploadLoggerEvents.EVENT_STARTED_FLOW,a.VideoUploadLoggerEvents.EVENT_FINISHED_FLOW,a.VideoUploadLoggerEvents.EVENT_FAILED_FLOW,a.VideoUploadLoggerEvents.EVENT_CANCELED_FLOW]);e=function(){function a(b){this.$1=b.source,this.$2=b.composer_dialog_version,this.$3=b.waterfall_id,this.$4=b.ad_account_id,this.$5=b.target_id,this.$6=b.delay,this.$7=[],this.$8=b.is_chunked_upload,this.$9=b.actor_id,this.$10=b.composer_entry_point_ref,this.$11=b.composer_work_shared_draft_mode,this.$12=b.is_remote_upload,this.$13=b.container_type,this.$14=b.has_file_been_replaced,this.$15=b.composer_session_id,this.$16=b.creative_tools,this.$17=b.asset_id,this.$18=c("CurrentUser").getAppID(),this.$19=!Boolean(b.reported_by_notifier)&&a.shouldSendFlowEventsViaNotifier({source_type:b.source,composer_entry_point_ref:b.composer_entry_point_ref})}a.shouldSendFlowEventsViaNotifier=function(a){return Boolean((c("VideoUploadLoggingConfig.experimental").FLOW_VIA_NOTIFIER_COMPOSERS||[]).find(function(b){return b.source_type===a.source_type&&b.composer_entry_point_ref===a.composer_entry_point_ref}))};var b=a.prototype;b.logEvent=function(a,b){if(this.$19&&h.has(a))return;b=babelHelpers["extends"]({},b);b.elapsed_time==null&&(a.indexOf("started")!==-1?this.$7[a]=Date.now():a.indexOf("finished")!==-1?b.elapsed_time=this.$20(a,"finished"):a.indexOf("canceled")!==-1?b.elapsed_time=this.$20(a,"canceled"):a.indexOf("failed")!==-1&&(b.elapsed_time=this.$20(a,"failed")));b.event=a;b.source=this.$1;b.composer_dialog_version=b.composer_dialog_version||this.$2;b.waterfall_id=this.$3;b.ad_account_id=this.$4;b.target_id=this.$5;b.is_chunked_upload=this.$8;b.actor_id=this.$9;b.composer_entry_point_ref=this.$10;b.composer_work_shared_draft_mode=this.$11;b.is_remote_upload=this.$12;b.container_type=this.$13;b.has_file_been_replaced=this.$14;b.trigger_time=Date.now();b.composer_session_id=this.$15;b.asset_id=this.$17;b.app_id=this.$18;c("logVideoUploadViaFalco")(b)};b.postOnShutdown=function(a){return c("Banzai").subscribe(c("Banzai").SHUTDOWN,a)};b.getWaterfallID=function(){return this.$3};b.$20=function(a,b){a=a.replace(b,"started");b=this.$7[a];return b?Date.now()-b:null};return a}();Object.assign(e,b);f=e;g["default"]=f}),98);
__d("VideoUploadLoggerTyped",["VideoUploadLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){return a.call(this,b)||this}babelHelpers.inheritsLoose(b,a);return b}(c("VideoUploadLogger"));g.VideoUploadLogger=a}),98);
__d("WaterfallIDGenerator",["CurrentUser","md5","uuidv4"],(function(a,b,c,d,e,f,g){function h(){var a=2147483647;return Math.random()*a}function i(){return Math.floor(Date.now()/1e3)}function a(){var a=c("md5")([c("CurrentUser").getID(),i(),h()].join(":"));if(a==null)return c("uuidv4")();else return a}g.generate=a}),98);
__d("VideoUploadFlowNotifier",["Banzai","MediaCancelledPostFlowFalcoEvent","MediaFailedPostFlowFalcoEvent","MediaFinishedPostFlowFalcoEvent","MediaStartedPostFlowFalcoEvent","Run","SubscriptionsHandler","VideoUploadLoggerEvents","VideoUploadLoggerTyped","WaterfallIDGenerator"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({SUCCESSFUL:"successful",FAILED:"failed",CANCELED:"canceled",REQUESTED:"requested",STARTED:"started"}),i=function(){function a(){this.$1={}}var b=a.prototype;b.registerUpload=function(a,b){var c={isStarted:!1,isUploaded:!1,isCanceled:!1,isFailed:!1};this.$1[String(b)]=c;a.subscribe("upload-started",function(){c.isStarted=!0});a.subscribe("upload-canceled",function(){c.isCanceled=!0});a.subscribe("upload-failed",function(){c.isFailed=!0});a.subscribe("upload-finished",function(){c.isUploaded=!0})};b.cancelUpload=function(a){a=this.$1[String(a)];a!=null&&(a.isCanceled=!0)};b.$2=function(a){if(a.isCanceled)return h.CANCELED;else if(a.isUploaded)return h.SUCCESSFUL;else if(a.isFailed)return h.FAILED;else if(a.isStarted)return h.STARTED;else return h.REQUESTED};b.areAnyVideosIncludedInPost=function(){var a=this,b=Object.keys(this.$1).map(function(b){return a.$2(a.$1[b])});return b.some(function(a){return a!==h.CANCELED})};b.getSummary=function(){var a=this,b=Object.keys(this.$1).map(function(b){return a.$2(a.$1[b])});return{total:b.length,successful:b.filter(function(a){return a===h.SUCCESSFUL}).length,started:b.filter(function(a){return a===h.STARTED}).length,canceled:b.filter(function(a){return a===h.CANCELED}).length,failed:b.filter(function(a){return a===h.FAILED}).length}};return a}(),j=function(){function a(){}var b=a.prototype;b.logFlowStarted=function(){};b.logFlowFinished=function(){};b.logFlowCanceled=function(){};b.logFlowFailed=function(){};b.release=function(){};return a}(),k=function(){function a(a,b){var e=this;this.$2=b;this.$1=a;this.$4=new Set();this.$3=new(c("SubscriptionsHandler"))();a.cancel_on_unload&&this.$3.addSubscriptions(c("Banzai").subscribe(c("Banzai").SHUTDOWN,function(){return e.$6("shutdown")}));a.cancel_on_leave&&this.$3.addSubscriptions(d("Run").onLeave(function(){return e.$6("leave")}))}var b=a.prototype;b.release=function(){this.$3.release()};b.$7=function(){var a=this.$2.getSummary(),b=this.$5;return{composer_session_id:this.$1.composer_session_id,source_type:this.$1.source,target_id:this.$1.target_id,target_type:this.$1.target_type,composer_entry_point_ref:this.$1.composer_entry_point_ref,total_uploads:a.total,started_uploads:a.started,successful_uploads:a.successful,canceled_uploads:a.canceled,failed_uploads:a.failed,elapsed_time:b!=null?Date.now()-b:null}};b.logFlowFinished=function(){var a=this;this.$4.has(c("MediaFinishedPostFlowFalcoEvent"))||(c("MediaFinishedPostFlowFalcoEvent").log(function(){return a.$7()}),this.$4.add(c("MediaFinishedPostFlowFalcoEvent")))};b.logFlowStarted=function(){var a=this;this.$4.has(c("MediaStartedPostFlowFalcoEvent"))||(c("MediaStartedPostFlowFalcoEvent").log(function(){return a.$7()}),this.$5=Date.now(),this.$4.add(c("MediaStartedPostFlowFalcoEvent")))};b.logFlowCanceled=function(){this.$6("user")};b.logFlowFailed=function(){var a=this;this.$4.has(c("MediaFailedPostFlowFalcoEvent"))||(c("MediaFailedPostFlowFalcoEvent").log(function(){return a.$7()}),this.$4.add(c("MediaFailedPostFlowFalcoEvent")))};b.$6=function(a){var b=this;this.$4.has(c("MediaCancelledPostFlowFalcoEvent"))||(c("MediaCancelledPostFlowFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$7(),{event_reason:a})}),this.$4.add(c("MediaCancelledPostFlowFalcoEvent")))};return a}(),l=function(){function a(a,b){var e=this;this.$1=b;this.$3=new Set();this.$4=new(d("VideoUploadLoggerTyped").VideoUploadLogger)({source:a.source,waterfall_id:a.composer_session_id,composer_session_id:a.composer_session_id,target_id:a.target_id,composer_entry_point_ref:a.composer_entry_point_ref,reported_by_notifier:!0});this.$2=new(c("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$4.postOnShutdown(function(){return e.$5("shutdown")}));a.cancel_on_leave&&this.$2.addSubscriptions(d("Run").onLeave(function(){return e.$5("leave")}))}var b=a.prototype;b.release=function(){this.$2.release()};b.logFlowFinished=function(){this.$6(d("VideoUploadLoggerEvents").VideoUploadLoggerEvents.EVENT_FINISHED_FLOW)};b.logFlowStarted=function(){this.$6(d("VideoUploadLoggerEvents").VideoUploadLoggerEvents.EVENT_STARTED_FLOW)};b.logFlowCanceled=function(){this.$5("user")};b.logFlowFailed=function(){this.$6(d("VideoUploadLoggerEvents").VideoUploadLoggerEvents.EVENT_FAILED_FLOW)};b.$6=function(a,b){if(!this.$3.has(a)){var c=this.$1.getSummary();this.$4.logEvent(a,babelHelpers["extends"]({},b,{debug:{total_uploads:c.total,started_uploads:c.started,successful_uploads:c.successful,canceled_uploads:c.canceled,failed_uploads:c.failed}}));this.$3.add(a)}};b.$5=function(a){this.$6(d("VideoUploadLoggerEvents").VideoUploadLoggerEvents.EVENT_CANCELED_FLOW,{event_reason:a})};return a}(),m=Object.freeze({UPLOAD_USER_REMOVED:"upload_removed"}),n=Object.freeze({POST_USER_CANCELED:"post_user_canceled",POST_USER_REQUESTED:"post_user_requested",POST_FAILED:"post_failed",POST_SUCCESSFUL:"post_successful"});function o(a){return a==null?d("WaterfallIDGenerator").generate():a}function a(a){if(a.extended_flow_logging_enabled)return new q(a);else return p.getInstance()}var p=function(){function a(){}a.getInstance=function(){return a.$1};var b=a.prototype;b.registerVideoUpload=function(a,b){return o(b)};b.notifyOnUploadAction=function(a){};b.notifyOnPostAction=function(a){};return a}();p.$1=new p();var q=function(){function a(a){this.$3=a,this.$5=new i(),this.$2=new j(),this.$1=!1,this.$4=a.composer_session_id==null?d("WaterfallIDGenerator").generate():a.composer_session_id}var b=a.prototype;b.$6=function(){var a=d("VideoUploadLoggerTyped").VideoUploadLogger.shouldSendFlowEventsViaNotifier({source_type:this.$3.source,composer_entry_point_ref:this.$3.composer_entry_point_ref});a=a?l:k;return new a({composer_entry_point_ref:this.$3.composer_entry_point_ref,source:this.$3.source,target_id:this.$3.target_id,target_type:this.$3.target_type,composer_session_id:this.$4,cancel_on_leave:this.$3.cancel_on_leave,cancel_on_unload:this.$3.cancel_on_unload==null?!0:this.$3.cancel_on_unload},this.$5)};b.registerVideoUpload=function(a,b){b=o(b);a.setComposerSessionID(this.$4);this.$5.registerUpload(a,b);return b};b.notifyOnUploadAction=function(a){switch(a.action){case m.UPLOAD_USER_REMOVED:this.$5.cancelUpload(a.trackingID);break}};b.notifyOnPostAction=function(a){switch(a.action){case n.POST_USER_REQUESTED:!this.$1&&this.$5.areAnyVideosIncludedInPost()&&(this.$2=this.$6(),this.$1=!0);this.$2.logFlowStarted();break;case n.POST_FAILED:this.$2.logFlowFailed();this.$2.release();break;case n.POST_SUCCESSFUL:this.$2.logFlowFinished();this.$2.release();this.$2=new j();break;case n.POST_USER_CANCELED:this.$2.logFlowCanceled();this.$2.release();break}};return a}();g.VideoUploadActions=m;g.VideoPostActions=n;g.createVideoUploadFlowNotifier=a;g.NoOpVideoUploadFlowNotifier=p}),98);
__d("VideoUploadSurface",["$InternalEnum","VideoUploadFlowNotifier","WaterfallIDGenerator"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({JEST_TESTS:"jest_tests",COMMENTS:"comments",FEED:"feed"});var h=function(){function a(a){this.$1={},this.$2=a}var b=a.prototype;b.getByID=function(a){return this.$1[a]};b.getExistingOrNoOpByID=function(a){a=this.getByID(a);return a==null?this.$2.noOpProvider():a};b.register=function(a,b){b=b==null?d("WaterfallIDGenerator").generate():b;this.$1[b]=a;return b};b.clear=function(a){this.$1[a]=void 0};return a}();c=function(){function a(){this.$2=new h({noOpProvider:function(){return d("VideoUploadFlowNotifier").NoOpVideoUploadFlowNotifier.getInstance()}})}a.getOrCreate=function(b){var c=a.$1[b];c==null&&(c=new a(),a.$1[b]=c);return c};var b=a.prototype;b.notifiers=function(){return this.$2};return a}();c.$1={};g.VideoUploadSurfaceIDs=a;g.VideoUploadSurface=c}),98);
__d("MediaUploadAssetEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ASSET_ADDED","ASSET_STARTED","ASSET_REMOVED","ASSET_FAILED","ASSET_SUCCEED","ASSET_PROGRESS","ASSET_STALL"]);c=a;f["default"]=c}),66);
__d("MediaUploadClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["CLIENT_CREATED","CLIENT_CONFIG_REQUESTED","CLIENT_CONFIG_RECEIVED","CLIENT_CONFIG_FAILED","CLIENT_CONFIG_CACHED","CLIENT_INTERNET_ONLINE","CLIENT_INTERNET_OFFLINE","CLIENT_INTERNET_UNKNOWN"]);c=a;f["default"]=c}),66);
__d("MediaUploadEntryPointID",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.key=a};f["default"]=a}),66);
__d("MediaUploadFBEntryPointID",["MediaUploadEntryPointID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){var d;d=a.call(this,b+"\\"+c)||this;d.sourceType=b;d.entryPointRef=c;return d}babelHelpers.inheritsLoose(b,a);b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided entry point ID has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadEntryPointID"));g["default"]=a}),98);
__d("MediaUploadAsset",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.mediaType=a.mediaType,this.data=a.data}var b=a.prototype;b.dataAsFile=function(){var a=this.data;if(a.mode==="File")return a;else return null};b.dataAsHTMLInput=function(){var a=this.data;if(a.mode==="HTMLInput")return a;else return null};return a}();f["default"]=a}),66);
__d("MediaUploadMediaType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["VIDEO"]);c=a;f["default"]=c}),66);
__d("MediaUploadTime",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=g*60,i=h*60;function a(a){return a}function b(a){return a*g}function c(a){return a*h}function d(a){return a*i}function j(a){return a}function k(a){return 1*a/g}function l(a){return 1*a/h}function m(a){return 1*a/i}function n(a,b){return a==null?null:b(a)}function e(a){return n(a,j)}function o(a){return n(a,k)}function p(a){return n(a,l)}function q(a){return n(a,m)}function r(a,b){return a+b}function s(a,b){return a-b}function t(a,b){return a<b?-1:a>b?1:0}f.millisecondsToTime=a;f.secondsToTime=b;f.minutesToTime=c;f.hoursToTime=d;f.timeToMilliseconds=j;f.timeToSeconds=k;f.timeToMinutes=l;f.timeToHours=m;f.maybeTimeToMilliseconds=e;f.maybeTimeToSeconds=o;f.maybeTimeToMinutes=p;f.maybeTimeToHours=q;f.addTime=r;f.subtractTime=s;f.compareTime=t}),66);
__d("MediaUploadAssetFactory",["MediaUploadAsset","MediaUploadMediaType","MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return null;else{a=/\.([^.]+)$/.exec(a);if(a==null||a.length<2)return null;else return a[1]}}a=function(){function a(a){a=a.features;this.$1=a}var b=a.prototype;b.$2=function(a){return{mode:"File",file:a,lastModified:d("MediaUploadTime").millisecondsToTime(a.lastModified),name:a.name,size:a.size,mimeType:a.type,extension:h(a.name)}};b.$3=function(a){return{mode:"HTMLInput",inputElement:a,name:a.value,extension:h(a.value)}};b.createFromFile=function(a,b){b===void 0&&(b=c("MediaUploadMediaType").VIDEO);return new(c("MediaUploadAsset"))({mediaType:b,data:this.$2(a)})};b.createFromHTMLInput=function(a,b){var d;b===void 0&&(b=c("MediaUploadMediaType").VIDEO);if(this.$1.supportFileFromHTML&&((d=a.files)==null?void 0:d.length)>0){d=a.files[0];d=this.$2(d)}else d=this.$3(a);return new(c("MediaUploadAsset"))({mediaType:b,data:d})};return a}();g["default"]=a}),98);
__d("MediaUploadSDK",["MediaUploadAssetFactory"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=this;this.isSupported=function(){return b.features.supportFileManipulation&&b.features.supportFileFromHTML};this.currentTimeProvider=a.currentTimeProvider;this.randomNumberProvider=a.randomNumberProvider;this.randomStringProvider=a.randomStringProvider;this.retryPolicyProvider=a.retryPolicyProvider;this.promiseTerminator=a.promiseTerminator;this.delayedExecutor=a.delayedExecutor;this.reportRecoverableError=a.reportRecoverableError;this.createThrowableError=a.createThrowableError;this.features=a.featureDetector();this.registerUnloadHook=a.registerUnloadHook;this.factories={assets:new(c("MediaUploadAssetFactory"))(this)}};g["default"]=a}),98);
__d("mediaUploadFBRetryPolicyProvider",["MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";var h={backoff:{initial:(b=d("MediaUploadTime")).millisecondsToTime(400),jitter:b.millisecondsToTime(100),expBase:b.millisecondsToTime(100),expMultiplier:1.5,max:b.secondsToTime(8)},limits:{totalRetryCount:3e3,totalTime:b.hoursToTime(6)}};function a(){return h}g["default"]=a}),98);
__d("MediaUploadFBSDK",["Banzai","FBLogger","MediaUploadSDK","MediaUploadTime","Random","SubscriptionsHandler","WaterfallIDGenerator","clearTimeout","fileSlice","getErrorSafe","mediaUploadFBRetryPolicyProvider","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h="media_upload";a=function(a){function b(){return a.call(this,{currentTimeProvider:function(){return d("MediaUploadTime").millisecondsToTime(Date.now())},randomNumberProvider:function(a,b){return(b-a)*c("Random").random()+a},randomStringProvider:function(){return d("WaterfallIDGenerator").generate()},retryPolicyProvider:c("mediaUploadFBRetryPolicyProvider"),promiseTerminator:function(a){return c("promiseDone")(a)},delayedExecutor:function(a,b,e){var f=c("setTimeout")(b,d("MediaUploadTime").timeToMilliseconds(a));return{cancel:function(){e!=null&&e(),c("clearTimeout")(f)}}},reportRecoverableError:function(a,b){b!=null?c("FBLogger")(h).catching(c("getErrorSafe")(b)).mustfix(a):c("FBLogger")(h).mustfix(a)},createThrowableError:function(a){throw c("FBLogger")(h).mustfixThrow(a)},featureDetector:function(){return{supportFileFromHTML:"FileList"in window,supportFileManipulation:"FileReader"in window&&"DataView"in window&&"FormData"in window&&typeof c("fileSlice")==="function"}},registerUnloadHook:function(a){var b=new(c("SubscriptionsHandler"))();a=c("Banzai").subscribe(c("Banzai").SHUTDOWN,a);a!=null?b.addSubscriptions():c("FBLogger")(h).mustfix("Banzai did not return handle for unsubscribing from the unload hook; logging quality will be bad");return{cancel:function(){try{b.release()}catch(a){c("FBLogger")(h).catching(c("getErrorSafe")(a)).mustfix("Failed to unsubscribe from the unload hook")}}}}})||this}babelHelpers.inheritsLoose(b,a);return b}(c("MediaUploadSDK"));b=new a();e=b;g["default"]=e}),98);
__d("MediaUploadFBStage",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["METADATA_EXTRACTION","METADATA_VALIDATION","HASHING","START_REQUEST","BYTES_UPLOAD","RECEIVE_REQUEST"]);c=a;f["default"]=c}),66);
__d("MediaUploadSessionEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SESSION_CONFIRMED","SESSION_SUCCEED","SESSION_FAILED","SESSION_CANCELED","SESSION_FINISHED","SESSION_PROGRESS","PUBLISH_STARTED","PUBLISH_SUCCEED","PUBLISH_FAILED"]);c=a;f["default"]=c}),66);
__d("MediaUploadStageEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["STAGE_STARTED","STAGE_PROGRESS","STAGE_SUCCEED","STAGE_FAILED","STAGE_CANCELED"]);c=a;f["default"]=c}),66);
__d("MediaUploadVUShim",["MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadFBEntryPointID","MediaUploadFBSDK","MediaUploadFBStage","MediaUploadSessionEvent","MediaUploadStageEvent","MediaUploadVUShimSession","MediaUploadVUShimSurface","Promise","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.$1=new Map()}var d=a.prototype;d.createSession=function(a){if(!c("MediaUploadFBSDK").isSupported())return null;var b=a.source,d=a.composer_entry_point_ref;if(b==null||d==null)return null;b=new(c("MediaUploadFBEntryPointID"))(b,d);if(!c("MediaUploadVUShimSurface").isClientSupported(b))return null;if(!c("gkx")("25479"))return null;d=c("MediaUploadVUShimSurface").getClient(b);b=new(c("MediaUploadVUShimSession"))(a,d);this.$1.set(b.sessionID,b);return b};d.triggerPublish=function(a,c){var d=this.$1.get(a.sessionID);return d==null?(h||(h=b("Promise"))).resolve({isSuccessful:!1,errorCode:"MISSING_SESSION"}):d.triggerPublish(a,c)};d.setupEventSubscription=function(a){var b=this,d=function(c){a.addClientEventListener(c,function(a){return b.emitClientEvents(c)})};for(var e of c("MediaUploadClientEvent").members())d(e);d=function(c){a.addSessionEventListener(c,function(a){var d;return(d=b.$1.get(a.sessionID))==null?void 0:d.sessionUpdated(c,a)})};for(e of c("MediaUploadSessionEvent").members())d(e);e=function(c){a.addAssetEventListener(c,function(a,d){var e;(e=b.$1.get(a.sessionID))==null||e.assetUpdated(c,a,d)})};for(d of c("MediaUploadAssetEvent").members())e(d);d=function(d){var e=function(c){a.addStageEventListener(d,c,function(a,e){var f;(f=b.$1.get(a.sessionID))==null||f.stageUpdated(d,c,a,e)})};for(var f of c("MediaUploadFBStage").members())e(f)};for(e of c("MediaUploadStageEvent").members())d(e)};d.emitClientEvents=function(a){var b;if(a===c("MediaUploadClientEvent").CLIENT_INTERNET_ONLINE)b="online";else if(a===c("MediaUploadClientEvent").CLIENT_INTERNET_OFFLINE)b="offline";else return;for(a of this.$1.values())a.inform(b)};return a}();d=new a();e=d;g["default"]=e}),98);
__d("MediaUploadAssetStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["REQUESTED","SCHEDULED","PROCESSING","UPLOADING","COMPLETED","FAILED","REMOVED"]);c=a;f["default"]=c}),66);
__d("MediaUploadCancelReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["USER_REQUEST","NAVIGATION_AWAY","UNLOAD_HOOK"]);c=a;f["default"]=c}),66);
__d("MediaUploadSessionStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["UNCONFIRMED","CONFIRMED","FAILED","PUBLISHING","COMPLETED","CANCELED"]);c=a;f["default"]=c}),66);
__d("GraphQLVideoPublisherInputDataHandlerBase",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){this.postData=a,this.extraData=b}var b=a.prototype;b.mapPostDataToGraphQLInputObject=function(){h(0,85)};b.hasAPISupport=function(){return i(this.postData)};b.uploadables=function(){h(0,85)};return a}();function i(a){return!0}g.GraphQLVideoPublisherInputDataHandlerBase=a;g.hasAPISupport=i}),98);
__d("ExpirationType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DELETE:1,HIDE:2,ONLY_ME:3,HIDE_LONG_DURATION:4});f["default"]=a}),66);
__d("VideoAssetMatureContentRating",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,SUITABLE_FOR_ALL:1,FOURTEEN_PLUS:2,EIGHTEEN_PLUS:3});f["default"]=a}),66);
__d("VideoCommentatingPermission",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:"unset",ALLOW:"allow",DISALLOW:"disallow"});f["default"]=a}),66);
__d("VideoFundedContentFlagProgram",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,IS_FUNDED_CONTENT:1,NOT_FUNDED_CONTENT:2});f["default"]=a}),66);
__d("VideoStereoFormat",[],(function(a,b,c,d,e,f){a=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"});f["default"]=a}),66);
__d("GraphQLVideoPublisherVideoUploaderInputDataHandler",["BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","CallToActionTypes","ClientIDs","ExpirationType","GraphQLVideoPublisherInputDataHandlerBase","VideoAssetMatureContentRating","VideoCommentatingPermission","VideoFundedContentFlagProgram","VideoProjection","VideoStereoFormat","enumUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.mapPostDataToGraphQLInputObject=function(){var a,b=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_1(),c=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_2(),e=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_3(),f=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_4(),g=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_5(),h=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_6(),i=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_7(),j=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_8(),k=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_9(),l=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_10(),m=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_11(),n=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_12(),o=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_13(),p=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_14(),q=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_15(),r=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_16(),s=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_17(),t=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_18(),u=this.postData.publish_as_reel,v=this.postData.translated_audio_metadata;a=(a=this.postData.non_uuc_reel_data)!=null?a:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_19();var w=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_20();return{actor_id:this.extraData.target_id,basic_data:b,client_mutation_id:d("ClientIDs").getNewClientID(),thumbnail_data:c,ad_break_data:f,vu_editor_data:j,post_status_data:e,main_composer_tab_data:g,distribution_data:h,stars_data:i,questions_data:k,polls_data:l,tracking_data:m,captions_data:n,spherical_data:o,live_premiere_data:p,video_editor_config_json:this.postData.video_editor_config_json,location_preset_data:q,video_abtesting_data:r,auto_dub_data:s,reel_publish_data:t,publish_as_reel:u,non_uuc_reel_data:a,translated_audio_data:{translated_audio_metadata:v},share_story_settings:w}};e.uploadables=function(){return babelHelpers["extends"]({},this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_21(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_22(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_23())};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_1=function(){var a;return{source:this.extraData.source,target_id:this.extraData.target_id,video_id:this.extraData.video_id,video_title:this.postData.video_title,waterfall_id:this.extraData.waterfall_id,xhpc_message:this.postData.xhpc_message,creator_product:(a=this.extraData.creator_product)==null?void 0:a.toString(),composer_entry_point_ref:this.extraData.composer_entry_point_ref,composer_dialog_version:this.extraData.composer_dialog_version,has_file_been_replaced:this.extraData.has_file_been_replaced,supports_chunking:this.extraData.supports_chunking}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_2=function(){return{thumbnail_type:this.postData.thumbnail_type}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_22=function(){return this.postData.thumbnail_uploadable};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_23=function(){var a={},b=this.postData.schedule_custom_background_image,c=this.postData.schedule_custom_profile_image,d=this.postData.schedule_feed_background_image;b!=null&&(a.schedule_custom_background_image=b);c!=null&&(a.schedule_custom_profile_image=c);d!=null&&(a.schedule_feed_background_image=d);return a};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_4=function(){var a;a=(a=this.postData.ad_breaks)==null?void 0:a.map(function(a){return{time_offset:parseInt(a.time_offset,10),status:a.status}});return{ad_breaks:a,ad_break_prereview:this.postData.ad_break_prereview,ad_breaks_experiment_revenue_loss_threshold:this.postData.ad_breaks_experiment_revenue_loss_threshold,ad_breaks_creator_chosen_contextual_category:this.postData.ad_breaks_creator_chosen_contextual_category,enable_ad_breaks_experiment:this.postData.enable_ad_breaks_experiment,ad_breaks_block_lists:this.postData.ad_breaks_block_lists,has_ad_breaks_block_lists:this.postData.has_ad_breaks_block_lists,is_in_stream_enabled:this.postData.is_in_stream_enabled,self_cert_answers:this.postData.self_cert_answers,self_cert_educational_form:this.postData.self_cert_educational_form,self_cert_selected_no_sensitive:this.postData.self_cert_selected_no_sensitive,self_cert_predicted_status:this.postData.self_cert_predicted_status,should_auto_adjust_manual_ad_breaks:this.postData.should_auto_adjust_manual_ad_breaks,should_auto_insert_ad_breaks:this.postData.should_auto_insert_ad_breaks,should_use_image_ads:this.postData.should_use_image_ads,monetization_pre_check_options:this.postData.monetization_pre_check_options}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_3=function(){return{dogfooding:this.postData.dogfooding,draft:this.postData.draft,is_reviewable_branded_content:this.postData.is_reviewable_branded_content,scheduled:this.postData.scheduled,future_date:this.postData.future_date,future_time:this.postData.future_time,expiring:this.postData.expiring,expire_type:this.postData.expire_type!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.expire_type,c("ExpirationType")):null,expire_time:this.postData.expire_time,backdated_date:this.postData.backdated_date,hide_from_newsfeed:this.postData.hide_from_newsfeed,schedule_timestamp:this.postData.schedule_timestamp}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_24=function(){var a=this.postData.branded_content_data;if(a==null)return null;var b=a.tagging_data;b!=null&&(b=babelHelpers["extends"]({},b,{shared_to_sponsor_status:b.shared_to_sponsor_status!=null?d("enumUtils").enumValueToKeyEnforcing(b.shared_to_sponsor_status,c("BrandedContentSharedToSponsorStatus")):null,sponsor_relationship:b.sponsor_relationship!=null?d("enumUtils").enumValueToKeyEnforcing(b.sponsor_relationship,c("BrandedContentSponsorRelationship")):null}));return babelHelpers["extends"]({},a,{tagging_data:b})};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_5=function(){return{action_type_id:this.postData.action_type_id,branded_content_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_24(),collaborator_id:this.postData.collaborator_id,composertags_place_name:this.postData.composertags_place_name,composertags_place:this.postData.composertags_place,composertags_product_items:this.postData.composertags_product_items,composertags_sponsor:this.postData.composertags_sponsor,composertags_with:this.postData.composertags_with,content_tags:this.postData.content_tags,cta_type:this.postData.cta_type!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.cta_type,c("CallToActionTypes")):null,deal_id:this.postData.deal_id,direct_share_status:this.postData.direct_share_status!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.direct_share_status,c("BrandedContentSharedToSponsorStatus")):null,episode_data_json:this.postData.episode_data_json,external_movie_data:this.postData.external_movie_data,feed_targeted_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_25(),fan_funding_promotion_metadata:this.postData.fan_funding_promotion_metadata,free_form_tags:this.postData.free_form_tags,funded_content_program:this.postData.funded_content_program?d("enumUtils").enumValueToKeyEnforcing(this.postData.funded_content_program,c("VideoFundedContentFlagProgram")):null,fundraiser_for_story_charity_id:this.postData.fundraiser_for_story_charity_id,fundraiser_for_story_charity_type:this.postData.fundraiser_for_story_charity_type,game_id:this.postData.game_id,icon_id:this.postData.icon_id,is_explicitly_tagged_as_gaming_video:this.postData.is_explicitly_tagged_as_gaming_video,is_rewards_enabled:this.postData.is_rewards_enabled,is_stars_enabled_for_post:this.postData.is_stars_enabled_for_post,multilingual_specified_lang:this.postData.multilingual_specified_lang,multilingual_status_langs:this.postData.multilingual_status_langs,multilingual_statuses:this.postData.multilingual_statuses,object_id:this.postData.object_id,object_str:this.postData.object_str,playlistIDs:this.postData.playlistIDs,share_to_parent_page_option_selected:this.postData.share_to_parent_page_option_selected,send_dm_invite:this.postData.send_dm_invite,sponsor_relationship:this.postData.sponsor_relationship?d("enumUtils").enumValueToKeyEnforcing(this.postData.sponsor_relationship,c("BrandedContentSponsorRelationship")):null,targeted_privacy_data:JSON.stringify(this.postData.targeted_privacy_data),background_ab_opted_in:this.postData.background_ab_opted_in,video_duration:this.postData.video_duration}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_25=function(){var a=babelHelpers["extends"]({},this.postData.feed_targeted_data);this.postData.relevant_until_date!=null&&(a["relevant-until-date"]=this.postData.relevant_until_date);this.postData.relevant_until_time!=null&&(a["relevant-until-time"]=this.postData.relevant_until_time);Object.keys(a).length===0&&(a=void 0);return JSON.stringify(a)};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_6=function(){return{commentating_permission:this.postData.commentating_permission!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.commentating_permission,c("VideoCommentatingPermission")):null,crossposting_config:this.postData.crossposting_config,disturbing:this.postData.disturbing,embeddable:this.postData.embeddable,enable_drm:this.postData.enable_drm,exclude_from_watch:this.postData.exclude_from_watch,mature_content_rating:this.postData.mature_content_rating!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.mature_content_rating,c("VideoAssetMatureContentRating")):null,no_story:this.postData.no_story,secret:this.postData.secret,shows_v2_episode_data:this.postData.shows_v2_episode_data,social_actions:this.postData.social_actions}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_7=function(){return{is_receiving_stars_enabled:this.postData.is_receiving_stars_enabled,stars_goal_id:this.postData.stars_goal_id,stars_cue_trigger_timestamp:this.postData.stars_cue_trigger_timestamp}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_11=function(){return{custom_labels:this.postData.custom_labels,external_video_id:this.postData.external_video_id}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_9=function(){return{questions:this.postData.questions}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_10=function(){return{polls:this.postData.polls}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_26=function(a){return a.getIsDefault()?"captions_default":"captions_file"};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_12=function(){var a,b=this;a=(a=this.postData.captions)==null?void 0:a.map(function(a,c){return b.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_26(a)+c});return{autopublish_captions:this.postData.autopublish_captions,captions:a,should_review_all_captions:this.postData.should_review_all_captions,spoken_locale:this.postData.spoken_locale,autopublish_subtitles:this.postData.autopublish_subtitles}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_21=function(){var a,b=this,c={};(a=this.postData.captions)==null||a.forEach(function(a,d){c[b.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_26(a)+d]=a.getFile()});return c};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_8=function(){return{auto_reframe_aspect_ratios:this.postData.auto_reframe_aspect_ratios,auto_reframe_publish_mode:this.postData.auto_reframe_publish_mode,trailer_review_required:this.postData.trailer_review_required,trailer_generate_on:this.postData.trailer_generate_on,auto_reframe_mobile_only:this.postData.auto_reframe_mobile_only||!1}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_13=function(){return{initialHeading:this.postData.initialHeading,initialPitch:this.postData.initialPitch,fov:this.postData.fov,guide_enabled:this.postData.guide_enabled,guide_keyframes:this.postData.guide_keyframes,enable_omnistab:this.postData.enable_omnistab,spherical:this.postData.spherical,projection:this.postData.projection!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.projection,c("VideoProjection")):null,stereoMode:this.postData.stereoMode!=null?d("enumUtils").enumValueToKeyEnforcing(this.postData.stereoMode,c("VideoStereoFormat")):null}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_14=function(){return{premiere_time_ms:this.postData.premiere_time_ms,should_premiere:this.postData.should_premiere,premiere_in_living_room_video_ids:this.postData.premiere_in_living_room_video_ids,premiere_custom_profile_image_focus:this.postData.premiere_custom_profile_image_focus,feed_background_focus:this.postData.feed_background_focus,premiere_audience:this.postData.premiere_audience,premiere_is_loe:this.postData.premiere_is_loe,premiere_event_category_id:this.postData.premiere_event_category_id}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_15=function(){return{location_preset_id:this.postData.location_preset_id}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_16=function(){return{is_abtesting:this.postData.is_abtesting,should_publish_uuc:this.postData.should_publish_uuc}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_17=function(){return{dubbing_enabled:this.postData.dubbing_enabled,dub_voice_speed:this.postData.dub_voice_speed,target_locale:this.postData.target_locale,voice_code:this.postData.voice_code}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_19=function(){return{publish_as_non_uuc_reel:this.postData.publish_as_non_uuc_reel}};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_18=function(){return this.postData.reel_publish_data};e.$GraphQLVideoPublisherVideoUploaderInputDataHandler$p_20=function(){return this.postData.reshare_post_as_sticker==null?null:{reshare_post_as_sticker:this.postData.reshare_post_as_sticker,resharing_frequency:this.postData.resharing_frequency}};return b}(d("GraphQLVideoPublisherInputDataHandlerBase").GraphQLVideoPublisherInputDataHandlerBase);g["default"]=a}),98);
__d("ReelComposerReelPublishMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24143317328587698"}),null);
__d("ReelComposerReelPublishMutation.graphql",["ReelComposerReelPublishMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CpxReelPublishResponsePayload",kind:"LinkedField",name:"cpx_reel_publish",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"published_video_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ReelComposerReelPublishMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ReelComposerReelPublishMutation",selections:c},params:{id:b("ReelComposerReelPublishMutation_facebookRelayOperation"),metadata:{},name:"ReelComposerReelPublishMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ReelComposerReframeAspectRatio",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["NONE","VERTICAL","SQUARE","FOUR_BY_FIVE","MANUAL_9X16","SPLIT_1X3"]);f.ReelComposerReframeAspectRatio=a}),66);
__d("ReelCreationFlowUtils",["$InternalEnum","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=b("$InternalEnum")).Mirrored(["PUBLISH_NOW","SCHEDULE","DRAFT"]);d=a.Mirrored(["AUDIO","VIDEO"]);e=a.Mirrored(["CREATE","EDIT","AB_TESTING"]);f=a.Mirrored(["CREATOR_STUDIO","MBS","REELS_BULK_UPLOAD"]);b=a.Mirrored(["ENABLED","DISABLED"]);a=function(a){c("vulture")("Zy_DFT_d9vEB43MOHwvCR9PVUGA=");switch(a){case h.PUBLISH_NOW:return"published";case h.DRAFT:return"draft";case h.SCHEDULE:return"scheduled"}};g.ReelPublishType=h;g.ReelEnhancementType=d;g.ReelComposerMode=e;g.ReelsComposerEntrypoint=f;g.ReelsComposerOriginalAudioReuseMode=b;g.getReelPostStatusFromReelPublishType=a}),98);
__d("XFBXFamilyBusinessContentType.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["POST","REEL","STORY"]);c=a;f["default"]=c}),66);
__d("getEnumFromString",["memoizeByReference"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={};Object.values(a).forEach(function(a){b[a]=a});return b}var h=c("memoizeByReference")(a);function b(a,b){if(b==null)return null;a=h(a);return a[b]!=null?a[b]:null}g["default"]=b}),98);
__d("getChunkForContentState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(b){c=c.getEntity(b);if(c.getType()==="EMOTICON")return c.getData().originalEmoticon;else if(c.getType()==="EMOJI")return c.getData().emoji.join("")}return a.replace("@[","@ [")}f["default"]=a}),66);
__d("getMentionsTextForContentState",["emptyFunction","getChunkForContentState"],(function(a,b,c,d,e,f){"use strict";var g=b("emptyFunction").thatReturnsTrue,h=/[\\\]:]/g;function a(a,b,c){b===void 0&&(b="");c===void 0&&(c=!0);var d=a.getBlockMap().map(function(b){var d=b.getText(),e=[];b.findEntityRanges(g,function(f,g){e.push(i(d.slice(f,g),b.getEntityAt(f),a,c))});return e.join("")});return d.join("\n"+b)}function i(a,c,d,e){if(c){var f=d.getEntity(c);if(f.getType()==="MENTION"){e&&(a=a.replace(h,function(a){return"\\"+a}));e=f.getData().id;if(/^\d+$/.test(e))return"@["+e+":"+a+"]"}}return b("getChunkForContentState")(a,c,d)}e.exports=a}),null);
__d("getShouldDisableCollabsDraftsandScheduling",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!c("gkx")("9836")}g.getShouldDisableCollabsDraftsandScheduling=a}),98);
__d("shouldUsePostCollabsField",["getShouldDisableCollabsDraftsandScheduling","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return!a?!1:b===!1?c("gkx")("10000"):!d("getShouldDisableCollabsDraftsandScheduling").getShouldDisableCollabsDraftsandScheduling()}g.shouldUsePostCollabsField=a}),98);
__d("ReelComposerReelPublishMutation",["AdsValidationConsts","BusinessComposerIGAudienceTypes","DateConsts","ISOCountryCode","ReelComposerReelPublishMutation.graphql","ReelComposerReframeAspectRatio","ReelCreationFlowUtils","RelayModern","getEnumFromString","getMentionsTextForContentState","justknobx","requireDeferred","shouldUsePostCollabsField","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ODS").__setRef("ReelComposerReelPublishMutation"),j=1,k=h!==void 0?h:h=b("ReelComposerReelPublishMutation.graphql");function a(a,b,c,e){e=l(e);d("RelayModern").commitMutation(a,{mutation:k,variables:{input:e},onCompleted:b,onError:function(a){return c()}})}function l(a){var b,e,f,g=a.isFormatMergeEnabled,h=a.videoID,k=a.shouldSkipEncoding,l=a.shouldEnforceVideoEditorPath,p=a.loggingClientInfo,q=a.reelRemixingEnabled,r=a.reelPublishType,s=a.reelScheduledUnixTimestamp,t=a.reelDescription,u=a.trimStartTimeMs,v=a.trimEndTimeMs,w=a.isTrimTimestampsEqualToEntireVideo,x=a.reelReframeAspectRatio,y=a.collaborators,z=a.videoThumbnailFileID,A=a.thumbnailType,B=a.audioEnhancementProcessingAmount,C=a.music,D=a.audioCustomStartTimeMs,E=a.placements,F=a.igBusinessID,G=a.inStreamAdsSettings,H=a.manualCrop,aa=a.mixingParams,I=a.geoTargetingData,ba=a.overlay,ca=a.mainTrack,da=a.photoTrack,ea=a.original_resolution,fa=a.isReceivingStarsEnabled,J=a.linkedVideoID,K=a.reelsCreatorPlaylistID,L=a.reelsCreatorPlaylistItemOrder,M=a.reelsCreatorPlaylistItemBatchSize,N=a.addedHashtags,ga=a.fbMonetizationData,ha=a.reelEmbeddingEnabled,ia=a.totalVideoDuration,O=a.isABTest,ja=a.shouldUseConsolidatedReelEditPublishPath,ka=a.shouldShareToStory;a.storySharingFrequency;var P=a.igTargetingPrivacyData,Q=a.locationTag,R=a.reelsReshareDestination,la=a.reelsPoll,S=a.pageCaptionSettings,T=a.reelCaptionSettings,U=a.alternateAudioTracks,V=a.autoDubbingSettings,W=a.videoContainerType,ma=a.vodTitle,na=a.allowTrimBeyondMaxLength,X=a.closedCaptions,oa=a.shouldDisplayManualDescriptionsSectioninBYOA;a=a.isBoostToggleOn;W=W==="POST"||g===!0;var Y=r===d("ReelCreationFlowUtils").ReelPublishType.DRAFT||O===!0;r=r===d("ReelCreationFlowUtils").ReelPublishType.SCHEDULE&&O!==!0;O={caption:t,enable_remix:q,is_draft:Y,is_scheduled:r,scheduled_publish_time:s};q=(C==null?void 0:C.id)!=null?{id:C.id,offset:(D!=null?D:C.audio.highlightStartTimeMs)/d("DateConsts").MS_PER_SEC,duration:(v-u)/d("DateConsts").MS_PER_SEC}:null;s=w&&x===d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.NONE&&q===null&&B===0;D=s?null:{start_time_in_sec:u/d("DateConsts").MS_PER_SEC,end_time_in_sec:v/d("DateConsts").MS_PER_SEC};w=(C=I==null||(b=I.countries)==null?void 0:b.map(function(a){return c("getEnumFromString")(c("ISOCountryCode"),a)}).filter(Boolean))!=null?C:[];u=((s=I==null?void 0:I.regions)!=null?s:[]).map(function(a){var b;return{key:a.key,country:(b=a.country)!=null?b:"",name:(b=a.name)!=null?b:""}});w.length>0&&i.onReady(function(a){a.bumpEntityKey(5907,"fb_stories_web","geo_gating.reel.create",1)});var Z=(v=P==null||(e=P.targetingData)==null?void 0:e.geoLocations.countries)!=null?v:null;I=(C=P==null?void 0:P.isIncluded)!=null?C:!1;s=null;if(Z!=null&&Z.length>0)if(I){s={age_min:c("AdsValidationConsts").minAge,geo_locations:{countries:(v=Array.from(new Set(Z)))!=null?v:[]}}}else{P=Object.keys(c("ISOCountryCode")).filter(function(a){return!d("BusinessComposerIGAudienceTypes").UnsupportedIGAudienceCountryList.includes(a)&&!Z.includes(a)});s={age_min:c("AdsValidationConsts").minAge,geo_locations:{countries:(C=Array.from(new Set(P)))!=null?C:[]}}}I={reshare_destination:R==null?void 0:R.map(function(a){return{message:{text:a.postText},reshare_audience:{to_id:a.groupID}}})};v=null;K!=null&&(v={videolist_ids:[K],order:L,batch_size:M});P=W?["FACEBOOK_NEWS_FEED"]:E;C=null;if(W&&G!=null){var $;K=(R=G==null||($=G.ad_breaks_block_lists)==null||($=$.filter(Boolean))==null?void 0:$.map(function(a){return a}))!=null?R:[];M=(L=K==null?void 0:K.map(function(a){return a.toString()}))!=null?L:[];C={has_ad_breaks_block_lists:(E=G==null?void 0:G.has_ad_breaks_block_lists)!=null?E:!1,should_auto_insert_ad_breaks:(R=G==null?void 0:G.should_auto_insert_ad_breaks)!=null?R:!1,should_use_image_ads:(K=G==null?void 0:G.should_use_image_ads)!=null?K:!1,ad_breaks_block_lists:M!=null?M:[]}}L=n(x);E=d("shouldUsePostCollabsField").shouldUsePostCollabsField(y.length>0,Y||r);R=X!=null&&X.length>0?{caption_ids:X.map(function(a){return a.id})}:null;return{video_id:h!=null?h:"",should_skip_encoding:k!=null?k:!1,should_enforce_video_editor_path:l!=null?l:!1,metadata:O,trim_timestamps:D,reframe_aspect_ratio:m(x),client_info:p,client_mutation_id:(G=p==null?void 0:p.client_session_id)!=null?G:c("uuidv4")(),reframe_aggressiveness:j,reframe_settings:L?{version:L}:void 0,video_collaboration:E?null:{collaborators:y},post_collaborators:E?{post_collaborators:y}:null,video_thumbnail_file_id:z,thumbnail_type:A.toString(),audio_enhancement:{processing:B},is_boost_toggle_on:a,music_overlay:q,placements:P,ig_business_id:F,manual_reframe:H?o(H):null,audio_mixing:babelHelpers["extends"]({},aa),targeted_privacy_data:w.length>0||u.length>0?{age_min:0,geo_locations:{countries:w,regions:u}}:null,overlay:ba,main_track:ca,photo_track:da,original_resolution:ea,is_receiving_stars_enabled:fa,linked_vod_data:J!=null?{target_video_id:J}:null,videolist:v,hashtags_logging_data:{added_hashtags:(N!=null?N:[]).map(function(a){return{hashtag:a.hashtag,tool_type:a.toolType}})},fb_monetization_data:ga,embeddable:ha,should_share_to_story:ka,total_video_duration:ia,should_use_consolidated_reel_edit_publish_path:ja,ig_targeted_privacy_data:s,vod_in_stream_ads_settings:C,location_tag:Q!=null?{place_id:Q.id}:null,groups_schedule_resharing:I,reels_poll:la,auto_gen_captions_settings:T!=null?{autogenerate_captions_enabled:T.autogenerate_captions_enabled,should_review_all_captions:T.should_review_all_captions}:c("justknobx")._("1058")&&S!=null?{autogenerate_captions_enabled:S.autogenerate_captions_enabled,should_review_all_captions:S.should_review_all_captions}:null,translated_audio_metadata:U!=null&&U.length>0?U.map(function(a){var b,d=a.description;d=d!=null?c("getMentionsTextForContentState")(d.getCurrentContent()):null;return{audio_handle:(b=a.handle)!=null?b:"",lang_code:(a=(b=a.langCode)==null?void 0:b.valueOf())!=null?a:"",handle_type:"UPLOAD_SERVICE_HANDLE",enabled:!0,description:oa===!0&&d!==t?d:null}}):(V==null?void 0:V.translateVoiceWithMetaAi)===!0?V==null||(f=V.targetLanguages)==null?void 0:f.map(function(a){return{lang_code:a,is_lipsync_enabled:V.enableLipSyncing,enabled:!0,source_lang_code:V.sourceLanguage,audio_handle:"",require_review:V.reviewBeforePublishing}}):null,vod_title:W?ma:void 0,allow_trim_beyond_max_length:na,closed_captions:R,has_overridden_video_format:g===!0}}e={aspect_ratio_denominator:16,aspect_ratio_numerator:9};function m(a){switch(a){case d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.NONE:return null;case d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.MANUAL_9X16:case d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.SPLIT_1X3:case d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.VERTICAL:return{aspect_ratio_denominator:16,aspect_ratio_numerator:9};case d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.SQUARE:return{aspect_ratio_denominator:1,aspect_ratio_numerator:1};case d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.FOUR_BY_FIVE:return{aspect_ratio_denominator:5,aspect_ratio_numerator:4}}}function n(a){if(a===d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.VERTICAL)return"VERSION_3"}function o(a){return{left:a==null?void 0:a.crop_section_relative_top_x,right:a?a.crop_section_relative_top_x+a.crop_section_relative_width:void 0,top:a==null?void 0:a.crop_section_relative_top_y,bottom:a?a.crop_section_relative_top_y+a.crop_section_relative_height:void 0}}g.reelPublishMutation=a;g.getReelPublishInputObject=l;g.DEFAULT_ASPECT_RATIO_PARAMS=e;g.getAspectRatioParams=m;g.getReframeVersion=n;g.manualCropToReframeParameters=o}),98);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;e.exports=a(function(a){return{configName:"RelayFBEnvironment",actorID:a}})}),null);
__d("VideoComposerVideoPublishingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29705123342436060"}),null);
__d("VideoComposerVideoPublishingMutation.graphql",["VideoComposerVideoPublishingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPublishResponsePayload",kind:"LinkedField",name:"video_publish",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_asset_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComposerVideoPublishingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComposerVideoPublishingMutation",selections:c},params:{id:b("VideoComposerVideoPublishingMutation_facebookRelayOperation"),metadata:{},name:"VideoComposerVideoPublishingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoComposerVideoPublishingMutation",["RelayAPIConfig","VideoComposerVideoPublishingMutation.graphql","cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";var h,i=1e3*90,j=h!==void 0?h:h=b("VideoComposerVideoPublishingMutation.graphql");function a(a,d,e,f,g){var h=c("RelayAPIConfig").fetchTimeout;c("RelayAPIConfig").fetchTimeout=i;return b("cr:1012418").commitMutation(d,{uploadables:e,mutation:j,variables:{input:a},onCompleted:function(a){c("RelayAPIConfig").fetchTimeout=h,f(a)},onError:function(a){c("RelayAPIConfig").fetchTimeout=h,g(a)}})}g.commit=a}),98);
__d("VideoComposerVideoPublisher",["ReelComposerReelPublishMutation","ReelComposerReframeAspectRatio","ReelCreationFlowUtils","RelayFBEnvironmentFactory","VideoComposerVideoPublishingMutation","err","getIsEligibleFor180SecondReelLimit"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.mapPostDataToGraphQLInputObject(),this.$3=a.hasAPISupport(),this.$2=a.uploadables()}var b=a.prototype;b.publish=function(a,b){if(this.$1.publish_as_reel===!0){var e,f,g,h=c("RelayFBEnvironmentFactory").getForActorID(this.$1.basic_data.target_id);e=(e=this.$1.post_status_data)!=null&&e.draft?d("ReelCreationFlowUtils").ReelPublishType.DRAFT:(e=this.$1.post_status_data)!=null&&e.scheduled?d("ReelCreationFlowUtils").ReelPublishType.SCHEDULE:d("ReelCreationFlowUtils").ReelPublishType.PUBLISH_NOW;var i=null;f=(f=this.$1.post_status_data)==null?void 0:f.future_date;g=(g=this.$1.post_status_data)==null?void 0:g.future_time;f!=null&&g!=null&&(i=+new Date(f).getTime()+(+g)*1e3);d("ReelComposerReelPublishMutation").reelPublishMutation(h,function(){},function(){},{videoID:(f=this.$1.basic_data.video_id)!=null?f:"",shouldSkipEncoding:!1,shouldEnforceVideoEditorPath:null,loggingClientInfo:{entry_point:"CS_IG_CROSSPOST_REEL",composer_entry_point:"CS_IG_CROSSPOST_REEL",product:"CREATOR_STUDIO",feature:"IG_REELS_SHARED_TO_FB"},reelRemixingEnabled:!1,reelPublishType:e,reelScheduledUnixTimestamp:i!=null?i/1e3:0,reelDescription:(g=this.$1.basic_data.xhpc_message)!=null?g:"",trimStartTimeMs:0,trimEndTimeMs:0,isTrimTimestampsEqualToEntireVideo:!0,reelReframeAspectRatio:d("ReelComposerReframeAspectRatio").ReelComposerReframeAspectRatio.NONE,collaborators:[],videoThumbnailFileID:null,thumbnailType:"generated_default",audioEnhancementProcessingAmount:0,music:null,audioCustomStartTimeMs:null,placements:["FACEBOOK_REEL"],igBusinessID:null,manualCrop:null,mixingParams:null,geoTargetingData:null,allowTrimBeyondMaxLength:c("getIsEligibleFor180SecondReelLimit")()})}else{if(!this.$3)throw c("err")("This api does not support your publishing use case");d("VideoComposerVideoPublishingMutation").commit(this.$1,c("RelayFBEnvironmentFactory").getForActorID(this.$1.basic_data.target_id),this.$2,a,b)}};return a}();g["default"]=a}),98);
__d("VideoUploadGraphQLPostRequestManager",["FBLogger","GraphQLVideoPublisherInputDataHandlerBase","GraphQLVideoPublisherVideoUploaderInputDataHandler","VideoComposerVideoPublisher","clearTimeout","cr:909282","err","mixin","setTimeout"],(function(a,b,c,d,e,f,g){a=function(a){function b(b,c,d,e){var f;f=a.call(this)||this;f.$VideoUploadGraphQLPostRequestManager$p_1=0;f.$VideoUploadGraphQLPostRequestManager$p_2=0;f.$VideoUploadGraphQLPostRequestManager$p_3=0;f.$VideoUploadGraphQLPostRequestManager$p_4=0;f.$VideoUploadGraphQLPostRequestManager$p_5=0;f.$VideoUploadGraphQLPostRequestManager$p_6=0;f.$VideoUploadGraphQLPostRequestManager$p_7=null;f.$VideoUploadGraphQLPostRequestManager$p_8=null;f.$VideoUploadGraphQLPostRequestManager$p_9=!1;f.$VideoUploadGraphQLPostRequestManager$p_1=b;f.$VideoUploadGraphQLPostRequestManager$p_2=c;f.$VideoUploadGraphQLPostRequestManager$p_3=0;f.$VideoUploadGraphQLPostRequestManager$p_4=d;f.$VideoUploadGraphQLPostRequestManager$p_5=e;f.$VideoUploadGraphQLPostRequestManager$p_6=0;return f}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.sendRequest=function(a){this.$VideoUploadGraphQLPostRequestManager$p_8=a;if(this.$VideoUploadGraphQLPostRequestManager$p_9){c("FBLogger")("video_publish_graphql").info("Sending publishing request again while processing another request");return}this.$VideoUploadGraphQLPostRequestManager$p_10();this.inform("request-started")};e.clearRequest=function(){this.$VideoUploadGraphQLPostRequestManager$p_9=!1,this.$VideoUploadGraphQLPostRequestManager$p_6=0,this.$VideoUploadGraphQLPostRequestManager$p_3=0};e.$VideoUploadGraphQLPostRequestManager$p_10=function(){var a=this.$VideoUploadGraphQLPostRequestManager$p_8;if(a==null)return;c("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager$p_7);this.$VideoUploadGraphQLPostRequestManager$p_7=null;var b=a.getMetadata();a=this.__createRequestData(a);b=new(c("GraphQLVideoPublisherVideoUploaderInputDataHandler"))(b,a);this.$VideoUploadGraphQLPostRequestManager$p_9=!0;a=new(c("VideoComposerVideoPublisher"))(b);a.publish(this.$VideoUploadGraphQLPostRequestManager$p_11.bind(this),this.$VideoUploadGraphQLPostRequestManager$p_12.bind(this))};e.__createRequestData=function(a){var b=a.getVideoID(),d=a.getTargetID();if(b==null)throw c("err")("Video id cannot be null");if(d==null)throw c("err")("Target id cannot be null");return{video_id:b,target_id:d,source:"COMPOSER",waterfall_id:a.getWaterfallID()||"",creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};e.$VideoUploadGraphQLPostRequestManager$p_11=function(a){this.inform("request-finished",{video_asset_id:(a=a.video_publish)==null?void 0:a.video_asset_id});this.clearRequest()};e.$VideoUploadGraphQLPostRequestManager$p_13=function(a){this.inform("request-failed",{error_code:a.number,error_description:a.message,error_summary:a.name,error_object:a}),this.clearRequest()};e.$VideoUploadGraphQLPostRequestManager$p_12=function(a){this.$VideoUploadGraphQLPostRequestManager$p_14(a)&&this.$VideoUploadGraphQLPostRequestManager$p_6<this.$VideoUploadGraphQLPostRequestManager$p_4?(c("FBLogger")("video_publish_graphql").info("retry publishing for error: %s",a.stack),this.$VideoUploadGraphQLPostRequestManager$p_6++,this.$VideoUploadGraphQLPostRequestManager$p_15(this.$VideoUploadGraphQLPostRequestManager$p_16(this.$VideoUploadGraphQLPostRequestManager$p_5,this.$VideoUploadGraphQLPostRequestManager$p_6))):this.$VideoUploadGraphQLPostRequestManager$p_13(a)};e.$VideoUploadGraphQLPostRequestManager$p_16=function(a,b){return Math.pow(a,b)*1e3};e.$VideoUploadGraphQLPostRequestManager$p_15=function(a){c("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager$p_7),this.$VideoUploadGraphQLPostRequestManager$p_7=c("setTimeout")(this.$VideoUploadGraphQLPostRequestManager$p_10.bind(this),a)};e.$VideoUploadGraphQLPostRequestManager$p_14=function(a){a=a.toString();return a.includes("NetworkTransportError")||a.includes("NetworkTimeoutError")||a.includes("NetworkRequestError")?!0:!1};e.hasAPISupport=function(a){return d("GraphQLVideoPublisherInputDataHandlerBase").hasAPISupport(a)};return b}(c("mixin")(b("cr:909282")));g["default"]=a}),98);
__d("submitForm",["cr:6114"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.querySelector('input[type="submit"]');c!=null?c.click():(c=b("cr:6114").create("input",{type:"submit",className:"hidden_elem"}),b("cr:6114").appendContent(a,c),c.click(),b("cr:6114").remove(c))}g["default"]=a}),98);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","VideoUploadFeatureDetector","emptyFunction","flattenPHPQueryData","submitForm"],(function(a,b,c,d,e,f){var g="video";a=function(){"use strict";function a(a){this.$1=a;this.$2=null;this.$3=!1;this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$8=a=b("emptyFunction");this.$9=a;this.$10=a;this.$11=a;this.$12=null}var c=a.prototype;c.setAllowCrossOrigin=function(a){this.$3=a;return this};c.setData=function(a){this.$4=a;return this};c.setWaterfallID=function(a){this.$6=a;return this};c.setSuccessHandler=function(a){this.$8=a;return this};c.setErrorHandler=function(a){this.$9=a;return this};c.setTransportErrorHandler=function(a){this.$10=a;return this};c.setUploadProgressHandler=function(a){this.$11=a;return this};c.setTimeoutHandler=function(a,b){this.$7=a;this.$12=b;return this};c.setThumbnail=function(a){this.$13=a;return this};c.setCustomProfileImage=function(a){this.$14=a;return this};c.setCustomBackgroundImage=function(a){this.$15=a;return this};c.setFeedBackgroundImage=function(a){this.$16=a;return this};c.setHandle=function(a){this.$5=a;return this};c.setCaptions=function(a){this.$17=a;return this};c.setPollOptionImages=function(a){this.$18=a;return this};c.send=function(){if(this.$2)throw new Error("An upload request is already in progress.");if(b("VideoUploadFeatureDetector").supportsXHR()){this.$2=this.$19();if(this.$13||this.$17||this.$14||this.$15||this.$16||this.$18){var a=new FormData();this.$13&&a.append("thumb",this.$13);this.$14&&a.append("schedule_custom_profile_image",this.$14);this.$15&&a.append("schedule_custom_background_image",this.$15);this.$16&&a.append("schedule_feed_background_image",this.$16);this.$17&&this.$17.forEach(function(b,c){c=b.getIsDefault()?"captions_default":"captions_file"+c;a.append(c,b.getFile())});if(this.$18){var c=this.$18;Object.keys(c).forEach(function(b){a.append(b,c[b])})}if(this.$4){var d=b("flattenPHPQueryData")(this.$4);Object.keys(d).forEach(function(b){a.append(b,d[b])})}this.$2.setRawData(a)}this.$2.send()}else this.$2=this.$20(),this.$21(this.$2)};c.sendChunk=function(a){if(this.$2)throw new Error("An upload request is already in progress.");var b=new FormData();this.$5?b.append("fbuploader_video_file_chunk",this.$5):b.append("video_file_chunk",a);this.$2=this.$19();this.$2.setRawData(b);this.$2.send()};c.sendFile=function(a){if(this.$2)throw new Error("An upload request is already in progress.");this.$2=this.$20();var c=a.cloneNode(!1);a.name=g;b("DOM").replace(a,c);b("DOM").appendContent(this.$2.getRoot(),a);this.$21(this.$2);a.name=c.name;b("DOM").replace(c,a)};c.abort=function(){if(!this.$2)return;this.$2.abort();this.$2=null};c.$19=function(){var a=this.__getAsyncRequest().setAllowCrossOrigin(this.$3).setURI(this.$1).setData(this.$4).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",this.$6).setHandler(this.$8).setErrorHandler(this.$9).setTransportErrorHandler(this.$10).setUploadProgressHandler(this.$11);this.$12&&a.setTimeoutHandler(this.$7,this.$12);return a};c.__getAsyncRequest=function(){return new(b("AsyncRequest"))()};c.$20=function(){var a=b("DOM").create("form",{action:this.$1,method:"POST"});b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this.$4),a);a=new(b("FileForm"))(a,null,{allowCrossOrigin:this.$3});a.subscribe("success",this.$22.bind(this));a.subscribe("failure",this.$23.bind(this));a.subscribe("progress",this.$24.bind(this));return a};c.$21=function(a){b("DOM").appendContent(document.body,a.getRoot()),b("submitForm")(a.getRoot())};c.$22=function(a,b){this.$8(b.response)};c.$23=function(a,b){this.$9(b.response)};c.$24=function(a,b){this.$11(b.event)};return a}();e.exports=a}),null);
__d("VideoUploadPostRequestManager",["VideoUploadLogger","VideoUploadRequest","clearTimeout","cr:909282","isEmpty","mixin","setTimeout"],(function(a,b,c,d,e,f,g){var h;a=function(a){function b(b,c,d,e,f){var g;g=a.call(this)||this;g.$VideoUploadPostRequestManager2=b;g.$VideoUploadPostRequestManager3=c;g.$VideoUploadPostRequestManager4=d;g.$VideoUploadPostRequestManager5=0;g.$VideoUploadPostRequestManager6=e;g.$VideoUploadPostRequestManager7=f;g.$VideoUploadPostRequestManager8=0;return g}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.$VideoUploadPostRequestManager9=function(){return this.$VideoUploadPostRequestManager1?new(c("VideoUploadLogger"))({source:this.$VideoUploadPostRequestManager1.getSource(),waterfall_id:this.$VideoUploadPostRequestManager1.getWaterfallID(),target_id:this.$VideoUploadPostRequestManager1.getTargetID(),composer_entry_point_ref:this.$VideoUploadPostRequestManager1.getComposerEntryPointRef&&this.$VideoUploadPostRequestManager1.getComposerEntryPointRef()}):null};d.getRequest=function(){return this.$VideoUploadPostRequestManager10};d.sendRequest=function(a){this.$VideoUploadPostRequestManager1=a;if(this.$VideoUploadPostRequestManager10){var b=this.$VideoUploadPostRequestManager9();b&&b.logEvent(c("VideoUploadLogger").EVENT_DUPLICATE_POST_REQUEST);return}this.$VideoUploadPostRequestManager11=babelHelpers["extends"]({},a.getMetadata(),this.__createRequestData(a));this.$VideoUploadPostRequestManager12=this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager13=this.$VideoUploadPostRequestManager11.schedule_custom_profile_image;this.$VideoUploadPostRequestManager14=this.$VideoUploadPostRequestManager11.schedule_custom_background_image;this.$VideoUploadPostRequestManager15=this.$VideoUploadPostRequestManager11.schedule_feed_background_image;delete this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager16=this.$VideoUploadPostRequestManager11.captions;delete this.$VideoUploadPostRequestManager11.captions;this.$VideoUploadPostRequestManager17=a.getWaterfallID();this.$VideoUploadPostRequestManager18=this.$VideoUploadPostRequestManager11.pollImages;this.$VideoUploadPostRequestManager19();this.inform("request-started")};d.$VideoUploadPostRequestManager19=function(){c("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=null,this.$VideoUploadPostRequestManager10=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager2).setAllowCrossOrigin(!0).setData(this.$VideoUploadPostRequestManager11).setThumbnail(this.$VideoUploadPostRequestManager12).setCustomProfileImage(this.$VideoUploadPostRequestManager13).setCustomBackgroundImage(this.$VideoUploadPostRequestManager14).setFeedBackgroundImage(this.$VideoUploadPostRequestManager15).setCaptions(this.$VideoUploadPostRequestManager16).setWaterfallID(this.$VideoUploadPostRequestManager17).setPollOptionImages(this.$VideoUploadPostRequestManager18).setSuccessHandler(this.$VideoUploadPostRequestManager21.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager22.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager23.bind(this)),this.$VideoUploadPostRequestManager10.send()};d.__createRequestData=function(a){return{video_id:a.getVideoID(),target_id:a.getTargetID(),source:a.getSource(),waterfall_id:a.getWaterfallID(),creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};d.__getVideoUploadRequest=function(a){return new(c("VideoUploadRequest"))(a)};d.clearRequest=function(){this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager8=0,this.$VideoUploadPostRequestManager5=0};d.isInProgress=function(){return!!this.$VideoUploadPostRequestManager10};d.$VideoUploadPostRequestManager24=function(a){c("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=c("setTimeout")(this.$VideoUploadPostRequestManager19.bind(this),a)};d.$VideoUploadPostRequestManager25=function(a,b){return Math.pow(a,b)*1e3};d.$VideoUploadPostRequestManager21=function(a){a=a.getPayload();this.inform("request-finished",{video_id:a.video_id,video_asset_id:a.video_asset_id,container_type:a.container_type,transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,premiere_destination_video_id:a.premiere_destination_video_id});this.clearRequest()};d.$VideoUploadPostRequestManager26=function(a){var b,d=[].concat(a==null||(b=a.getPayload())==null||(b=b.error)==null?void 0:b.opes_mids,[a==null?void 0:a.errorMid]).filter(Boolean);this.inform("request-failed",{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,error_is_silent:a.isSilent(),error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__,opes_mids:(h||(h=c("isEmpty")))(d)?null:d});this.clearRequest()};d.$VideoUploadPostRequestManager22=function(a){this.$VideoUploadPostRequestManager10=null;this.$VideoUploadPostRequestManager5=0;var b=this.$VideoUploadPostRequestManager9();if(b){var d={server_retries:this.$VideoUploadPostRequestManager8,extra_data:{failure_is_transient:a.isTransient()}};b.logEvent(c("VideoUploadLogger").EVENT_HANDLING_SERVER_FAILURE_RESPONSE,d)}a.isTransient()&&this.$VideoUploadPostRequestManager8<this.$VideoUploadPostRequestManager6?(this.$VideoUploadPostRequestManager8++,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager7,this.$VideoUploadPostRequestManager8))):this.$VideoUploadPostRequestManager26(a)};d.$VideoUploadPostRequestManager23=function(a){var b=this.$VideoUploadPostRequestManager9();if(b){var d={extra_data:{transport_retries:this.$VideoUploadPostRequestManager5}};b.logEvent(c("VideoUploadLogger").EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE,d)}this.$VideoUploadPostRequestManager3===0||this.$VideoUploadPostRequestManager5>=this.$VideoUploadPostRequestManager3?this.$VideoUploadPostRequestManager26(a):(this.$VideoUploadPostRequestManager5++,this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager4,this.$VideoUploadPostRequestManager5)))};return b}(c("mixin")(b("cr:909282")));d=a;g["default"]=d}),98);
__d("VideoUploadRequestContext",[],(function(a,b,c,d,e,f){a=function(){function a(){var a=this;this.$14=!1;this.$21=0;this.$22=!1;this.$23=!1;this.$26=!1;this.getComposerEntryPointRef=function(){return a.$11};this.reset()}var b=a.prototype;b.setFile=function(a){this.$1=a;return this};b.getFile=function(){return this.$1};b.setMetadata=function(a){this.$24=a;return this};b.getMetadata=function(){return this.$24};b.setVideoID=function(a){this.$2=a;return this};b.getVideoID=function(){return this.$2};b.setXPVAssetID=function(a){this.$29=a;return this};b.getXPVAssetID=function(){return this.$29};b.setIsXPVSingleProd=function(a){this.$30=a;return this};b.getIsXPVSingleProd=function(){return this.$30};b.setUploadSessionID=function(a){this.$3=a;return this};b.getUploadSessionID=function(){return this.$3};b.setFbRegion=function(a){this.$4=a;return this};b.getFbRegion=function(){return this.$4};b.setStartOffset=function(a){this.$5=a;return this};b.getStartOffset=function(){return this.$5};b.setEndOffset=function(a){this.$6=a;return this};b.getEndOffset=function(){return this.$6};b.setPartitionStartOffset=function(a){this.$17=a;return this};b.getPartitionStartOffset=function(){return this.$17};b.setPartitionEndOffset=function(a){this.$18=a;return this};b.getPartitionEndOffset=function(){return this.$18};b.setPartitionNo=function(a){this.$19=a;return this};b.getPartitionNo=function(){return this.$19};b.setTargetID=function(a){this.$7=a;return this};b.getTargetID=function(){return this.$7};b.setSource=function(a){this.$8=a;return this};b.setComposerDialogVersion=function(a){this.$9=a;return this};b.getComposerDialogVersion=function(){return this.$9};b.getSource=function(){return this.$8};b.setWaterfallID=function(a){this.$10=a;return this};b.getWaterfallID=function(){return this.$10};b.setComposerEntryPointRef=function(a){this.$11=a;return this};b.setComposerWorkSharedDraftMode=function(a){this.$12=a;return this};b.getComposerWorkSharedDraftMode=function(){return this.$12};b.setHasFileBeenReplaced=function(a){this.$14=a;return this};b.getHasFileBeenReplaced=function(){return this.$14};b.setSupportsChunking=function(a){this.$15=a;return this};b.getSupportsChunking=function(){return this.$15};b.setSupportsFileAPI=function(a){this.$16=a;return this};b.getSupportsFileAPI=function(){return this.$16};b.setCreatorProduct=function(a){this.$20=a;return this};b.getCreatorProduct=function(){return this.$20};b.setLastKnownUploadSpeed=function(a){this.$21=a;return this};b.getLastKnownUploadSpeed=function(){return this.$21||0};b.setUseParallelChunks=function(a){this.$22=a;return this};b.getUseParallelChunks=function(){return this.$22};b.setIsSphericalVideo=function(a){this.$23=a;return this};b.getIsSphericalVideo=function(){return this.$23};b.setSphericalMetadata=function(a){this.$25=a;return this};b.getSphericalMetadata=function(){return this.$25};b.setEnableOmnistab=function(a){this.$26=a;return this};b.getEnableOmnistab=function(){return this.$26};b.setClientChunkSize=function(a){this.$27=a;return this};b.getClientChunkSize=function(){return this.$27};b.setVideoPublisherActionSource=function(a){this.$28=a;return this};b.getVideoPublisherActionSource=function(){return this.$28};b.setComposerSessionID=function(a){this.$13=a;return this};b.getComposerSessionID=function(){return this.$13};b.setRetryState=function(a){this.$31=a;return this};b.getRetryState=function(){return this.$31};b.setCreativeTools=function(a){this.$32=a;return this};b.getCreativeTools=function(){return this.$32};b.reset=function(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null,this.$14=!1,this.$15=null,this.$16=null,this.$17=null,this.$18=null,this.$19=null,this.$20=null,this.$21=0,this.$22=!1,this.$23=!1,this.$24={},this.$25={},this.$26=!1,this.$27=null,this.$28={},this.$13=null,this.$31=null,this.$32=null};return a}();f["default"]=a}),66);
__d("MediaUploadSingleAssetPublisher",["Promise","VideoUploadGraphQLPostRequestManager","VideoUploadPostRequestManager","VideoUploadRequestContext"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}a.publish=function(b){a.$1==null&&(a.$1=new a());return a.$1.publish(b)};var d=a.prototype;d.publish=function(a){var c=this;return new(h||(h=b("Promise")))(function(b){var d=c.$2(a.sessionSnapshot,a.assetSnapshot,a.postData),e,f=c.$3(a.postRequestManagerParams);f.hasAPISupport(a.postData)&&(e=f);e==null&&(e=c.$4(a.postRequestManagerParams));c.$5(e,b);e.sendRequest(d)})};d.$4=function(a){return new(c("VideoUploadPostRequestManager"))(a==null?void 0:a.chunk_post_uri,a==null?void 0:a.post_max_transport_retries,a==null?void 0:a.post_transport_retry_interval_base,a==null?void 0:a.post_max_server_retries,a==null?void 0:a.post_server_retry_interval_base)};d.$3=function(a){var b;return new(c("VideoUploadGraphQLPostRequestManager"))((b=a==null?void 0:a.post_max_transport_retries)!=null?b:0,(b=a==null?void 0:a.post_transport_retry_interval_base)!=null?b:0,(b=a==null?void 0:a.post_max_server_retries)!=null?b:0,(b=a==null?void 0:a.post_server_retry_interval_base)!=null?b:0)};d.$5=function(a,b){a.subscribe("request-finished",function(a,c){a={event:a,payload:c};b({isSuccessful:!0,rawResponse:a})}),a.subscribe("request-failed",function(a,c){a={event:a,payload:c};var d=(c==null?void 0:c.error_code)==null||(c==null?void 0:c.error_code)==0?"PublishError":c==null?void 0:c.error_code;b({isSuccessful:!1,errorCode:d,rawErrorObject:c==null?void 0:c.error_object,rawResponse:a})})};d.$2=function(a,b,d){return new(c("VideoUploadRequestContext"))().setVideoID(b.videoID).setTargetID(b.request.attributes.targetID).setSource(a.entryPoint.sourceType).setWaterfallID(a.sessionID).setCreatorProduct(b.request.attributes.creatorProduct).setComposerEntryPointRef(a.entryPoint.entryPointRef).setComposerDialogVersion(b.request.attributes.composerDialogVersion).setHasFileBeenReplaced((a=b.request.attributes.hasFileBeenReplaced)!=null?a:!1).setSupportsChunking(!0).setMetadata(d)};return a}();g["default"]=a}),98);
__d("MediaUploadVUShimLogger",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.logEvent=function(a,b){};b.postOnShutdown=function(a){return{remove:function(){}}};b.getWaterfallID=function(){return this.$1};return a}();f["default"]=a}),66);
__d("MediaUploadVUShimSession",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadCancelReason","MediaUploadFBSDK","MediaUploadFBStage","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadSingleAssetPublisher","MediaUploadStageEvent","MediaUploadVUShimLogger","MediaUploadVUShimSurface","Promise","WaterfallIDGenerator","cr:909282","mixin"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){function e(b,e){var f;f=a.call(this)||this;f.sessionID=d("WaterfallIDGenerator").generate();f.$MediaUploadVUShimSession$p_1=b;f.$MediaUploadVUShimSession$p_3=(b=b.waterfall_id)!=null?b:f.sessionID;f.$MediaUploadVUShimSession$p_6=e;f.$MediaUploadVUShimSession$p_5=new(c("MediaUploadVUShimLogger"))(f.$MediaUploadVUShimSession$p_3);f.$MediaUploadVUShimSession$p_10=!f.$MediaUploadVUShimSession$p_1.background_upload;return f}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.createTestLogger=function(){};f.getLogger=function(){return this.$MediaUploadVUShimSession$p_5};f.start=function(a){var b=this;this.inform("set-waterfall-id",{waterfallID:this.$MediaUploadVUShimSession$p_3});var d=c("MediaUploadVUShimSurface").createAssetRequest(function(b){var d=a.getFile(),e=a.getFileInput();if(d!=null)return b.createFromFile(d);else if(e!=null){d=b.createFromHTMLInput(e);if(d.dataAsFile()==null)throw c("MediaUploadFBSDK").createThrowableError("Cannot get File from the HTML input element");else return d}else throw c("MediaUploadFBSDK").createThrowableError("Invalid video upload file, it contains only null objects")},a.getStableAssetID(),function(a){var c;return{targetID:(c=b.$MediaUploadVUShimSession$p_4)!=null?c:b.$MediaUploadVUShimSession$p_1.target_id,composerSessionID:b.$MediaUploadVUShimSession$p_2,actorID:b.$MediaUploadVUShimSession$p_1.as_actor_id,composerDialogVersion:"V2",publisherActionSource:b.$MediaUploadVUShimSession$p_1.video_publisher_action_source,creatorProduct:((c=a.dataAsFile())==null?void 0:c.extension)==="gif"?4:2}});this.$MediaUploadVUShimSession$p_9=d;this.$MediaUploadVUShimSession$p_6.startUploads(this.sessionID,[d]);this.$MediaUploadVUShimSession$p_10&&this.$MediaUploadVUShimSession$p_6.confirmSession(this.sessionID,[d],function(a){return a.set("dummyPublish",!0)})};f.setTargetID=function(a){this.$MediaUploadVUShimSession$p_4=a};f.setComposerSessionID=function(a){this.$MediaUploadVUShimSession$p_2=a};f.post=function(a){this.$MediaUploadVUShimSession$p_10?c("MediaUploadFBSDK").reportRecoverableError("Video upload client configured for pessimistic upload and explicit publish calls are now allowed"):this.$MediaUploadVUShimSession$p_9!=null&&this.$MediaUploadVUShimSession$p_6.confirmSession(this.sessionID,[this.$MediaUploadVUShimSession$p_9],function(b){return b.set("postData",a)})};f.cancel=function(a){this.$MediaUploadVUShimSession$p_6.cancelSession(this.sessionID,c("MediaUploadCancelReason").USER_REQUEST)};f.abandon=function(a){this.$MediaUploadVUShimSession$p_6.cancelSession(this.sessionID,c("MediaUploadCancelReason").USER_REQUEST)};f.isPostInProgress=function(){var a;return((a=this.$MediaUploadVUShimSession$p_7)==null?void 0:a.status)===c("MediaUploadSessionStatus").PUBLISHING};f.isInProgress=function(){var a;return((a=this.$MediaUploadVUShimSession$p_8)==null?void 0:a.status)===c("MediaUploadAssetStatus").PROCESSING||((a=this.$MediaUploadVUShimSession$p_8)==null?void 0:a.status)===c("MediaUploadAssetStatus").UPLOADING};f.getHasUploadFinished=function(){var a;return((a=this.$MediaUploadVUShimSession$p_8)==null?void 0:a.status)===c("MediaUploadAssetStatus").COMPLETED};f.getVideoID=function(){var a;return(a=this.$MediaUploadVUShimSession$p_8)==null?void 0:a.videoID};f.getUploadTime=function(){var a,b;a=(a=this.$MediaUploadVUShimSession$p_8)==null||(a=a.uploadSummary)==null?void 0:a.startedAtMs;b=(b=this.$MediaUploadVUShimSession$p_8)==null||(b=b.uploadSummary)==null?void 0:b.finishedAtMs;return a!=null&&b!=null?b-a:null};f.getExPartitionNumber=function(a){return 0};f.getIsSphericalVideo=function(){var a;return(a=(a=this.$MediaUploadVUShimSession$p_8)==null||(a=a.metadata)==null?void 0:a.isSpherical)!=null?a:!1};f.startFlow=function(){this.$MediaUploadVUShimSession$p_10?c("MediaUploadFBSDK").reportRecoverableError("Video upload client configured for pessimistic upload and explicit publish calls are now allowed"):this.$MediaUploadVUShimSession$p_9!=null&&this.$MediaUploadVUShimSession$p_6.confirmSession(this.sessionID,[this.$MediaUploadVUShimSession$p_9])};f.sessionUpdated=function(a,b){this.$MediaUploadVUShimSession$p_7=b;var d=b.extras.getUnsafe("postData");if(d==null)return;b=b.publishingResponse;switch(a){case c("MediaUploadSessionEvent").PUBLISH_STARTED:this.inform("post-started",d);break;case c("MediaUploadSessionEvent").PUBLISH_SUCCEED:this.inform("post-finished",babelHelpers["extends"]({},(a=b==null?void 0:b.payload)!=null?a:{},d));break;case c("MediaUploadSessionEvent").PUBLISH_FAILED:this.inform("post-failed",(a=b==null?void 0:b.payload)!=null?a:{});break;default:}};f.assetUpdated=function(a,b,d){var e,f;this.$MediaUploadVUShimSession$p_7=b;this.$MediaUploadVUShimSession$p_8=d;var g,h;b=(b=(b=d.asset.dataAsFile())==null?void 0:b.size)!=null?b:0;e=(e=(e=d.uploadSummary)==null?void 0:e.skippedUpload)!=null?e:!1;switch(a){case c("MediaUploadAssetEvent").ASSET_ADDED:g="upload-requested";break;case c("MediaUploadAssetEvent").ASSET_STARTED:g="upload-started";break;case c("MediaUploadAssetEvent").ASSET_REMOVED:g="upload-canceled";break;case c("MediaUploadAssetEvent").ASSET_PROGRESS:g="upload-progressed";h={start_offset:0,end_offset:b,file_size:b,sent_bytes:e?b:(a=(a=d.uploadSummary)==null?void 0:a.uploadedBytes)!=null?a:0,video_id:d.videoID,upload_domain:d.uploadServiceDomain,skip_upload:e,transport_retries:d.retries.totalRetryAttempts};break;case c("MediaUploadAssetEvent").ASSET_SUCCEED:g="upload-finished";h={start_offset:0,end_offset:b,video_id:d.videoID,is_spherical_video:(a=d==null||(f=d.metadata)==null?void 0:f.isSpherical)!=null?a:!1};break;case c("MediaUploadAssetEvent").ASSET_FAILED:g="upload-failed";h={error_code:(e=d.lastAction)==null?void 0:e.rawErrorCode,error_summary:(b=d.lastAction)==null||(b=b.displayError)==null?void 0:b.summary,error_description:(a=d.lastAction)==null||(a=a.displayError)==null?void 0:a.description,error_is_transient:(e=d.lastAction)==null||(e=e.errorAttributes)==null?void 0:e.transientError,upload_domain:d.uploadServiceDomain,www_request_id:(b=d.lastAction)==null?void 0:b.networkRequestID};break;default:}g!=null&&this.inform(g,h)};f.stageUpdated=function(a,b,d,e){this.$MediaUploadVUShimSession$p_7=d;this.$MediaUploadVUShimSession$p_8=e;if(a===c("MediaUploadStageEvent").STAGE_SUCCEED&&b===c("MediaUploadFBStage").METADATA_EXTRACTION){if(e.metadata!=null){d=e.metadata;a=d.durationMs==null?void 0:d.durationMs/1e3;e={format:{duration:a,isSpherical:(b=d.isSpherical)!=null?b:!1},metadata:{},streams:{numAudioTracks:1,primaryVideo:{type:"video",width:d.width,height:d.height,duration:a},primaryAudio:{type:"audio",duration:a}}}}else e=null;this.inform("metadata-parsed",e)}};f.triggerPublish=function(a,d){var e;this.$MediaUploadVUShimSession$p_7=a;this.$MediaUploadVUShimSession$p_8=d[0];e=(e=a.extras.getBoolean("dummyPublish"))!=null?e:!1;var f=a.extras.getUnsafe("postData");if(e)return(h||(h=b("Promise"))).resolve({isSuccessful:!0});else if(f==null)return(h||(h=b("Promise"))).resolve({isSuccessful:!1,errorCode:"MISSING_POST_DATA"});else return c("MediaUploadSingleAssetPublisher").publish({sessionSnapshot:a,assetSnapshot:d[0],postData:f,postRequestManagerParams:this.$MediaUploadVUShimSession$p_1})};return e}(c("mixin")(b("cr:909282")));g["default"]=a}),98);
__d("MediaUploadOperationOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCELED","FAILED_NON_TRANSIENT","FAILED_NO_MORE_RETRIES","FAILED_OUT_OF_TIME"]);c=a;f["default"]=c}),66);
__d("MediaUploadCancelablePromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h={cancel:function(){}};a=function(){function a(a){var c=this;this.$1=!1;this.promise=new(g||(g=b("Promise")))(function(b,d){c.$2=a(b,d),c.$2==null&&(c.$2=h),c.$1&&c.$2.cancel()})}a.resolve=function(b){return new a(function(a){a(b)})};var c=a.prototype;c.then=function(b){var c=this;return new a(function(d,e){var f={cancelable:c};c.promise.then(function(d){f.cancelable=h;if(c.$1)return d;else{d=b(d);if(d instanceof a){f.cancelable=d;return d.promise}else return d}}).then(d)["catch"](function(){f.cancelable=h,e.apply(void 0,arguments)});return{cancel:function(){f.cancelable.cancel()}}})};c.isCanceled=function(){return this.$1};c.cancel=function(){if(!this.$1){var a;this.$1=!0;(a=this.$2)==null||a.cancel()}};return a}();f["default"]=a}),66);
__d("MediaUploadPipeline",["MediaUploadCancelablePromise","MediaUploadOperationOutcome"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){var d=this;this.$2=[];this.$3=null;this.$2=a;this.$1=b;this.cancelablePromise=new(c("MediaUploadCancelablePromise"))(function(a,b){d.$4(a,b,[].concat(d.$2));return{cancel:function(){var b;(b=d.$3)==null||b.cancel();d.$3=null;a(c("MediaUploadOperationOutcome").CANCELED)}}})}var b=a.prototype;b.$4=function(a,b,d){var e=this;if(d.length===0)this.$3=null,a(c("MediaUploadOperationOutcome").SUCCESS);else{var f=d.shift();f=f();this.$1.promiseTerminator(f.promise.then(function(f){e.cancelablePromise.isCanceled()?a(c("MediaUploadOperationOutcome").CANCELED):f===c("MediaUploadOperationOutcome").SUCCESS?e.$4(a,b,d):a(f)})["catch"](b));this.$3=f}};return a}();a=function(){function a(a){this.$2=[],this.$1=a}var b=a.prototype;b.addCancelableStep=function(a){this.$2.push(a)};b.addPlainStep=function(a){this.$2.push(function(){return new(c("MediaUploadCancelablePromise"))(function(b){b(a())})})};b.run=function(){var a=new h(this.$2,this.$1);return a.cancelablePromise};return a}();g["default"]=a}),98);
__d("MediaUploadAssetStrategy",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadOperationOutcome","MediaUploadPipeline","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=a.implementation,this.$2=a.executor,this.$3=a.params}var d=a.prototype;d.removeAsset=function(a){a.updateStatusAndEmit(c("MediaUploadAssetStatus").REMOVED);(a=a.inFlightUpload)==null||a.cancel()};d.addAsset=function(a){a.sessionContext.assetsByID.set(a.assetID,a),a.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_ADDED)};d.scheduleUpload=function(a){var b=this;a.updateStatusAndEmit(c("MediaUploadAssetStatus").SCHEDULED);return this.$2.schedule(function(){return b.$4(a)})};d.$4=function(a){var d=this;if(a.isRemoved())return(h||(h=b("Promise"))).resolve();a.updateStatusAndEmit(c("MediaUploadAssetStatus").PROCESSING);var e=new(c("MediaUploadPipeline"))(this.$3);e.addCancelableStep(function(){return d.$1.runClientLazyLoading(a)});e.addCancelableStep(function(){return d.$1.runLocalAssetStategy(a)});e.addCancelableStep(function(){a.updateStatusAndEmit(c("MediaUploadAssetStatus").UPLOADING);return d.$1.runNetworkAssetStategy(a)});e=e.run();a.inFlightUpload=e;return e.promise.then(function(b){return d.$5(a,b)})["catch"](function(b){d.$3.reportRecoverableError("Unexpected failure during asset pipeline execution",b),a.updateStatusAndEmit(c("MediaUploadAssetStatus").FAILED)})};d.$5=function(a,b){if(a.isRemoved())return;switch(b){case c("MediaUploadOperationOutcome").SUCCESS:a.updateStatusAndEmit(c("MediaUploadAssetStatus").COMPLETED);break;case c("MediaUploadOperationOutcome").CANCELED:a.updateStatusAndEmit(c("MediaUploadAssetStatus").REMOVED);break;default:a.updateStatusAndEmit(c("MediaUploadAssetStatus").FAILED)}};return a}();g["default"]=a}),98);
__d("MediaUploadRetryState",["MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.retryPolicy=a,this.$3=0,this.$4=0,this.$1=b.currentTimeProvider,this.$2=b.randomNumberProvider,this.$5=this.$1()}var b=a.prototype;b.resetBackoff=function(){this.$3=0};b.getRetryAttempts=function(){return this.$4};b.getRetryAttemptsSinceLastReset=function(){return this.$3};b.calculateBackoffDelay=function(){var a=this.retryPolicy.backoff,b=d("MediaUploadTime").timeToMilliseconds(a.initial),c=a.expBase,e=a.expMultiplier;this.$3>0&&c!=null&&e!=null&&(b+=d("MediaUploadTime").timeToMilliseconds(c)*Math.pow(e,this.$3-1));a.max!=null&&(b=Math.min(b,d("MediaUploadTime").timeToMilliseconds(a.max)));c=a.jitter==null?0:d("MediaUploadTime").timeToMilliseconds(a.jitter);c>0&&(b+=this.$2(-.5*c,.5*c));return d("MediaUploadTime").millisecondsToTime(Math.round(b))};b.exceedTotalRetries=function(){var a;return((a=this.retryPolicy.limits)==null?void 0:a.totalRetryCount)!=null&&this.$4>this.retryPolicy.limits.totalRetryCount};b.exceedTotalDuration=function(){var a;return((a=this.retryPolicy.limits)==null?void 0:a.totalTime)!=null&&d("MediaUploadTime").compareTime((a=this.retryPolicy.limits)==null?void 0:a.totalTime,d("MediaUploadTime").subtractTime(this.$1(),this.$5))<=0};b.increaseRetryAttemptCounter=function(){this.$3++,this.$4++};return a}();g["default"]=a}),98);
__d("MediaUploadClientResult",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ACCEPTED","SESSION_NOT_FOUND","ASSET_NOT_FOUND","ASSET_ALREADY_EXISTS","SESSION_ALREADY_CANCELED","SESSION_ALREADY_PUBLISHING","SESSION_ALREADY_PUBLISHED","SESSION_NOT_FAILED","INVALID_TYPE","UNSUPPORTED_BROWSER"]);c=a;f["default"]=c}),66);
__d("MediaUploadSessionStrategy",["MediaUploadCancelReason","MediaUploadClientResult","MediaUploadSessionEvent","MediaUploadSessionStatus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.implementation,this.$2=a.assetStrategy,this.$3=a.params}var b=a.prototype;b.$4=function(a){if(a.isConfirmed()&&a.progress.publishingExtrasProvided){var b=a.getActiveAssets();for(var d of b)if(d.isFailed()){a.updateStatusAndEmit(c("MediaUploadSessionStatus").FAILED);return}b.every(function(a){return a.isCompleted()})&&this.$5(a)}};b.$5=function(a){a.updateStatusAndEmit(c("MediaUploadSessionStatus").PUBLISHING);var b=[];for(var d of a.assetsByID.values())d.isCompleted()&&b.push(d);d=this.$1.publish(a,b).then(function(b){a.progress.publishingResponse=b.rawResponse,b.isSuccessful?(a.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_SUCCEED),a.updateStatusAndEmit(c("MediaUploadSessionStatus").COMPLETED)):(a.updateLastError({rawErrorCode:b.errorCode,rawErrorObject:b.rawErrorObject}),a.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_FAILED),a.updateStatusAndEmit(c("MediaUploadSessionStatus").FAILED),a.updateLastError())})["catch"](function(b){a.updateLastError({rawErrorObject:b}),a.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_FAILED),a.updateStatusAndEmit(c("MediaUploadSessionStatus").FAILED),a.updateLastError()});this.$3.promiseTerminator(d)};b.$6=function(a,b){var c=this;this.$2.scheduleUpload(b)["finally"](function(){return c.$4(a)})};b.$7=function(a){if(a.isPublished())return c("MediaUploadClientResult").SESSION_ALREADY_PUBLISHED;else if(a.isPublishing())return c("MediaUploadClientResult").SESSION_ALREADY_PUBLISHING;else if(a.isCanceled())return c("MediaUploadClientResult").SESSION_ALREADY_CANCELED;else return c("MediaUploadClientResult").ACCEPTED};b.$8=function(a){var b=this;a.releaseOnFinish.push(this.$3.registerUnloadHook(function(){b.cancel(a,c("MediaUploadCancelReason").UNLOAD_HOOK)}));a.updateStatusAndEmit(c("MediaUploadSessionStatus").CONFIRMED)};b.cancel=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;a.progress.cancelReason=b;a.updateStatusAndEmit(c("MediaUploadSessionStatus").CANCELED);for(d of a.assetsByID.values())this.$2.removeAsset(d);return c("MediaUploadClientResult").ACCEPTED};b.removeAsset=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;d=a.assetsByID.get(b);if(d==null)return c("MediaUploadClientResult").ASSET_NOT_FOUND;this.$2.removeAsset(d);this.$4(a);return c("MediaUploadClientResult").ACCEPTED};b.uploadAsset=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;d=a.assetsByID.get(b.assetID);if(d!=null&&!d.isRemoved())return c("MediaUploadClientResult").ASSET_ALREADY_EXISTS;d=this.$1.createAssetContext(a,b);this.$2.addAsset(d);this.$6(a,d);return c("MediaUploadClientResult").ACCEPTED};b.syncAssetUploads=function(a,b){var d=this.$7(a);if(d!==c("MediaUploadClientResult").ACCEPTED)return d;d=new Set(b.map(function(a){return a.assetID}));var e=new Set(a.assetsByID.keys());for(e in e)if(!d.has(e)){var f=a.assetsByID.get(e);f!=null&&this.$2.removeAsset(f)}this.uploadAssets(a,b);return c("MediaUploadClientResult").ACCEPTED};b.uploadAssets=function(a,b){var c=this,d={};b.forEach(function(b){return d[b.assetID]=c.uploadAsset(a,b)});return d};b.updateSessionExtras=function(a,b,d){var e=this.$7(a);if(e!==c("MediaUploadClientResult").ACCEPTED)return e;b(a.extras);d&&(a.progress.publishingExtrasProvided=!0);return c("MediaUploadClientResult").ACCEPTED};b.retry=function(a){var b=this.$7(a);if(b!==c("MediaUploadClientResult").ACCEPTED)return b;else if(!a.isFailed())return c("MediaUploadClientResult").SESSION_NOT_FAILED;a.renewRetryID();this.$8(a);for(b of a.assetsByID.values())b.isSchedulable()&&this.$6(a,b);this.$4(a);return c("MediaUploadClientResult").ACCEPTED};b.confirm=function(a){var b=this.$7(a);if(b!==c("MediaUploadClientResult").ACCEPTED)return b;else if(a.isFailed())return this.retry(a);else if(a.isConfirmed()){this.$4(a);return c("MediaUploadClientResult").ACCEPTED}this.$8(a);this.$4(a);return c("MediaUploadClientResult").ACCEPTED};return a}();g["default"]=a}),98);
__d("MediaUploadClientContext",["MediaUploadAssetStrategy","MediaUploadRetryState","MediaUploadSessionStrategy"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.sdk=a.sdk,this.emitter=a.emitter,this.executor=a.executor,this.progressCalculator=a.progressCalculator,this.assetStrategy=new(c("MediaUploadAssetStrategy"))({implementation:this,executor:this.executor,params:this.sdk}),this.sessionStrategy=new(c("MediaUploadSessionStrategy"))({implementation:this,assetStrategy:this.assetStrategy,params:this.sdk})}var b=a.prototype;b.runLocalAssetStategy=function(a){throw this.sdk.createThrowableError("Not implemented")};b.runNetworkAssetStategy=function(a){throw this.sdk.createThrowableError("Not implemented")};b.runClientLazyLoading=function(a){throw this.sdk.createThrowableError("Not implemented")};b.createSessionContext=function(a){throw this.sdk.createThrowableError("Not implemented")};b.createAssetContext=function(a,b){throw this.sdk.createThrowableError("Not implemented")};b.publish=function(a,b){throw this.sdk.createThrowableError("Not implemented")};b.subscribeToHooks=function(){throw this.sdk.createThrowableError("Not implemented")};b.createRetryState=function(){return new(c("MediaUploadRetryState"))(this.sdk.retryPolicyProvider(),this.sdk)};return a}();g["default"]=a}),98);
__d("MediaUploadBytesSummary",["MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.reset=function(){this.$2=null};b.updateForUploadStart=function(a){var b=this.$1.currentTimeProvider();this.$2={fullyCompleted:!1,startedAt:b,updatedAt:b,totalBytes:a,uploadedBytes:0,skippedUpload:!1}};b.updateForUploadSkip=function(a){var b=this.$1.currentTimeProvider();this.$2={fullyCompleted:!0,startedAt:b,updatedAt:b,finishedAt:b,totalBytes:a,uploadedBytes:a,skippedUpload:!0}};b.updateForProgress=function(a){var b=this.$2;if(b==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}b.uploadedBytes=a;b.updatedAt=this.$1.currentTimeProvider()};b.updateForUploadComplete=function(){var a=this.$2;if(a==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}this.updateForProgress(a.totalBytes);a.fullyCompleted=!0;a.uploadedBytes=a.totalBytes};b.updateForUploadAbandoned=function(){var a=this.$2;if(a==null){this.$1.reportRecoverableError("Upload stats have not been initialized");return}a.finishedAt=this.$1.currentTimeProvider()};b.computeSpeedBps=function(){var a=this.$2;if(a==null||a.skippedUpload)return null;else{var b=d("MediaUploadTime").timeToSeconds(d("MediaUploadTime").subtractTime(a.updatedAt,a.startedAt));return b>.1?a.uploadedBytes/b:0}};b.computeUploadedPortion=function(){var a=this.$2;if(a==null)return null;else if(a.fullyCompleted)return 1;else if(a.totalBytes===0)return 0;else return 1*a.uploadedBytes/a.totalBytes};b.computeSnapshot=function(){var a=this.$2;if(a==null)return null;else return{uploadedBytes:a.uploadedBytes,speedBps:this.computeSpeedBps(),skippedUpload:a.skippedUpload,startedAtMs:d("MediaUploadTime").timeToMilliseconds(a.startedAt),finishedAtMs:d("MediaUploadTime").maybeTimeToMilliseconds(a.finishedAt)}};return a}();g["default"]=a}),98);
__d("MediaUploadAssetContext",["MediaUploadAssetEvent","MediaUploadAssetStatus","MediaUploadBytesSummary","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.sessionContext,d=a.assetRequest,e=a.emitter,f=a.progressCalculator,g=a.retryState;a=a.params;this.sessionContext=b;this.request=d;this.assetID=d.assetID;this.asset=d.asset;this.retryState=g;this.$2=e;this.$3=f;this.$1=a.currentTimeProvider;this.$4=c("MediaUploadAssetStatus").REQUESTED;this.createdAt=this.$1();this.uploadSummary=new(c("MediaUploadBytesSummary"))(a);this.progress={completedStages:new Set(),calculated:{rawValue:0,percentageComplete:0}}}var b=a.prototype;b.emitAssetEvent=function(a){this.$2.emitAssetEvent(a,this),(a===c("MediaUploadAssetEvent").ASSET_SUCCEED||a===c("MediaUploadAssetEvent").ASSET_REMOVED)&&this.recalculateProgressAndEmit()};b.emitStageEvent=function(a,b){this.$2.emitStageEvent(a,this,b),a===c("MediaUploadStageEvent").STAGE_SUCCEED&&(this.progress.completedStages.add(b),this.recalculateProgressAndEmit()),a===c("MediaUploadStageEvent").STAGE_PROGRESS&&this.recalculateProgressAndEmit()};b.emitStageEventForOperationOutcome=function(a,b){a===c("MediaUploadOperationOutcome").SUCCESS?this.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,b):a===c("MediaUploadOperationOutcome").CANCELED?this.emitStageEvent(c("MediaUploadStageEvent").STAGE_CANCELED,b):this.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,b)};b.recalculateProgressAndEmit=function(){var a=this.$3.calculateAssetProgress(this);this.sessionContext.recalculateProgressAndEmit();a&&this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_PROGRESS)};b.$5=function(){this.uploadSummary.reset(),this.progress.completedStages.clear(),this.recalculateProgressAndEmit()};b.updateStatusAndEmit=function(a){if(this.$4===a)return;this.$4=a;switch(a){case c("MediaUploadAssetStatus").REMOVED:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_REMOVED);break;case c("MediaUploadAssetStatus").FAILED:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_FAILED);break;case c("MediaUploadAssetStatus").COMPLETED:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_SUCCEED);break;case c("MediaUploadAssetStatus").PROCESSING:this.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_STARTED);break;case c("MediaUploadAssetStatus").UPLOADING:this.progress.lastAttemptStartedAt=this.$1();break;case c("MediaUploadAssetStatus").REQUESTED:case c("MediaUploadAssetStatus").SCHEDULED:this.$5();break}};b.isCompleted=function(){return this.$4===c("MediaUploadAssetStatus").COMPLETED};b.isSchedulable=function(){return this.$4===c("MediaUploadAssetStatus").REQUESTED||this.$4===c("MediaUploadAssetStatus").FAILED};b.isRemoved=function(){return this.$4===c("MediaUploadAssetStatus").REMOVED};b.isFailed=function(){return this.$4===c("MediaUploadAssetStatus").FAILED};b.__composeBaseSnapshot=function(){return{asset:this.asset,assetID:this.assetID,status:this.$4,createdAtMs:d("MediaUploadTime").timeToMilliseconds(this.createdAt),lastUploadStartedAtMs:d("MediaUploadTime").maybeTimeToMilliseconds(this.progress.lastAttemptStartedAt),metadata:this.metadata==null?void 0:{width:this.metadata.width,height:this.metadata.height,isSpherical:this.metadata.isSpherical,durationMs:d("MediaUploadTime").maybeTimeToMilliseconds(this.metadata.duration)},retries:{totalRetryAttempts:this.retryState.getRetryAttempts()},uploadSummary:this.uploadSummary.computeSnapshot(),percentageComplete:this.progress.calculated.percentageComplete}};return a}();g["default"]=a}),98);
__d("MediaUploadExtrasStorage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=new Map(),this.$1=a}var b=a.prototype;b.setFromObject=function(a){for(var b of Object.keys(a))this.set(b,a[b]);return this};b.set=function(a,b){this.$2.set(a,b);return this};b.getNumber=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="number")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as number, but it was "+typeof b);return null}};b.getString=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="string")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as string, but it was "+typeof b);return null}};b.getBoolean=function(a){var b=this.getUnsafe(a);if(b==null||typeof b==="boolean")return b;else{this.$1.reportRecoverableError("Requested key "+a+" as boolean, but it was "+typeof b);return null}};b.getUnsafe=function(a){return this.$2.get(a)};b.getClassInstance=function(a,b){var c=this.getUnsafe(a);if(c==null||c instanceof b)return c;else{this.$1.reportRecoverableError("Requested key "+a+" as "+String(b)+", but it was something else");return null}};return a}();f["default"]=a}),66);
__d("MediaUploadFBAssetContext",["ErrorNormalizeUtils","MediaUploadAssetContext","MediaUploadExtrasStorage","MediaUploadStageEvent","MediaUploadTime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var d;d=a.call(this,b)||this;d.request=b.assetRequest;d.sessionContext=b.sessionContext;d.processing={rawData:new(c("MediaUploadExtrasStorage"))(b.params)};return d}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.recordStageOutcome=function(a){var b=a.stage,d=a.outcome,e=a.rawErrorCode,f=a.rawErrorObject,g=a.displayError,h=a.errorAttributes;a=a.networkRequestID;f=f==null?void 0:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(f));this.$MediaUploadFBAssetContext$p_1={stage:b,outcome:d,rawErrorCode:e,errorObject:f,displayError:g,errorAttributes:h,networkRequestID:a}};e.emitStageEvent=function(b,d){b===c("MediaUploadStageEvent").STAGE_STARTED&&(this.$MediaUploadFBAssetContext$p_1=null),a.prototype.emitStageEvent.call(this,b,d)};e.composeSnapshot=function(){var a=this.__composeBaseSnapshot();return babelHelpers["extends"]({},a,{videoID:this.videoID,request:this.request,uploadServiceDomain:this.processing.uploadServiceDomain,hash:this.processing.pseudoHash==null?null:{hashValue:this.processing.pseudoHash.hashValue,calculationTimeCostMs:d("MediaUploadTime").timeToMilliseconds(this.processing.pseudoHash.calculationTimeCost)},lastAction:this.$MediaUploadFBAssetContext$p_1})};b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided asset context has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadAssetContext"));g["default"]=a}),98);
__d("MediaUploadClientEventContext",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){this.startedAt=a.currentTimeProvider(),this.entryPoint=b};f["default"]=a}),66);
__d("MediaUploadSessionContext",["MediaUploadExtrasStorage","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadTime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([c("MediaUploadSessionStatus").COMPLETED,c("MediaUploadSessionStatus").CANCELED,c("MediaUploadSessionStatus").FAILED]);a=function(){function a(a){var b=a.sessionID,d=a.emitter,e=a.progressCalculator;a=a.params;this.assetsByID=new Map();this.sessionID=b;this.$1=d;this.$2=e;this.extras=new(c("MediaUploadExtrasStorage"))(a);this.$4=a.currentTimeProvider;this.$5=a.randomStringProvider;this.$6=c("MediaUploadSessionStatus").UNCONFIRMED;this.$3={createdAt:this.$4()};this.progress={retryID:this.$5(),publishingExtrasProvided:!1,publishingDone:!1,percentageComplete:0};this.releaseOnFinish=[]}var b=a.prototype;b.emitSessionEvent=function(a){this.$1.emitSessionEvent(a,this),a===c("MediaUploadSessionEvent").PUBLISH_SUCCEED&&(this.progress.publishingDone=!0,this.recalculateProgressAndEmit()),a===c("MediaUploadSessionEvent").SESSION_FINISHED&&this.$7()};b.renewRetryID=function(){this.progress.retryID=this.$5()};b.updateLastError=function(a){this.__lastError=a};b.recalculateProgressAndEmit=function(){this.$2.calculateSessionProgress(this)&&this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_PROGRESS)};b.$7=function(){while(this.releaseOnFinish.length>0){var a=this.releaseOnFinish.pop();a.cancel()}};b.updateStatusAndEmit=function(a){if(this.$6===a)return;this.$6=a;this.progress.terminalStatus==null&&h.has(a)&&(this.progress.terminalStatus=a,this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_FINISHED));switch(a){case c("MediaUploadSessionStatus").CONFIRMED:this.progress.terminalStatus=void 0;this.$3.confirmedAt=this.$4();this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_CONFIRMED);break;case c("MediaUploadSessionStatus").COMPLETED:this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_SUCCEED);break;case c("MediaUploadSessionStatus").CANCELED:this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_CANCELED);break;case c("MediaUploadSessionStatus").FAILED:this.emitSessionEvent(c("MediaUploadSessionEvent").SESSION_FAILED);break;case c("MediaUploadSessionStatus").PUBLISHING:this.emitSessionEvent(c("MediaUploadSessionEvent").PUBLISH_STARTED);break;default:}};b.getActiveAssets=function(){var a=[];for(var b of this.assetsByID.values())b.isRemoved()||a.push(b);return a};b.isCanceled=function(){return this.$6===c("MediaUploadSessionStatus").CANCELED};b.isPublished=function(){return this.$6===c("MediaUploadSessionStatus").COMPLETED};b.isPublishing=function(){return this.$6===c("MediaUploadSessionStatus").PUBLISHING};b.isConfirmed=function(){return this.$6===c("MediaUploadSessionStatus").CONFIRMED};b.isFailed=function(){return this.$6===c("MediaUploadSessionStatus").FAILED};b.__composeBaseSnapshot=function(){return{sessionID:this.sessionID,retryID:this.progress.retryID,status:this.$6,extras:this.extras,timing:{createdAtMs:d("MediaUploadTime").timeToMilliseconds(this.$3.createdAt),confirmedAtMs:d("MediaUploadTime").maybeTimeToMilliseconds(this.$3.confirmedAt)},terminalStatus:this.progress.terminalStatus,percentageComplete:this.progress.percentageComplete,publishingResponse:this.progress.publishingResponse,cancelReason:this.progress.cancelReason}};return a}();g["default"]=a}),98);
__d("MediaUploadFBSessionContext",["ErrorNormalizeUtils","MediaUploadSessionContext","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this,{sessionID:b.sessionID,emitter:b.emitter,progressCalculator:b.progressCalculator,params:b.params})||this;c.entryPoint=b.entryPoint;return c}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.composeSnapshot=function(){var a=this.__composeBaseSnapshot();return babelHelpers["extends"]({},a,{entryPoint:this.entryPoint,lastError:this.__lastError==null?null:{errorObject:this.__lastError.rawErrorObject==null?null:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(this.__lastError.rawErrorObject)),rawErrorCode:this.__lastError.rawErrorCode}})};b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided session context has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadSessionContext"));g["default"]=a}),98);
__d("MediaUploadFBClientEventContext",["ErrorNormalizeUtils","MediaUploadClientEventContext","MediaUploadFBAssetContext","MediaUploadFBSessionContext","MediaUploadTime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var d;d=a.call(this,b.envParams,b.entryPoint)||this;d.entryPoint=b.entryPoint;b.context!=null&&b.context instanceof c("MediaUploadFBSessionContext")?d.sessionContext=b.context:b.context!=null&&b.context instanceof c("MediaUploadFBAssetContext")&&(d.sessionContext=b.context.sessionContext,d.assetContext=b.context);return d}babelHelpers.inheritsLoose(b,a);b.castOrThrow=function(a,c){if(a instanceof b)return a;else{throw c.createThrowableError('Provided client event context has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};var e=b.prototype;e.composerSnapshot=function(){var a,b;a=((a=this.errorInfo)==null?void 0:a.rawErrorObject)==null?void 0:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")((a=this.errorInfo)==null?void 0:a.rawErrorObject));return{entryPoint:this.entryPoint,startedAtMs:d("MediaUploadTime").timeToMilliseconds(this.startedAt),sessionSnapshot:(b=this.sessionContext)==null?void 0:b.composeSnapshot(),assetSnapshot:(b=this.assetContext)==null?void 0:b.composeSnapshot(),errorObject:a}};return b}(c("MediaUploadClientEventContext"));g["default"]=a}),98);
__d("MediaUploadEventEmitterAdapter",["EventEmitter","MediaUploadFBAssetContext","MediaUploadFBClientEventContext","MediaUploadFBSessionContext","MediaUploadFBStage"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a};a=function(){function a(a){this.$2=new(c("EventEmitter"))(),this.$1=a,this.emitter=this.$3(),this.subscriber=this.$4()}var b=a.prototype;b.$3=function(){var a=this,b=function(b){b=c("MediaUploadFBSessionContext").castOrThrow(b,a.$1);return b.composeSnapshot()},d=function(b){b=c("MediaUploadFBAssetContext").castOrThrow(b,a.$1);return b.composeSnapshot()},e=this.$2,f=function(b){try{for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];e.emit.apply(e,[h(b)].concat(d))}catch(c){a.$1.reportRecoverableError("Session pub/sub chain failed for event "+String(b),c)}};return{emitClientEvent:function(b,d){f(b,c("MediaUploadFBClientEventContext").castOrThrow(d,a.$1).composerSnapshot())},emitSessionEvent:function(a,c){f(a,b(c))},emitAssetEvent:function(a,c){f(a,b(c.sessionContext),d(c))},emitStageEvent:function(e,g,h){h=c("MediaUploadFBStage").cast(String(h));if(h==null){a.$1.reportRecoverableError("Invalid stage value, it must be MediaUploadFBStage, ignoring");return}f(e,b(g.sessionContext),d(g),h)}}};b.$4=function(){var a=this,b=function(b,c){try{b()}catch(b){a.$1.reportRecoverableError("Stage pub/sub chain failed for event "+c(),b)}};return{addClientEventListener:function(c,d){var e=a.$2.addListener(h(c),function(a){return b(function(){return d(a)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addSessionEventListener:function(c,d){var e=a.$2.addListener(h(c),function(a){return b(function(){return d(a)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addAssetEventListener:function(c,d){var e=a.$2.addListener(h(c),function(a,e){return b(function(){return d(a,e)},function(){return String(c)})});return{cancel:function(){return e.remove()}}},addStageEventListener:function(c,d,e){var f=a.$2.addListener(h(c),function(a,f,g){d===g&&b(function(){return e(a,f)},function(){return String(c)+"  "+String(g)})});return{cancel:function(){return f.remove()}}}}};return a}();g["default"]=a}),98);
__d("MediaUploadExecutor",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a){a===void 0&&(a=1),this.$1=[],this.$3=0,this.$2=a}var c=a.prototype;c.schedule=function(a){var c=this;return new(g||(g=b("Promise")))(function(b){var d=function(){var c=a();c["finally"](b);return c};c.$1.push(d);c.$4()})};c.$4=function(){var a=this;if(this.$3>=this.$2||this.$1.length===0)return;var b=this.$1.shift();b()["finally"](function(){a.$3--,a.$4()});this.$3++};return a}();f["default"]=a}),66);
__d("MediaUploadAssetRequest",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a.assetID,c=a.asset;a=a.extras;this.assetID=b;this.asset=c;this.extras=a};f["default"]=a}),66);
__d("MediaUploadFBAssetRequest",["MediaUploadAssetRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c=b.assetID,d=b.asset,e=b.extras;b=b.attributes;c=a.call(this,{assetID:c,asset:d,extras:e})||this;c.attributes={targetID:b.targetID,actorID:b.actorID,hasFileBeenReplaced:b.hasFileBeenReplaced,composerDialogVersion:b.composerDialogVersion,publisherActionSource:b.publisherActionSource,creatorProduct:b.creatorProduct,composerSessionID:b.composerSessionID};return c}babelHelpers.inheritsLoose(b,a);b.castOrThrow=function(a,c){c=c.createThrowableError;if(a instanceof b)return a;else{throw c('Provided asset request has incorrect type of "'+((c=a.constructor)==null?void 0:c.name)+'"')}};return b}(c("MediaUploadAssetRequest"));g["default"]=a}),98);
__d("MediaUploadClient",["MediaUploadClientResult"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=new Map(),this.$1=a.implementation,this.$2=a.sessionStrategy,this.$3=a.envParams,this.$1.subscribeToHooks(),this.$3.isSupported()||this.$3.reportRecoverableError("This browser does not support this version of the Media Upload SDK")}var b=a.prototype;b.cancelSession=function(a,b){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?c("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.cancel(a,b)};b.cleanSession=function(a){return!this.$3.isSupported()?c("MediaUploadClientResult").UNSUPPORTED_BROWSER:this.$4["delete"](a)?c("MediaUploadClientResult").ACCEPTED:c("MediaUploadClientResult").SESSION_NOT_FOUND};b.retrySession=function(a){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?c("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.retry(a)};b.$5=function(a){var b=this.$4.get(a);b==null&&(b=this.$1.createSessionContext(a),this.$4.set(a,b));return b};b.updateSessionExtras=function(a,b){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$5(a);return this.$2.updateSessionExtras(a,b,!1)};b.confirmSession=function(a,b,d){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$5(a);if(d!=null){d=this.$2.updateSessionExtras(a,d,!0);if(d!==c("MediaUploadClientResult").ACCEPTED)return d}d=this.$2.syncAssetUploads(a,b);return d!==c("MediaUploadClientResult").ACCEPTED?d:this.$2.confirm(a)};b.startUploads=function(a,b){if(!this.$3.isSupported()){var d={};b.forEach(function(a){return d[a.assetID]=c("MediaUploadClientResult").UNSUPPORTED_BROWSER});return d}a=this.$5(a);return this.$2.uploadAssets(a,b)};b.removeUpload=function(a,b){if(!this.$3.isSupported())return c("MediaUploadClientResult").UNSUPPORTED_BROWSER;a=this.$4.get(a);return a==null?c("MediaUploadClientResult").SESSION_NOT_FOUND:this.$2.removeAsset(a,b)};return a}();g["default"]=a}),98);
__d("MediaUploadFBClient",["MediaUploadClient"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){return a.call(this,b)||this}babelHelpers.inheritsLoose(b,a);return b}(c("MediaUploadClient"));g["default"]=a}),98);
__d("MediaUploadFBDefaultServerConfigurationRetrieverQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24229633186643574"}),null);
__d("MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql",["MediaUploadFBDefaultServerConfigurationRetrieverQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"source_type"}],c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d=[{alias:null,args:null,kind:"ScalarField",name:"service_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_domain",storageKey:null}];c=[{alias:null,args:null,concreteType:"MediaUploadConfiguration",kind:"LinkedField",name:"media_upload_config",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"source_type",variableName:"source_type"}],concreteType:"MediaUploadVideoMetadataValidation",kind:"LinkedField",name:"video_metadata_validation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_size_kb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_size_kb",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_duration_secs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_duration_secs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_aspect_ration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_aspect_ration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowed_extensions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accept_dimensions_from_player",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkStart",kind:"LinkedField",name:"network_start",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkReceive",kind:"LinkedField",name:"network_receive",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadService",kind:"LinkedField",name:"network_upload_service",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTarget",kind:"LinkedField",name:"default",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTarget",kind:"LinkedField",name:"targeted",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkUploadServiceTracing",kind:"LinkedField",name:"tracing",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_file_size_kb",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaUploadNetworkMonitor",kind:"LinkedField",name:"network_monitor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"network_probe_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"internet_probe_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"internet_probe_timeout_ms",storageKey:null},{alias:null,args:null,concreteType:"MediaUploadBackoffPolicy",kind:"LinkedField",name:"internet_probe_backoff",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backoff_initial_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_jitter_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_exp_base_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_exp_multiplier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backoff_max_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limits_total_retry_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limits_total_time_ms",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stall_detection_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stall_detection_timeout_ms",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",selections:c},params:{id:b("MediaUploadFBDefaultServerConfigurationRetrieverQuery_facebookRelayOperation"),metadata:{},name:"MediaUploadFBDefaultServerConfigurationRetrieverQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("isOndemandHost",[],(function(a,b,c,d,e,f){"use strict";var g=/(^|\.)(od[0-9]+\.\w{4}|\d{4,}\.od|my-od\.|my-od-[0-9]\.)/;function a(a){return g.test(a)}f["default"]=a}),66);
__d("MediaUploadFBDefaultServerConfigurationRetriever",["MediaUploadCancelablePromise","MediaUploadClientEvent","MediaUploadFBClientEventContext","MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql","MediaUploadOperationOutcome","MediaUploadTime","RelayFBEnvironment","RelayHooks","URI","isOndemandHost","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("MediaUploadFBDefaultServerConfigurationRetrieverQuery.graphql"),k={metadataValidation:{minSizeKB:1,maxSizeKB:10*1024*1024,minDuration:d("MediaUploadTime").secondsToTime(1),maxDuration:d("MediaUploadTime").hoursToTime(24),minWidth:100,minHeight:100,minAspectRatio:.5,maxAspectRatio:4,extensions:new Set(["3g2","3gp","3gpp","asf","avi","dat","divx","dv","f4v","flv","gif","m2ts","m4v","mkv","mod","mov","mp4","mpe","mpeg","mpeg4","mpg","mts","nsv","ogm","ogv","qt","rmvb","tmp","tod","ts","vob","webm","wmv"]),acceptDimensionsFromPlayer:!1},startRequest:{baseURI:new(i||(i=c("URI")))("https://vupload-edge.facebook.com/ajax/video/upload/requests/start/")},startRequestPath:"/ajax/video/upload/requests/start/",receiveRequest:{baseURI:new i("https://vupload-edge.facebook.com/ajax/video/upload/requests/receive/")},receiveRequestPath:"/ajax/video/upload/requests/receive/",uploadService:{defaultService:{serviceName:"rupload",serviceDomain:"facebook.com",serviceConsumer:"fb_video"},targetedService:null,tracing:{enabled:!1,minFileSizeKB:102400},oculusCreatorStudio:"meta_quest_media_studio"},networkMonitor:{networkProbe:{enabled:!0},internetProbe:{enabled:!1,timeout:d("MediaUploadTime").secondsToTime(2),backoffPolicy:{backoff:{initial:d("MediaUploadTime").secondsToTime(10),jitter:d("MediaUploadTime").secondsToTime(0),expBase:d("MediaUploadTime").secondsToTime(1),expMultiplier:2,max:d("MediaUploadTime").secondsToTime(60)},limits:{}}},stallDetector:{enabled:!1,timeout:d("MediaUploadTime").secondsToTime(30)}}};a=function(){function a(a){this.$5=!0,this.$1=a.entryPoint,this.$3=a.emitter,this.$2=a.setters,this.$4=a.envParams}var b=a.prototype;b.$6=function(){return d("RelayHooks").fetchQuery(c("RelayFBEnvironment"),j,{source_type:this.$1.sourceType})};b.run=function(a){var b=this,d=new(c("MediaUploadFBClientEventContext"))({entryPoint:this.$1,envParams:this.$4,context:a});if(this.$5){this.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_REQUESTED,d);return new(c("MediaUploadCancelablePromise"))(function(a){try{var e=b.$6().subscribe({error:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(e){b.$4.reportRecoverableError("Error getting client configuration",e),b.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_FAILED,d),b.$7(null),a(c("MediaUploadOperationOutcome").SUCCESS)}),next:function(e){b.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_RECEIVED,d),b.$7(e),b.$5=!1,a(c("MediaUploadOperationOutcome").SUCCESS)}});return{cancel:function(){e.unsubscribe()}}}catch(e){b.$4.reportRecoverableError("Error requesting client configuration",e),b.$7(null),b.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_FAILED,d),a(c("MediaUploadOperationOutcome").SUCCESS)}})}else{this.$3.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CONFIG_CACHED,d);return c("MediaUploadCancelablePromise").resolve(c("MediaUploadOperationOutcome").SUCCESS)}};b.$8=function(a){var b,c,d,e,f,g,h;if((a==null||(b=a["default"])==null?void 0:b.service_name)==null||(a==null||(c=a["default"])==null?void 0:c.service_domain)==null)this.$4.reportRecoverableError("Invalid configuration for default endpoint of the Upload Service, falling back to default"),h=k.uploadService.defaultService;else{var i,j;h={serviceName:a==null||(i=a["default"])==null?void 0:i.service_name,serviceDomain:a==null||(j=a["default"])==null?void 0:j.service_domain,serviceConsumer:k.uploadService.defaultService.serviceConsumer}}var l;if((a==null||(d=a.targeted)==null?void 0:d.service_name)!=null&&(a==null||(e=a.targeted)==null?void 0:e.service_domain)!=null){var m,n;l={serviceName:a==null||(m=a.targeted)==null?void 0:m.service_name,serviceDomain:a==null||(n=a.targeted)==null?void 0:n.service_domain}}else(a==null?void 0:a.targeted)==null?l=null:(this.$4.reportRecoverableError("Invalid configuration for target endpoint of the Upload Service, falling back to default"),l=k.uploadService.targetedService);if((a==null||(f=a.tracing)==null?void 0:f.enabled)!=null&&(a==null||(g=a.tracing)==null?void 0:g.min_file_size_kb)!=null){var o,p;a={enabled:a==null||(o=a.tracing)==null?void 0:o.enabled,minFileSizeKB:a==null||(p=a.tracing)==null?void 0:p.min_file_size_kb}}else this.$4.reportRecoverableError("Invalid configuration for tracing in the Upload Service, falling back to default"),a=k.uploadService.tracing;var q=!1;this.$1.sourceType==="vr_creator_studio"&&(q=!0,h.serviceConsumer=k.uploadService.oculusCreatorStudio);this.$2.uploadService({defaultService:h,targetedService:l,tracing:a,includeAccessToken:q})};b.$9=function(a){var b;if((a==null?void 0:a.min_size_kb)==null||(a==null?void 0:a.max_size_kb)==null||(a==null?void 0:a.min_width)==null||(a==null?void 0:a.min_height)==null||(a==null?void 0:a.min_duration_secs)==null||(a==null?void 0:a.max_duration_secs)==null||(a==null?void 0:a.min_aspect_ration)==null||(a==null?void 0:a.max_aspect_ration)==null||(a==null?void 0:a.allowed_extensions)==null||(a==null?void 0:a.accept_dimensions_from_player)==null)this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),b=babelHelpers["extends"]({sourceType:this.$1.sourceType},k.metadataValidation),this.$1.sourceType==="vr_creator_studio"&&(b.maxSizeKB=100*1024*1024);else{var c=a==null?void 0:a.max_duration_secs;b={sourceType:this.$1.sourceType,minSizeKB:a==null?void 0:a.min_size_kb,maxSizeKB:a==null?void 0:a.max_size_kb,minWidth:a==null?void 0:a.min_width,minHeight:a==null?void 0:a.min_height,minAspectRatio:a==null?void 0:a.min_aspect_ration,maxAspectRatio:a==null?void 0:a.max_aspect_ration,extensions:new Set(a==null?void 0:a.allowed_extensions),acceptDimensionsFromPlayer:a==null?void 0:a.accept_dimensions_from_player,minDuration:d("MediaUploadTime").secondsToTime(a==null?void 0:a.min_duration_secs),maxDuration:d("MediaUploadTime").secondsToTime(c)}}this.$2.metadataValidation(b)};b.$10=function(a){return(a==null?void 0:a.backoff_initial_ms)==null?null:{backoff:{initial:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_initial_ms),jitter:(a==null?void 0:a.backoff_jitter_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_jitter_ms),expBase:(a==null?void 0:a.backoff_exp_base_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_exp_base_ms),expMultiplier:a==null?void 0:a.backoff_exp_multiplier,max:(a==null?void 0:a.backoff_max_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.backoff_max_ms)},limits:{totalRetryCount:a==null?void 0:a.limits_total_retry_count,totalTime:(a==null?void 0:a.limits_total_time_ms)==null?null:d("MediaUploadTime").millisecondsToTime(a==null?void 0:a.limits_total_time_ms)}}};b.$11=function(a){var b,c=this.$10(a==null?void 0:a.internet_probe_backoff);if((a==null?void 0:a.network_probe_enabled)==null||(a==null?void 0:a.internet_probe_enabled)==null||(a==null?void 0:a.internet_probe_timeout_ms)==null||c==null||(a==null?void 0:a.stall_detection_enabled)==null||(a==null?void 0:a.stall_detection_timeout_ms)==null)this.$4.reportRecoverableError("Invalid network monitor configuration, falling back to default"),b=k.networkMonitor;else{var e=a.network_probe_enabled,f=a.internet_probe_enabled,g=a.internet_probe_timeout_ms,h=a.stall_detection_enabled;a=a.stall_detection_timeout_ms;b={networkProbe:{enabled:e},internetProbe:{enabled:f,timeout:d("MediaUploadTime").millisecondsToTime(g),backoffPolicy:c},stallDetector:{enabled:h,timeout:d("MediaUploadTime").millisecondsToTime(a)}}}this.$2.networkMonitor(b)};b.$12=function(a){var b;if((a==null?void 0:a.uri)==null)this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),this.$1.sourceType==="vr_creator_studio"?b={baseURI:new(i||(i=c("URI")))("https://"+window.location.hostname+k.startRequestPath)}:b=k.startRequest;else{a=l(new(i||(i=c("URI")))(a==null?void 0:a.uri));b={baseURI:a}}this.$2.startRequest(b)};b.$13=function(a){var b;if((a==null?void 0:a.uri)==null)this.$4.reportRecoverableError("Invalid metadata validation, falling back to default"),this.$1.sourceType==="vr_creator_studio"?b={baseURI:new(i||(i=c("URI")))("https://"+window.location.hostname+k.receiveRequestPath)}:b=k.receiveRequest;else{a=l(new(i||(i=c("URI")))(a==null?void 0:a.uri));b={baseURI:a}}this.$2.receiveRequest(b)};b.$7=function(a){var b,c,d,e,f;this.$12(a==null||(b=a.media_upload_config)==null?void 0:b.network_start);this.$13(a==null||(c=a.media_upload_config)==null?void 0:c.network_receive);this.$8(a==null||(d=a.media_upload_config)==null?void 0:d.network_upload_service);this.$9(a==null||(e=a.media_upload_config)==null?void 0:e.video_metadata_validation);this.$11(a==null||(f=a.media_upload_config)==null?void 0:f.network_monitor)};return a}();function l(a){return a}g["default"]=a}),98);
__d("MediaUploadFBStageOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCEL","EXCEPTION","INTERNAL_FAILURE","UNSUPPORTED_FEATURE","ASSET_IS_NOT_FILE","ASSET_IS_NOT_SUPPORTED","REQUEST_ERROR","INVALID_SERVER_RESPONSE","MISSING_MANDATORY_DATA"]);c=a;f["default"]=c}),66);
__d("MediaUploadFBFileHasher",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=c("MediaUploadFBStage").HASHING,this.$2=a.pseudoHasher,this.$3=a.fullHasher}var d=a.prototype;d.process=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,this.$1);try{yield this.$4(a)}catch(b){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:b})}a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return c("MediaUploadOperationOutcome").SUCCESS});function d(b){return a.apply(this,arguments)}return d}();d.$5=function(a,c,d){return c==null?(h||(h=b("Promise"))).resolve():c.hash(a.file).then(function(a){a.outcome==="SUCCESS"&&d(a.value);return a})};d.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=this,e=a.asset.dataAsFile();if(e==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA});return}var f=(yield this.$5(e,this.$3,function(b){return a.processing.fullHash=b}).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if((b==null?void 0:b.outcome)==="SUCCESS"){a.processing.pseudoHash=a.processing.fullHash;return[b,b]}else return[b,yield d.$5(e,d.$2,function(b){return a.processing.pseudoHash=b})]});return function(a){return c.apply(this,arguments)}}()));for(f of f)if((f==null?void 0:f.outcome)==="FILE_TOO_LARGE"){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").ASSET_IS_NOT_SUPPORTED});return}else if((f==null?void 0:f.outcome)==="FAILURE"){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").INTERNAL_FAILURE,rawErrorCode:f==null?void 0:f.rawErrorCode,rawErrorObject:f==null?void 0:f.rawErrorObject});return}a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS})});function d(b){return a.apply(this,arguments)}return d}();return a}();g["default"]=a}),98);
__d("MediaUploadNetworkStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:"Unknown",CONNECTED:"Connected",DISCONNECTED:"Disconnected",TIMEOUT:"TimedOut"});c=a;f["default"]=c}),66);
__d("MediaUploadFBInternetProbe",["AsyncRequest","MediaUploadCancelablePromise","MediaUploadNetworkStatus","Promise","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i="https://rupload.facebook.com/fb_video/ping-";a=function(){function a(a,b){this.$2=a,this.$1=b,this.$3=[""+i+c("uuidv4")()]}var d=a.prototype;d.$4=function(a){return new(c("MediaUploadCancelablePromise"))(function(b){var d=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a).setReadOnly(!0).setOption("suppressEvaluation",!0).setHandler(function(a){var d;a=a==null||(d=a.payload)==null?void 0:d.status;b(a===200?c("MediaUploadNetworkStatus").CONNECTED:c("MediaUploadNetworkStatus").DISCONNECTED)}).setTransportErrorHandler(function(){b(c("MediaUploadNetworkStatus").DISCONNECTED)}).setErrorHandler(function(){b(c("MediaUploadNetworkStatus").DISCONNECTED)});d.send()||b(c("MediaUploadNetworkStatus").DISCONNECTED);return{cancel:function(){d.abort()}}})};d.$5=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.$1.delayedExecutor(a.$2.timeout,function(){return b(c("MediaUploadNetworkStatus").TIMEOUT)})})};d.probe=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,c=this.$3.map(function(b){return a.$4(b)}),d=(h||(h=b("Promise"))).race([this.$5()].concat(c.map(function(a){return a.promise})));d=(yield d);c.forEach(function(a){return a.cancel()});return d});function c(){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("MediaUploadFBLocalAssetStrategy",["MediaUploadPipeline"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.envParams,this.metadataParser=a.metadataParser,this.metadataValidator=a.metadataValidator,this.fileHasher=a.fileHasher}var b=a.prototype;b.run=function(a){var b=this,d=new(c("MediaUploadPipeline"))(this.$1);d.addPlainStep(function(){return b.metadataParser.parse(a)});d.addPlainStep(function(){return b.metadataValidator.validate(a,b.metadataParser.retriveRawMetadata(a))});var e=this.fileHasher;e!=null&&d.addPlainStep(function(){return e.process(a)});return d.run()};return a}();g["default"]=a}),98);
__d("ISOVideoBoxConstants",[],(function(a,b,c,d,e,f){"use strict";a=8;b=[255,204,130,99,248,85,74,147,136,20,88,122,2,82,31,221];c=[174,36,178,77,60,143,79,24,138,123,224,9,193,56,53,193];f.BOX_BASE_SIZE=a;f.GSPHERICAL_UUID=b;f.FBSPHERICAL_UUID=c}),66);
__d("FBSphericalMetadataTags",[],(function(a,b,c,d,e,f){a=Object.freeze({SPHERICAL:"FBSpherical:Spherical",INITIAL_VERTICAL_FOV_DEGREES:"FBSpherical:InitialVerticalFOVDegrees",GUIDE:"FBSpherical:Guide",HOTSPOT:"FBSpherical:HotspotMetadata",USED_360_DIRECTOR:"FBSpherical:Used360Director"});f["default"]=a}),66);
__d("GSphericalMetadataTags",[],(function(a,b,c,d,e,f){a=Object.freeze({SPHERICAL:"GSpherical:Spherical",INITIAL_VIEW_HEADING_DEGREES:"GSpherical:InitialViewHeadingDegrees",INITIAL_VIEW_PITCH_DEGREES:"GSpherical:InitialViewPitchDegrees",PROJECTION_TYPE:"GSpherical:ProjectionType",STEREO_MODE:"GSpherical:StereoMode",STITCHED:"GSpherical:Stitched",STITCHING_SOFTWARE:"GSpherical:StitchingSoftware",CROPPED_AREA_IMAGE_WIDTH_PIXELS:"GSphercal:CroppedAreaImageWidthPixels",CROPPED_AREA_IMAGE_HEIGHT_PIXELS:"GSphercal:CroppedAreaImageHeightPixels",CROPPED_AREA_LEFT_PIXELS:"GSphercal:CroppedAreaLeftPixels",CROPPED_AREA_TOP_PIXELS:"GSphercal:CroppedAreaTopPixels",FULL_PANO_WIDTH_PIXELS:"GSphercal:FullPanoWidthPixels",FULL_PANO_HEIGHT_PIXELS:"GSphercal:FullPanoHeightPixels"});f["default"]=a}),66);
__d("SphericalVideoMetadataTags",["FBSphericalMetadataTags","GSphericalMetadataTags"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({GSPHERICAL:c("GSphericalMetadataTags"),FBSPHERICAL:c("FBSphericalMetadataTags")});g["default"]=a}),98);
__d("VideoSphericalMetadataUtil",["SphericalVideoMetadataTags","VideoProjection","VideoStereoFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!a)return null;a=a.replace(/\0/g,"");if(window.DOMParser){var b=new DOMParser();b=b.parseFromString(a,"text/xml")}else b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);return b}function b(a){if(Object.values(c("VideoProjection")).includes(a))return a;else return null}function d(a){if(Object.values(c("VideoStereoFormat")).includes(a))return a;else return null}function e(a){a=a.getElementsByTagNameNS("*","*");var b=null;for(var d=0;d<a.length;d++){var e=a[d],f=e.nodeName,g=e.parentElement;if(f!=="parsererror"&&g&&g.nodeName!=="parsererror"&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(f)<0&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(g.nodeName)<0){b||(b="");g=e.outerHTML;b+="<"+f+g.slice(f.length+1,-(f.length+1))+f+">"}}return b}function f(a,b,c,d,e){if(b!==null&&c!==null&&d!==null&&e!==null&&a.projectionType==="equirectangular"&&(a.stereoMode==="left-right"||a.stereoMode==="top-bottom")){a=parseInt(b,10);b=parseInt(c,10);c=parseInt(d,10);d=parseInt(e,10);if(Math.abs(a-c/2)<=1&&Math.abs(b-d)<=1)return!0}return!1}function h(a,b,c){return new File([a],b,{type:c})}function i(a){var b=new ArrayBuffer(a.length),c=new DataView(b);for(var d=0;d<a.length;d++)c.setUint8(d,a.charCodeAt(d));return b}function j(a,b,c){a=a.buffer;return h(a,b,c)}function k(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}g.parseXMLToDocument=a;g.stringToProjectionType=b;g.stringToStereoMode=d;g.getUnsupportedGSphericalTagsXML=e;g.isGoogleVR180=f;g.arrayBufferToFile=h;g.stringToArrayBuffer=i;g.bufferToFile=j;g.uuidArrayEquals=k}),98);
__d("VideoUploadMetadataParserErrorCode",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["FILE_READING_NOT_SUPPORTED","UNKNOWN_FILE_EXTENSION","INTERNAL_FAILURE"]);c=a;f["default"]=c}),66);
__d("checkForSphericalTag",["VideoSphericalMetadataUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return!1;a=a.getElementsByTagNameNS("*","Spherical");if(a.length===0)return!1;a=a[0];a=a.childNodes[0].nodeValue;return a.toLowerCase()==="true"}g["default"]=a}),98);
__d("getVideo64BitAtomLength",["Int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){var f=a.getUint32(b+e+d);a=a.getUint32(b+d+e+e);return new(c("Int64"))(a,f).toNumber()}g["default"]=a}),98);
__d("VideoUploadMetadataParser",["Bootloader","ErrorNormalizeUtils","ISOVideoBoxConstants","Promise","VideoSphericalMetadataUtil","VideoUploadFeatureDetector","VideoUploadMetadataParserErrorCode","asyncToGeneratorRuntime","checkForSphericalTag","err","fileSlice","getErrorSafe","getVideo64BitAtomLength","gkx","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){var h,i=4,j=4,k=c("gkx")("26232")?20482048:5242880,l=24,m=88,n=20,o=16,p=4,q=84,r=20,s=62,t=4,u=12,v=12,w=16,x=16,y={0:36,1:52,2:72},z=1,A=1,B=4,C=1,D=1,E=4,F=4,G=16,H=32,I=34;a=function(){function a(a,b,c,d){this.$1=a,this.$2=b==null?function(){}:b,this.$4=c,this.$5=!0,this.$3=d}var e=a.prototype;e.getHandler=function(){return this.$2};e.$6=function(a){this.$2(a),this.$3!=null&&this.$3({success:!0,metadata:a})};e.$7=function(a,b){this.$2(null);if(this.$3!=null){b=b==null?void 0:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(b));this.$3({success:!1,errorCode:a,errorObject:b})}};e.parse=function(){if(!d("VideoUploadFeatureDetector").supportsFileReading()){this.$7(c("VideoUploadMetadataParserErrorCode").FILE_READING_NOT_SUPPORTED);return null}switch(this.$1.getExtension()){case"mp4":case"mov":case"m4v":case"3gp":case"3g2":break;case"mkv":if(c("gkx")("26231"))break;default:this.$7(c("VideoUploadMetadataParserErrorCode").UNKNOWN_FILE_EXTENSION);return null}return this.$8()};e.$8=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,d=this.$9(),e=this.$10(this.$1.getFile(),1e4);return new(h||(h=b("Promise")))(function(f,g){try{c("promiseDone")((h||(h=b("Promise"))).all([d,e]).then(function(b){var c=b[0];if(c.completed){b=b[1];c.videoPlayerData=b;a.$6(c)}f(c)},function(b){a.$7(c("VideoUploadMetadataParserErrorCode").INTERNAL_FAILURE,b),g(b)}))}catch(b){a.$7(c("VideoUploadMetadataParserErrorCode").INTERNAL_FAILURE,b),g(b)}})});function d(){return a.apply(this,arguments)}return d}();e.$9=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,d;switch(this.$1.getExtension()){case"mp4":case"mov":case"m4v":case"3gp":case"3g2":d=this.$11(0,Math.min(k,this.$1.getSize()||0),null);break;case"mkv":yield new(h||(h=b("Promise")))(function(b,e){c("Bootloader").loadModules(["VideoUploadMetadataMKVParser"],function(c){c=new c(a.$1);d=c.parse();b()},"VideoUploadMetadataParser")});break;default:throw new Error("Unrecognized file extension in _parseImpl")}return c("nullthrows")(d)});function d(){return a.apply(this,arguments)}return d}();e.$11=function(a,d,e){var f=this,g=new FileReader();return new(h||(h=b("Promise")))(function(h,i){g.onload=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{if(!(g.result instanceof ArrayBuffer))throw new Error("reader.result is something other than ArrayBuffer");b=f.$12(new DataView(g.result),0,d-a,a,e);if(b.completed){var c=f.$13(b);c.completed=!0;h(c)}else{c=(yield f.$11(a+b.nextOffset,Math.min(f.$1.getSize()||0,a+b.nextOffset+k),b));h(c)}}catch(a){i(a)}});return function(a){return c.apply(this,arguments)}}();var j=f.$1.getFile();g.readAsArrayBuffer(c("fileSlice").call(j,a,d))})};e.$10=function(a,c){return!this.$4||!window.URL||!window.URL.createObjectURL||!a?null:new(h||(h=b("Promise")))(function(b,d){if(!a.type.startsWith("video/")){d("Incorrect file type, expected video");return}var e=document.createElement("video"),f=window.setTimeout(function(){g(),d("Video onloadedmetadata timed out")},c);function g(){URL.revokeObjectURL(e.src),window.clearTimeout(f),e.remove()}e.onloadedmetadata=function(){if(e.videoWidth===0||e.videoHeight===0){g();d("Video onloadedmetadata corrupt metadata");return}var a={width:e.videoWidth,height:e.videoHeight};g();b(a)};e.onerror=function(){var a;g();d("Video error: "+(((a=e.error)==null?void 0:a.message)||"Unknown error"))};e.src=URL.createObjectURL(a)})};e.$14=function(a,b,c){var d=[];for(var e=0;e<c;e++)d.push(String.fromCharCode(a.getUint8(b+e)));return d.join("")};e.$15=function(a,b,c){var d={version:null,ambisonic_type:null,ambisonic_order:null,ambisonic_channel_ordering:null,ambisonic_normalization:null,num_channels:null,channel_map:[]},e=0;d.version=a.getUint8(b+e);e=z;d.ambisonic_type=a.getUint8(b+e);e+=A;d.ambisonic_order=a.getUint32(b+e);e+=B;d.ambisonic_channel_ordering=a.getUint8(b+e);e+=C;d.ambisonic_normalization=a.getUint8(b+e);e+=D;d.num_channels=a.getUint32(b+e);e+=E;for(var f=0;f<d.num_channels;f++){d.channel_map.push(a.getUint32(b+e));e+=F;if(e>c)return null}return JSON.stringify(d)};e.$16=function(a,b,e,f){try{var g=j+i,h=d("ISOVideoBoxConstants").GSPHERICAL_UUID.length;if(g+h<e){var k=[];for(var l=0;l<h;l++)k.push(a.getUint8(b+g+l));l=d("VideoSphericalMetadataUtil").uuidArrayEquals(k,d("ISOVideoBoxConstants").GSPHERICAL_UUID);k=d("VideoSphericalMetadataUtil").uuidArrayEquals(k,d("ISOVideoBoxConstants").FBSPHERICAL_UUID);g+=h;if(l||k){h=this.$14(a,b+g,e-g);c("checkForSphericalTag")(h)&&(f.sphericalMetadata.spherical=!0,k?f.sphericalMetadata.FBSphericalMetadataXML=h:f.sphericalMetadata.sphericalMetadataXml=h)}}}catch(a){}};e.$12=function(a,b,d,e,f){f=f||{widths:[],heights:[],streamTypes:[],streamDurations:[],spherical:!1,sphericalMetadata:{sphericalMetadataXml:null,FBSphericalMetadataXML:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null},isParsingInMediaInformationAtom:!1,endOfMediaInformationAtomOffset:null,streamSampleCounts:[],samples:[]};var g=null;while(b<d){var h=a.getUint32(b),k=this.$14(a,b+i,j);h===1&&(h=c("getVideo64BitAtomLength")(a,b,j,i));if(b+h>d){f.completed=!1;f.nextOffset=b;h>d&&(f.nextOffset+=h);return f}f.isParsingInMediaInformationAtom&&b>=Number(f.endOfMediaInformationAtomOffset)&&(f.isParsingInMediaInformationAtom=!1,f.endOfMediaInformationAtomOffset=null);if(b+e===0&&k!=="ftyp")throw new Error("No ftyp atom");if(h===0)throw new Error("len is 0");var z=function(){var d=a.getUint32(b+n),e=a.getUint32(b+l);if(d===0)throw c("err")("mvhd timescale is 0");return e/d};switch(k){case"moov":case"trak":case"mdia":case"stbl":b+=i+j;break;case"mvhd":f.duration=z();b+=h;break;case"tkhd":k=a.getUint16(b+q);var A=a.getUint16(b+m);f.widths.push(k);f.heights.push(A);f.samples.push({descriptions:[]});g=a.getUint32(b+r);b+=h;break;case"hdlr":if(!f.isParsingInMediaInformationAtom){k=this.$14(a,b+o,p);switch(k){case"vide":k="video";break;case"soun":k="audio";break;case"subt":k="subtitle";break;default:k="data"}f.streamTypes.push(k)}b+=h;break;case"mdhd":f.streamDurations.push(z());b+=h;break;case"uuid":this.$16(a,b,h,f);b+=h;break;case"meta":A=v+u+t;k=this.$14(a,b+A,4);if(k!=="face"){b+=h;break}z=i+j+s;A=this.$14(a,b+z,h-z);A!==null&&(f.sphericalMetadata.fbSpatialAudioMetadataXml==null&&(f.sphericalMetadata.fbSpatialAudioMetadataXml="<fb360_spatial_audio>"),g?f.sphericalMetadata.fbSpatialAudioMetadataXml+='\n                <track id="'+g.toString()+'">\n                  '+A+"\n                </track>\n              ":f.sphericalMetadata.fbSpatialAudioMetadataXml+="\n                <spatial_audio_formatting>\n                  "+A+"\n                </spatial_audio_formatting>\n              ");b+=h;break;case"minf":k=this.$14(a,b+2*i+j,j);k==="smhd"||k==="vmhd"?(b+=i+j,f.isParsingInMediaInformationAtom=!0,f.endOfMediaInformationAtomOffset=b+h):(f.streamSampleCounts.push(null),b+=h);break;case"stsd":b+=w;break;case"avc1":if(this.$5&&f.samples.length>0){z=f.samples[f.samples.length-1];z.descriptions.push({width:a.getUint16(b+H),height:a.getUint16(b+I)})}b+=h;break;case"mp4a":case"sowt":case"raw ":case"twos":case"fl32":case"fl64":case"in24":case"in32":case"ulaw":case"alaw":case"lpcm":case"Opus":A=a.getUint16(b+x).toString();Object.prototype.hasOwnProperty.call(y,A)?b+=y[A]:b+=h;break;case"SA3D":k=this.$15(a,b+i+j,h);k!==null&&(f.sphericalMetadata.ytSa3dMetadataJson===null&&(f.sphericalMetadata.ytSa3dMetadataJson=k));b+=h;break;case"stsz":case"stz2":f.streamSampleCounts.push(a.getUint32(b+G));b+=h;break;default:b+=h}}f.completed=!0;f.sphericalMetadata.fbSpatialAudioMetadataXml&&(f.sphericalMetadata.fbSpatialAudioMetadataXml+="</fb360_spatial_audio>");return f};e.$13=function(a){var b={streams:{numAudioTracks:0},format:{},metadata:{}},c=a.widths.length,d=a.heights.length,e=a.streamTypes.length,f=a.streamDurations.length,g=a.streamSampleCounts.length,h=a.samples.length;if(c!==d||c!==e||c!==f||c!==g||c!==h)throw new Error("Number of parsed widths, heights, durations or sample counts for video file are mismatched.");for(d=0;d<c;d++){var i={width:a.widths[d],height:a.heights[d],duration:a.streamDurations[d],type:a.streamTypes[d],sampleCount:a.streamSampleCounts[d]};if(i.type==="video"){this.$5&&a.samples[d].descriptions.forEach(function(a){a.width>i.width&&a.height>i.height&&(i.width=a.width,i.height=a.height)});e=i.width*i.height;f=b.streams.primaryVideo;(!f||f.width*f.height>e)&&(b.streams.primaryVideo=i)}else if(i.type==="audio"){g=b.streams.primaryAudio;(!g||g.duration<i.duration)&&(b.streams.primaryAudio=i);b.streams.numAudioTracks++}}b.format.duration=a.duration;b.format.isSpherical=a.sphericalMetadata.spherical;a.sphericalMetadata.spherical&&(b.metadata.sphericalMetadataXml=a.sphericalMetadata.sphericalMetadataXml,b.metadata.FBSphericalMetadataXML=a.sphericalMetadata.FBSphericalMetadataXML,b.metadata.fbSpatialAudioMetadataXml=a.sphericalMetadata.fbSpatialAudioMetadataXml,b.metadata.ytSa3dMetadataJson=a.sphericalMetadata.ytSa3dMetadataJson);return b};return a}();g["default"]=a}),98);
__d("MediaUploadFBMetadataParser",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime","Promise","VideoUploadFile","VideoUploadMetadataParser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i="MediaUploadMetadataParser";a=function(){function a(){this.$1=c("MediaUploadFBStage").METADATA_EXTRACTION}var e=a.prototype;e.parse=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,this.$1);try{yield this.$2(a)}catch(b){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:b})}a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return c("MediaUploadOperationOutcome").SUCCESS});function d(b){return a.apply(this,arguments)}return d}();e.retriveRawMetadata=function(a){return a.processing.rawData.getUnsafe(i)};e.$2=function(a){var d=this,e=a.asset;e=e.dataAsFile();if(e==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").ASSET_IS_NOT_FILE});return(h||(h=b("Promise"))).resolve()}var f=new(c("VideoUploadFile"))(null,e.file,e.size,e.extension);return new(h||(h=b("Promise")))(function(b){var e=new(c("VideoUploadMetadataParser"))(f,null,!1,function(e){e.success?d.$3(a,e.metadata):e.errorObject!=null?a.recordStageOutcome({stage:d.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorCode:String(e.errorCode),rawErrorObject:e.errorObject}):a.recordStageOutcome({stage:d.$1,outcome:c("MediaUploadFBStageOutcome").INTERNAL_FAILURE,rawErrorCode:String(e.errorCode)}),b()});e.parse()})};e.$3=function(a,b){var c,e,f,g;a.processing.rawData.set(i,b);c=(c=b.format)==null?void 0:c.duration;c=c==null?void 0:d("MediaUploadTime").secondsToTime(c);e=(e=b.streams)==null||(e=e.primaryVideo)==null?void 0:e.width;f=(f=b.streams)==null||(f=f.primaryVideo)==null?void 0:f.height;b.videoPlayerData!=null&&((g=b.videoPlayerData)==null?void 0:g.width)>0&&((g=b.videoPlayerData)==null?void 0:g.height)>0&&(e=b.videoPlayerData.width,f=b.videoPlayerData.height);b=(g=b.format)==null?void 0:g.isSpherical;a.metadata={duration:c,width:e,height:f,isSpherical:b}};return a}();g["default"]=a}),98);
__d("VideoUploadFileValidator",["errorCode","fbt","cr:909496","cr:909497","react","vulture"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react"),k=[1363019,1363020,1363021,1363022,1363023,1363024,1363025,1363026,1363027,1363030,1363031,1363032,1363033,1363038,1363039,1363040,1363048],l=["VIDEO__INVALID_GUIDE_DATA"];a=function(){"use strict";function a(a){this.$1=a}var c=a.prototype;c.validate=function(a,b){return this.$2(a)&&this.$3(a)&&this.$4(a.getExtension()==="gif",b)};c.getValidationErrorMessage=function(a,b){return this.$5(a)||this.$6(a)||this.$7(a.getExtension()==="gif",b)};a.canReplaceVideoForError=function(a){b("vulture")("GXIBEX7SKQtgztutRnjhZ9IvfSk=");if(!a)return!0;if(l.indexOf(a)>-1)return!1;return k.indexOf(a)>-1?!0:!1};c.$2=function(a){a=this.$5(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$5=function(a){if(this.$1.extensions[(a=a.getExtension())==null?void 0:a.toLowerCase()])return;a="http://www.facebook.com/help/218673814818907/";a=j.jsx(b("cr:909497"),{target:"_blank",href:a,children:h._(/*BTDS*/"recommended formats")});return{summary:h._(/*BTDS*/"Unsupported File Format"),description:h._(/*BTDS*/"Sorry, the file you selected is in a format that we don't support. Please use one of our {link} for video files.",[h._param("link",a)])}};c.$3=function(a){a=this.$6(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$6=function(a){var b;if(a.getSize()===null)return;a.getSize()<this.$1.minSize&&(b=this.$8());a.getSize()>this.$1.maxSize&&(b=this.$9());return b};c.$8=function(){var a=Math.round(this.$1.minSize/1024);return{summary:h._(/*BTDS*/"Video File Too Small"),description:h._(/*BTDS*/"The video file you tried to upload is too small. The minimum size for a video file is {min-size} KB. Please try again with a larger file.",[h._param("min-size",a)])}};c.$9=function(){var a=Math.floor(this.$1.maxSize/1024/1024);return{summary:h._(/*BTDS*/"Video File Too Large"),description:h._(/*BTDS*/"The video file you tried to upload is too large. The maximum size for a video file is {max-size} MB. Please try again with a smaller file.",[h._param("max-size",a)])}};c.$4=function(a,c){a=this.$7(a,c);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$7=function(a,b){var c;if(!b)return;var d=b.format.duration;d&&(d>this.$1.maxLength&&(c=this.$10()),d<this.$1.minLength&&!a&&(c=this.$11()));if(!b.streams||!b.streams.primaryVideo)return;d=b.streams.primaryVideo.width;a=b.streams.primaryVideo.height;var e=0,f=0;b.videoPlayerData!==null&&(e=b.videoPlayerData.height,f=b.videoPlayerData.width);this.$1.acceptDimensionsFromPlayer&&f!==0&&e!==0&&(d=f,a=e);!b.streams.primaryVideo&&b.streams.primaryAudio&&(c=this.$12());d<this.$1.minWidth&&(c=this.$13());a<this.$1.minHeight&&(c=this.$14());f=d/a;this.$1.require16to9AspectRatio&&((f>2||f<1.6)&&(c=this.$15()));this.$1.minAspectRatio&&(f<this.$1.minAspectRatio&&(c=this.$16()));this.$1.maxAspectRatio&&(f>this.$1.maxAspectRatio&&(c=this.$17()));return c};c.$10=function(){if(this.$1.source==="profile_video")return{summary:h._(/*BTDS*/"Profile Video Duration Too Long"),description:h._(/*BTDS*/"The maximum length is {max-length} seconds. Please upload a shorter video.",[h._param("max-length",this.$1.maxLength)])};else if(this.$1.source==="event_cover_video")return{summary:h._(/*BTDS*/"Event Cover Video Duration Too Long"),description:h._(/*BTDS*/"Videos can't be longer than {max-length} seconds.",[h._param("max-length",this.$1.maxLength)])};else return{summary:h._(/*BTDS*/"Video Duration Too Long"),description:h._(/*BTDS*/"The duration of the video you tried to upload is too long. The maximum duration for a video is {max-length} minutes. Please upload a shorter video.",[h._param("max-length",Math.round(this.$1.maxLength/60))])}};c.$11=function(){return{summary:h._(/*BTDS*/"Video File Too Short"),description:h._(/*BTDS*/"_j{\"second\":\"The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} second. Please upload a longer video.\",\"seconds\":\"The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} seconds. Please upload a longer video.\"}",[h._enum(this.$1.minLength===1?"second":"seconds",{second:"second",seconds:"seconds"}),h._param("min-length",this.$1.minLength)])}};c.$12=function(){b("vulture")("INKG3L69H5R65NZ1WJ71126FvrI=");var a="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?";a=j.jsx(b("cr:909497"),{href:a,children:h._(/*BTDS*/"supported video format")});return{summary:h._(/*BTDS*/"No Video Detected"),description:h._(/*BTDS*/"It looks like you're trying to upload a file that isn't a video. Please try uploading a {supported-video-format link}",[h._param("supported-video-format link",a)])}};c.$13=function(){return{summary:h._(/*BTDS*/"Video Width Too Narrow"),description:h._(/*BTDS*/"The width of the video you tried to upload is too short. The minimum width for a video is {min-width}. Please upload a wider video.",[h._param("min-width",this.$1.minWidth)])}};c.$15=function(){b("vulture")("uxlnhk-6pEg8Fk9bfORWCRp4alE=");return{summary:h._(/*BTDS*/"Problem Uploading Video"),description:h._(/*BTDS*/"Videos look best when they have a 16:9 aspect ratio. Please edit your video and upload again.")}};c.$14=function(){return{summary:h._(/*BTDS*/"Video Height Too Short"),description:h._(/*BTDS*/"The height of the video you tried to upload is too short. The minimum height for a video is {min-height}. Please upload a taller video.",[h._param("min-height",this.$1.minHeight)])}};c.$17=function(){return{summary:h._(/*BTDS*/"Video Too Wide"),description:h._(/*BTDS*/"The video you selected is too wide. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a taller video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};c.$16=function(){return{summary:h._(/*BTDS*/"Video Too Tall"),description:h._(/*BTDS*/"The video you selected is too tall. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a narrower video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};return a}();e.exports=a}),130);
__d("MediaUploadFBMetadataValidator",["MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationOutcome","MediaUploadStageEvent","MediaUploadTime","Promise","VideoUploadFile","VideoUploadFileValidator"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=c("MediaUploadFBStage").METADATA_VALIDATION,this.$2=a}var e=a.prototype;e.validate=function(a,d){a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,this.$1);try{d=this.$3(a,d)}catch(b){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").EXCEPTION,rawErrorObject:b}),d=c("MediaUploadOperationOutcome").SUCCESS}a.emitStageEventForOperationOutcome(d,this.$1);return(h||(h=b("Promise"))).resolve(d)};e.$4=function(a){var b={};a.extensions.forEach(function(a){return b[a]=1});return{minSize:a.minSizeKB*1024,maxSize:a.maxSizeKB*1024,maxLength:d("MediaUploadTime").timeToSeconds(a.maxDuration),minLength:d("MediaUploadTime").timeToSeconds(a.minDuration),acceptDimensionsFromPlayer:a.acceptDimensionsFromPlayer,minWidth:a.minWidth,minHeight:a.minHeight,require16to9AspectRatio:!1,minAspectRatio:a.minAspectRatio,maxAspectRatio:a.maxAspectRatio,source:a.sourceType,extensions:b}};e.$3=function(a,b){var d=a.asset.dataAsFile();if(d==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").ASSET_IS_NOT_FILE});return c("MediaUploadOperationOutcome").SUCCESS}if(this.configuration==null)throw this.$2.createThrowableError("Missing configuration in the MediaUploadFBMetadataValidator");d=new(c("VideoUploadFile"))(null,d.file,d.size,d.extension);var e=this.$4(this.configuration);e=new(c("VideoUploadFileValidator"))(e);e=e.getValidationErrorMessage(d,b);if(e!=null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").INTERNAL_FAILURE,displayError:e});return c("MediaUploadOperationOutcome").FAILED_NON_TRANSIENT}else{a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});return c("MediaUploadOperationOutcome").SUCCESS}};return a}();g["default"]=a}),98);
__d("MediaUploadOperationAttemptOutcome",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SUCCESS","CANCELED","TRANSIENT_FAILURE","TRANSIENT_FAILURE_IMMEDIATE_RETRY","NON_TRANSIENT_FAILURE"]);c=a;f["default"]=c}),66);
__d("MediaUploadRetryableOperation",["MediaUploadCancelablePromise","MediaUploadOperationAttemptOutcome","MediaUploadOperationOutcome"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){var e=this;this.$4=null;this.$1=a;this.$2=b;this.$3=d;this.cancelablePromise=new(c("MediaUploadCancelablePromise"))(function(a){e.$5(a);return{cancel:function(){var b;(b=e.$4)==null||b.cancel();e.$4=null;a(c("MediaUploadOperationOutcome").CANCELED)}}})}a.createAsPromise=function(b,c,d){b=new a(b,c,d);return b.cancelablePromise};var b=a.prototype;b.$5=function(a){var b=this,d=this.$1();this.$4=d;this.$3.promiseTerminator(d.promise.then(function(c){b.$4=null,b.$6(a,c)},function(d){b.$4=null;b.$6(a,c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);throw d}))};b.$6=function(a,b){switch(b){case c("MediaUploadOperationAttemptOutcome").CANCELED:a(c("MediaUploadOperationOutcome").CANCELED);break;case c("MediaUploadOperationAttemptOutcome").SUCCESS:a(c("MediaUploadOperationOutcome").SUCCESS);break;case c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:a(c("MediaUploadOperationOutcome").FAILED_NON_TRANSIENT);break;case c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE:this.$7(a,!1);break;case c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE_IMMEDIATE_RETRY:this.$7(a,!0);break}};b.$7=function(a,b){var d=this;this.$2.increaseRetryAttemptCounter();if(this.$2.exceedTotalDuration())a(c("MediaUploadOperationOutcome").FAILED_OUT_OF_TIME);else if(this.$2.exceedTotalRetries())a(c("MediaUploadOperationOutcome").FAILED_NO_MORE_RETRIES);else if(b)this.$5(a);else{b=this.$2.calculateBackoffDelay();this.$4=this.$3.delayedExecutor(b,function(){return d.$5(a)},function(){return a(c("MediaUploadOperationOutcome").CANCELED)})}};return a}();g["default"]=a}),98);
__d("MediaUploadFBNetworkAssetStrategy",["MediaUploadPipeline","MediaUploadRetryableOperation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d){this.$1=a,this.startRequest=b,this.uploadServiceRequest=c,this.receiveRequest=d}var b=a.prototype;b.run=function(a){var b=this,d=a.asset.dataAsFile();if(d==null)throw this.$1.createThrowableError("Browser is not compatible with current version of the SDK");else{var e=new(c("MediaUploadPipeline"))(this.$1);e.addCancelableStep(function(){return c("MediaUploadRetryableOperation").createAsPromise(function(){return b.startRequest.send(a)},a.retryState,b.$1)});e.addCancelableStep(function(){return c("MediaUploadRetryableOperation").createAsPromise(function(){return b.uploadServiceRequest.send(a,d,b.startRequest.retriveResponse(a))},a.retryState,b.$1)});e.addCancelableStep(function(){return c("MediaUploadRetryableOperation").createAsPromise(function(){return b.receiveRequest.send(a,b.startRequest.retriveResponse(a),b.uploadServiceRequest.retriveResponse(a))},a.retryState,b.$1)});return e.run()}};b.cancel=function(){};return a}();g["default"]=a}),98);
__d("MediaUploadFBNetworkProbe",["MediaUploadNetworkStatus","Network"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.probe=function(){return c("Network").isOnline()?c("MediaUploadNetworkStatus").CONNECTED:c("MediaUploadNetworkStatus").DISCONNECTED};return a}();g["default"]=a}),98);
__d("MediaUploadFBEndpointRequest",["AsyncRequest","MediaUploadCancelablePromise","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.send=function(a,b){var d=this;return new(c("MediaUploadCancelablePromise"))(function(e){b.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,a.stage);var f=a.createPayload();if(f==null){b.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,a.stage);e(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);return}var g=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(a.uri).setData(f).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",b.sessionContext.sessionID).setProgressHandler(function(){a.networkNotifier.notifyOnProgress(b,a.stage)}).setHandler(function(c){e(d.$1(a,b,c))}).setErrorHandler(function(c){e(d.$2(a,b,c))});if(g.send()){a.networkNotifier.notifyOnNewRequest(b,a.stage);return{cancel:function(){a.networkNotifier.notifyOnAbandon(b,a.stage),g.abort()}}}else e(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE)})};b.$1=function(a,b,d){var e;a.networkNotifier.notifyOnResponse(b,a.stage);(e=b.retryState)==null||e.resetBackoff();a.acceptSuccessfulResponse(d);b.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,a.stage);return c("MediaUploadOperationAttemptOutcome").SUCCESS};b.$2=function(a,b,d){var e=d.error<1e3,f=d.error>9999;e||f?a.networkNotifier.notifyOnResponse(b,a.stage):a.networkNotifier.notifyOnTransportError(b,a.stage);a.acceptErrorResponse(d);b.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,a.stage);b=e&&d.error>=400&&d.error<500||f&&!d.transientError;return b?c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE};return a}();g["default"]=a}),98);
__d("MediaUploadFBReceiveRequest",["ActorURI","MediaUploadCancelablePromise","MediaUploadFBEndpointRequest","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent"],(function(a,b,c,d,e,f,g){"use strict";var h="MediaUploadFBReceiveRequest";a=function(){function a(a){this.$1=c("MediaUploadFBStage").RECEIVE_REQUEST,this.$2=a.entryPoint,this.$3=a.payloadHook,this.$4=a.customHeadersHook,this.$5=a.envParams,this.$6=new(c("MediaUploadFBEndpointRequest"))(),this.$7=a.networkNotifier}var b=a.prototype;b.send=function(a,b,e){var f=this;if(this.configuration==null)throw this.$5.createThrowableError("Missing configuration in the MediaUploadFBReceiveRequest");if((b==null?void 0:b.skip_upload)===!0){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1);return c("MediaUploadCancelablePromise").resolve(c("MediaUploadOperationAttemptOutcome").SUCCESS)}return this.$6.send({stage:this.$1,networkNotifier:this.$7,uri:a.request.attributes.actorID==null?this.configuration.baseURI:d("ActorURI").create(this.configuration.baseURI,a.request.attributes.actorID),createPayload:function(){return f.$8(a,b,e)},createCustomHeaders:function(){return f.$9(a)},acceptSuccessfulResponse:function(b){a.processing.rawData.set(h,b.payload),a.recordStageOutcome({stage:f.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS})},acceptErrorResponse:function(b){a.recordStageOutcome({stage:f.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:b.error,displayError:{summary:b.errorSummary,description:b.errorDescription},errorAttributes:{silentError:b.silentError,transientError:b.transientError},networkRequestID:(b=b.payload)==null?void 0:b.__www_request_id__})}},a)};b.$9=function(a){var b=this.$4;if(b)return b({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot()});else return null};b.$8=function(a,b,d){if(b==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_START_CALL_RESPONSE"});return null}if(d==null){a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_UPLOAD_SERVICE_RESPONSE"});return null}var e=a.asset.dataAsFile();e={waterfall_id:a.sessionContext.sessionID,target_id:a.request.attributes.targetID,video_id:b.video_id,source:this.$2.sourceType,composer_entry_point_ref:this.$2.entryPointRef,supports_chunking:!0,supports_upload_service:!0,partition_start_offset:0,partition_end_offset:e==null?void 0:e.size,start_offset:0,end_offset:e==null?void 0:e.size,upload_speed:a.uploadSummary.computeSpeedBps(),fbuploader_video_file_chunk:d.everstoreHandle,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,composer_dialog_version:a.request.attributes.composerDialogVersion,composer_work_shared_draft_mode:a.request.attributes.workSharedDraftMode};d=this.$3;d!=null&&d({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot(),startCallResponse:b,payload:e});return e};return a}();g["default"]=a}),98);
__d("MediaUploadFBStartRequest",["ActorURI","MediaUploadFBEndpointRequest","MediaUploadFBStage","MediaUploadFBStageOutcome"],(function(a,b,c,d,e,f,g){"use strict";var h="MediaUploadFBStartRequest";a=function(){function a(a){this.$1=c("MediaUploadFBStage").START_REQUEST,this.$2=a.entryPoint,this.$3=a.payloadHook,this.$4=a.customHeadersHook,this.$5=a.envParams,this.$6=new(c("MediaUploadFBEndpointRequest"))(),this.$7=a.networkNotifier}var b=a.prototype;b.retriveResponse=function(a){return a.processing.rawData.getUnsafe(h)};b.send=function(a){var b=this;if(this.configuration==null)throw this.$5.createThrowableError("Missing configuration in the MediaUploadFBStartRequest");return this.$6.send({stage:this.$1,networkNotifier:this.$7,uri:a.request.attributes.actorID==null?this.configuration.baseURI:d("ActorURI").create(this.configuration.baseURI,a.request.attributes.actorID),createPayload:function(){return b.$8(a)},createCustomHeaders:function(){return b.$9(a)},acceptSuccessfulResponse:function(d){var e=d.payload;if(e.video_id!=null)a.processing.rawData.set(h,e),a.videoID=e.video_id,a.recordStageOutcome({stage:b.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});else{a.recordStageOutcome({stage:b.$1,outcome:c("MediaUploadFBStageOutcome").INVALID_SERVER_RESPONSE,networkRequestID:(e=d.payload)==null?void 0:e.__www_request_id__})}},acceptErrorResponse:function(d){a.recordStageOutcome({stage:b.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:d.error,displayError:{summary:d.errorSummary,description:d.errorDescription},errorAttributes:{silentError:d.silentError,transientError:d.transientError},networkRequestID:(d=d.payload)==null?void 0:d.__www_request_id__})}},a)};b.$9=function(a){var b=this.$4;if(b!=null)return b({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot()});else return null};b.$8=function(a){var b,c=a.asset.dataAsFile();b={waterfall_id:a.sessionContext.sessionID,target_id:a.request.attributes.targetID,source:this.$2.sourceType,composer_entry_point_ref:this.$2.entryPointRef,supports_chunking:c!=null,supports_file_api:c!=null,file_size:c==null?0:c.size,file_extension:String(a.asset.data.extension),spherical:(b=a.metadata)==null?void 0:b.isSpherical,partition_start_offset:0,partition_end_offset:c==null?void 0:c.size,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,composer_dialog_version:a.request.attributes.composerDialogVersion,video_publisher_action_source:a.request.attributes.publisherActionSource,composer_work_shared_draft_mode:a.request.attributes.workSharedDraftMode};c=this.$3;c!=null&&c({assetSnapshot:a.composeSnapshot(),sessionSnapshot:a.sessionContext.composeSnapshot(),payload:b});return b};return a}();g["default"]=a}),98);
__d("ResumableUploadService",["cr:720"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:720")}),98);
__d("MediaUploadFBUploadServiceRequest",["AsyncResponse","MediaUploadCancelablePromise","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadOperationAttemptOutcome","MediaUploadStageEvent","RelayAPIConfig","ResumableUploadService","ResumableUploadServiceState.enum","md5"],(function(a,b,c,d,e,f,g){"use strict";var h="MediaUploadFBUploadServiceRequest";a=function(){function a(a){this.$1=c("MediaUploadFBStage").BYTES_UPLOAD,this.$2=a.envParams,this.$3=a.networkNotifier}var b=a.prototype;b.send=function(a,b,d){var e=this;return new(c("MediaUploadCancelablePromise"))(function(f){a.emitStageEvent(c("MediaUploadStageEvent").STAGE_STARTED,e.$1);var g=e.configuration;if(g==null)throw e.$2.createThrowableError("Missing configuration in the MediaUploadFBUploadServiceRequest");if(d==null){a.recordStageOutcome({stage:e.$1,outcome:c("MediaUploadFBStageOutcome").MISSING_MANDATORY_DATA,rawErrorCode:"MISSING_START_CALL_RESPONSE"});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,e.$1);f(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE);return}if(d.skip_upload){a.uploadSummary.updateForUploadSkip(b.size);a.recordStageOutcome({stage:e.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,e.$1);f(c("MediaUploadOperationAttemptOutcome").SUCCESS);return}a.uploadSummary.updateForUploadStart(b.size);a.recalculateProgressAndEmit();g=e.$4(a,b,g,d);var h=c("ResumableUploadService").create(g);a.processing.uploadServiceDomain=h.getServiceName();e.$5(a,h,f);h.resume(b.file);e.$3.notifyOnNewRequest(a,e.$1);return{cancel:function(){h.cancel()}}})};b.retriveResponse=function(a){return a.processing.rawData.getUnsafe(h)};b.$6=function(a,b,d){this.$3.notifyOnResponse(a,this.$1),typeof d==="string"?(a.processing.rawData.set(h,{everstoreHandle:d}),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").SUCCESS}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_SUCCEED,this.$1),b(c("MediaUploadOperationAttemptOutcome").SUCCESS)):(a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").INVALID_SERVER_RESPONSE,rawErrorCode:"RECEIVED_HANDLE_IS_NOT_STRING"}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,this.$1),b(c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE))};b.$7=function(a,b,d){d.error<1e3?this.$3.notifyOnResponse(a,this.$1):this.$3.notifyOnTransportError(a,this.$1);a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorCode:d.error,displayError:{summary:d.errorSummary,description:d.errorDescription},errorAttributes:{silentError:d.silentError,transientError:d.transientError}});a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,this.$1);a=d.error>=400&&d.error<500;b(a?c("MediaUploadOperationAttemptOutcome").NON_TRANSIENT_FAILURE:c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE)};b.$8=function(a,b,d){d instanceof c("AsyncResponse")?this.$7(a,b,d):(this.$3.notifyOnAbandon(a,this.$1),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").REQUEST_ERROR,rawErrorObject:d}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_FAILED,this.$1),b(c("MediaUploadOperationAttemptOutcome").TRANSIENT_FAILURE))};b.$9=function(a,b){this.$3.notifyOnAbandon(a,this.$1),a.recordStageOutcome({stage:this.$1,outcome:c("MediaUploadFBStageOutcome").CANCEL}),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_CANCELED,this.$1),b(c("MediaUploadOperationAttemptOutcome").CANCELED)};b.$10=function(a,b){this.$3.notifyOnProgress(a,this.$1),(b==null?void 0:b.loaded)!=null&&(a.uploadSummary.updateForProgress(b.loaded),a.emitStageEvent(c("MediaUploadStageEvent").STAGE_PROGRESS,this.$1))};b.$5=function(a,b,d){var e=this,f;b.addListener((f=c("ResumableUploadServiceState.enum")).SUCCESS,function(b){return e.$6(a,d,b)});b.addListener(f.TRANSPORT_FAILURE,function(b){return e.$7(a,d,b)});b.addListener(f.FAIL,function(b){return e.$8(a,d,b)});b.addListener(f.CANCEL,function(){return e.$9(a,d)});b.addListener(f.PROGRESS,function(b){return e.$10(a,b)})};b.$4=function(a,b,d,e){var f;b=b.file;f=[String(b.lastModified),b.name,b.type,String(b.size),(f=(f=a.processing.pseudoHash)==null?void 0:f.hashValue)!=null?f:[a.sessionContext.sessionID,a.assetID].join("-")].join("-");f=[c("md5")(f),String(e.start_offset),String(e.end_offset)].join("-");var g=d.tracing.enabled&&d.tracing.minFileSizeKB<b.size/1024?["video_upload_www",[a.assetID,String(a.retryState.getRetryAttempts())].join("_"),[String(a.sessionContext.sessionID),String(e.video_id)].join("_")].join(":"):null,h=d.defaultService,i=h.serviceName;h=h.serviceDomain;a.retryState.getRetryAttemptsSinceLastReset()<10&&d.targetedService!=null&&(i=d.targetedService.serviceName,h=d.targetedService.serviceDomain);var j=null;d.includeAccessToken&&(j=c("RelayAPIConfig").accessToken);return{consumer:d.defaultService.serviceConsumer,accessToken:j,sessionKey:f,serviceName:i,serviceDomain:h,tracingHeaderValue:g,receiveParameters:{start_offset:String(e.start_offset),end_offset:String(e.end_offset),composer_session_id:a.sessionContext.sessionID,upload_session_id:String(e.upload_session_id),product_media_id:e.video_id,xpv_asset_id:e.xpv_asset_id,is_xpv_single_prod:e.is_xpv_single_prod,fb_region:e.fb_region,total_file_size:String(b.size),target_id:a.request.attributes.targetID,video_waterfall_id:a.sessionContext.sessionID}}};return a}();g["default"]=a}),98);
__d("MediaUploadFalcoLogger",["CurrentUser","MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadFBStage","MediaUploadFBStageOutcome","MediaUploadSessionEvent","MediaUploadSessionStatus","MediaUploadStageEvent","MediaUploadTime","logVideoUploadViaFalco"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([[(a=c("MediaUploadClientEvent")).CLIENT_CONFIG_REQUESTED,"upload.client.started_client_config_fetch"],[a.CLIENT_CONFIG_RECEIVED,"upload.client.finished_client_config_fetch"],[a.CLIENT_CONFIG_FAILED,"upload.client.failed_client_config_fetch"],[a.CLIENT_CONFIG_CACHED,"upload.client.cached_client_config_fetch"]]),i=new Map([[(b=c("MediaUploadSessionEvent")).SESSION_CONFIRMED,"upload.client.started_flow"],[b.PUBLISH_STARTED,"upload.client.started_sending_post_request"],[b.PUBLISH_SUCCEED,"upload.client.finished_sending_post_request"],[b.PUBLISH_FAILED,"upload.client.failed_sending_post_request"]]),j=new Map([[c("MediaUploadSessionStatus").FAILED,"upload.client.failed_flow"],[c("MediaUploadSessionStatus").CANCELED,"upload.client.canceled_flow"],[c("MediaUploadSessionStatus").COMPLETED,"upload.client.finished_flow"]]),k=new Map([[(e=c("MediaUploadAssetEvent")).ASSET_ADDED,"upload.client.requested_uploading"],[e.ASSET_STARTED,"upload.client.started_uploading"],[e.ASSET_FAILED,"upload.client.failed_uploading"],[e.ASSET_REMOVED,"upload.client.canceled_uploading"],[e.ASSET_SUCCEED,"upload.client.finished_uploading"],[e.ASSET_STALL,"upload.client.stall_detected"]]),l=new Map([[(f=c("MediaUploadStageEvent")).STAGE_STARTED,new Map([[(a=c("MediaUploadFBStage")).START_REQUEST,"upload.client.started_sending_start_request"],[a.BYTES_UPLOAD,"upload.client.started_sending_bytes"],[a.RECEIVE_REQUEST,"upload.client.started_sending_receive_request"]])],[f.STAGE_SUCCEED,new Map([[a.START_REQUEST,"upload.client.finished_sending_start_request"],[a.BYTES_UPLOAD,"upload.client.finished_sending_bytes"],[a.RECEIVE_REQUEST,"upload.client.finished_sending_receive_request"]])],[f.STAGE_FAILED,new Map([[a.START_REQUEST,"upload.client.failed_sending_start_request"],[a.RECEIVE_REQUEST,"upload.client.failed_sending_receive_request"],[a.BYTES_UPLOAD,"upload.client.failed_sending_bytes"],[a.METADATA_VALIDATION,"upload.client.invalidated_uploading"]])],[f.STAGE_CANCELED,new Map([[a.START_REQUEST,"upload.client.canceled_sending_start_request"],[a.BYTES_UPLOAD,"upload.client.canceled_sending_bytes"],[a.RECEIVE_REQUEST,"upload.client.canceled_sending_receive_request"]])]]);b=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.subscribe=function(a,b){var d=this;h.forEach(function(c,e){a.addClientEventListener(e,function(a){return d.$3(b,c,a)})});i.forEach(function(c,e){a.addSessionEventListener(e,function(a){return d.$4(b,c,a)})});j.forEach(function(e,f){a.addSessionEventListener(c("MediaUploadSessionEvent").SESSION_FINISHED,function(a){a.terminalStatus===f&&a.timing.confirmedAtMs!=null&&d.$4(b,e,a)})});k.forEach(function(c,e){a.addAssetEventListener(e,function(a,e){return d.$5(b,c,a,e)})});l.forEach(function(c,e){c.forEach(function(c,f){a.addStageEventListener(e,f,function(a,e){d.$5(b,c,a,e)})})})};b.$6=function(a){return a==null?null:d("MediaUploadTime").timeToMilliseconds(this.$1.currentTimeProvider())-a};b.$7=function(a,b){return{event:a,application_state:"www_v2",is_chunked_upload:!0,file_can_read:this.$1.features.supportFileManipulation,network_status:(a=this.$2)==null||(a=a.injectNetworkStatus)==null?void 0:a.getNetworkStatus(),internet_status:(a=this.$2)==null||(a=a.injectNetworkStatus)==null?void 0:a.getInternetStatus(),trigger_time:this.$1.currentTimeProvider(),app_id:c("CurrentUser").getAppID(),source:b.sourceType,composer_entry_point_ref:b.entryPointRef}};b.$8=function(a){var b,d,e,f,g=(a==null?void 0:a.rawErrorCode)!=null&&typeof (a==null?void 0:a.rawErrorCode)==="string"?a==null?void 0:a.rawErrorCode:void 0,h=(a==null?void 0:a.rawErrorCode)!=null&&typeof (a==null?void 0:a.rawErrorCode)==="number"?a==null?void 0:a.rawErrorCode:void 0;return{error:g!=null?g:a==null||(b=a.displayError)==null?void 0:b.summary,error_inner:(a==null?void 0:a.outcome)===c("MediaUploadFBStageOutcome").SUCCESS?void 0:a==null?void 0:a.outcome,error_description:(g=a==null||(d=a.errorObject)==null?void 0:d.message)!=null?g:a==null||(e=a.displayError)==null?void 0:e.description,error_trace:a==null||(f=a.errorObject)==null?void 0:f.stack,error_code:h}};b.$9=function(a){return{event_reason:a.cancelReason,elapsed_time:this.$6(a.timing.confirmedAtMs),waterfall_id:a.sessionID,retry_id:a.retryID}};b.$10=function(a){var b;return{elapsed_time:this.$6(a.lastUploadStartedAtMs),asset_id:a.assetID,video_id:a.videoID,composer_session_id:a.request.attributes.composerSessionID,target_id:a.request.attributes.targetID,composer_dialog_version:a.request.attributes.composerDialogVersion,has_file_been_replaced:a.request.attributes.hasFileBeenReplaced,source_width:(b=a.metadata)==null?void 0:b.width,source_height:(b=a.metadata)==null?void 0:b.height,is_spherical:(b=a.metadata)==null?void 0:b.isSpherical,duration:(b=a.metadata)==null?void 0:b.durationMs,file_size:(b=a.asset.dataAsFile())==null?void 0:b.size,video_original_file_path:a.asset.data.name,hash:(b=a.hash)==null?void 0:b.hashValue,hash_time:(b=a.hash)==null?void 0:b.calculationTimeCostMs,retries:a.retries.totalRetryAttempts,upload_domain:a.uploadServiceDomain,upload_speed:(b=a.uploadSummary)==null?void 0:b.speedBps,skip_upload:(b=a.uploadSummary)==null?void 0:b.skippedUpload}};b.$11=function(a){var b;return((b=this.$2)==null?void 0:b.injectExtraSessionFields)!=null?(b=this.$2)==null?void 0:b.injectExtraSessionFields(a):null};b.$12=function(a,b){var c;return((c=this.$2)==null?void 0:c.injectExtraAssetFields)!=null?(c=this.$2)==null?void 0:c.injectExtraAssetFields(a,b):null};b.$13=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.map(function(a){return a!=null?a:{}});return Object.assign.apply(Object,[{}].concat(d))};b.$3=function(a,b,c){var d=c.assetSnapshot,e=c.sessionSnapshot;b=this.$13(e==null?null:this.$11(e),e==null||d==null?null:this.$12(e,d),this.$7(b,a),e==null?null:this.$9(e),e==null||d==null?null:this.$10(d),this.$8(c),{elapsed_time:this.$6(c.startedAtMs)});this.$14(b)};b.$4=function(a,b,c){b=this.$13(this.$11(c),this.$7(b,a),this.$9(c),this.$8(c.lastError));this.$14(b)};b.$5=function(a,b,c,d){b=this.$13(this.$11(c),this.$12(c,d),this.$7(b,a),this.$9(c),this.$10(d),this.$8(d.lastAction));this.$14(b)};b.$14=function(a){c("logVideoUploadViaFalco")(a)};return a}();g["default"]=b}),98);
__d("MediaUploadLinearProgressCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=this.$4(),this.$3=this.$1.sessionWeights.assets+this.$1.sessionWeights.publishing}var b=a.prototype;b.$4=function(){var a=this.$1.assetWeights.uploadBytes;this.$1.assetWeights.singleOperations.forEach(function(b){return a+=b});return a};b.$5=function(a,b){a=Math.floor(a*100/this.$1.percentagePrecision)*this.$1.percentagePrecision;b=Math.abs(a-b)>=this.$1.percentagePrecision;return{percentageProgress:a,isDifferent:b}};b.calculateAssetProgress=function(a){var b=this.$1.assetWeights,c=0;if(a.isCompleted())c=1;else{for(var d of a.progress.completedStages.values()){var e=b.singleOperations.get(d);e!=null&&(c+=e)}e=a.uploadSummary.computeUploadedPortion();e!=null&&(c+=b.uploadBytes*e);c/=this.$2}d=this.$5(c,a.progress.calculated.percentageComplete);a.progress.calculated.rawValue=c;a.progress.calculated.percentageComplete=d.percentageProgress;a.progress.calculated.rawValue=c;return d.isDifferent};b.calculateSessionProgress=function(a){var b=this.$1.sessionWeights,c=0;a.progress.publishingDone&&(c+=b.publishing);var d=a.getActiveAssets();if(d.length>0){var e=b.assets/d.length;a.getActiveAssets().forEach(function(a){c+=e*a.progress.calculated.rawValue})}else c+=b.assets;c/=this.$3;d=this.$5(c,a.progress.percentageComplete);a.progress.percentageComplete=d.percentageProgress;return d.isDifferent};return a}();f["default"]=a}),66);
__d("MediaUploadNetworkMonitor",["MediaUploadAssetEvent","MediaUploadClientEvent","MediaUploadNetworkStatus","MediaUploadRetryState","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={probe:function(){return c("MediaUploadNetworkStatus").UNKNOWN}},j={probe:function(){return(h||(h=b("Promise"))).resolve(c("MediaUploadNetworkStatus").UNKNOWN)}};a=function(){function a(a,b){this.$1=a,this.$3=i,this.$2=j,this.$4=c("MediaUploadNetworkStatus").UNKNOWN,this.$5=new Map(),this.$6=null,this.$8=null,this.$9=b.emitClientEvent}var b=a.prototype;b.updateConfiguration=function(a){var b;this.$3=(b=a.networkProbe)!=null?b:i;this.$2=(b=a.internetProbe)!=null?b:j;this.$7=a.internetProbeBackoffPolicy==null?null:new(c("MediaUploadRetryState"))(a.internetProbeBackoffPolicy,this.$1);this.$8=a.stallDetectorTimeout;this.$10()};b.getNetworkStatus=function(){return this.$3.probe()};b.getInternetStatus=function(){return this.$4};b.$11=function(a,b){return a.sessionContext.sessionID+"/"+a.assetID+"/"+String(b)};b.$12=function(a,b,d){var e;this.$13(c("MediaUploadNetworkStatus").CONNECTED);(e=this.$7)==null||e.resetBackoff();(e=this.$6)==null||e.cancel();this.$6=null;e=this.$11(a,b);d&&this.$5.set(e,{assetContext:a});this.$10();this.$14(e)};b.$15=function(a,b){a=this.$11(a,b);b=this.$5.get(a);if(b!=null){var c;(c=b.stallDetector)==null||c.cancel();b.stallDetector=null}this.$5["delete"](a)};b.$14=function(a){var b=this.$8;if(b==null)return;var d=this.$5.get(a);if(d==null)return;(a=d.stallDetector)==null||a.cancel();d.stallDetector=this.$1.delayedExecutor(b,function(){d.assetContext.emitAssetEvent(c("MediaUploadAssetEvent").ASSET_STALL),d.stallDetector=null})};b.$10=function(){var a=this,b=this.$7;if(b==null)return;if(this.$5.size===0)return;if(this.$6!=null)return;this.$6=this.$1.delayedExecutor(b.calculateBackoffDelay(),function(){var b=a.$2.probe().then(function(b){return a.$13(b)})["finally"](function(){a.$6=null,a.$10()});a.$1.promiseTerminator(b)});b.increaseRetryAttemptCounter()};b.$13=function(a){if(this.$4===a)return;this.$4=a;switch(this.$4){case c("MediaUploadNetworkStatus").CONNECTED:this.$9(c("MediaUploadClientEvent").CLIENT_INTERNET_ONLINE);break;case c("MediaUploadNetworkStatus").DISCONNECTED:this.$9(c("MediaUploadClientEvent").CLIENT_INTERNET_OFFLINE);break;case c("MediaUploadNetworkStatus").TIMEOUT:this.$9(c("MediaUploadClientEvent").CLIENT_INTERNET_UNKNOWN);break;case c("MediaUploadNetworkStatus").UNKNOWN:}};b.notifyOnNewRequest=function(a,b){this.$12(a,b,!0)};b.notifyOnProgress=function(a,b){this.$12(a,b,!1)};b.notifyOnAbandon=function(a,b){this.$15(a,b)};b.notifyOnTransportError=function(a,b){this.$15(a,b)};b.notifyOnResponse=function(a,b){this.$15(a,b),this.$12(a,b,!1)};return a}();g["default"]=a}),98);
__d("MediaUploadFBDefaultClientContext",["MediaUploadClientContext","MediaUploadClientEvent","MediaUploadEventEmitterAdapter","MediaUploadExecutor","MediaUploadFBAssetContext","MediaUploadFBAssetRequest","MediaUploadFBClient","MediaUploadFBClientEventContext","MediaUploadFBDefaultServerConfigurationRetriever","MediaUploadFBFileHasher","MediaUploadFBInternetProbe","MediaUploadFBLocalAssetStrategy","MediaUploadFBMetadataParser","MediaUploadFBMetadataValidator","MediaUploadFBNetworkAssetStrategy","MediaUploadFBNetworkProbe","MediaUploadFBReceiveRequest","MediaUploadFBSessionContext","MediaUploadFBStage","MediaUploadFBStartRequest","MediaUploadFBUploadServiceRequest","MediaUploadFalcoLogger","MediaUploadLinearProgressCalculator","MediaUploadNetworkMonitor","cr:1856704"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function d(b,d,e){var f,g=new(c("MediaUploadEventEmitterAdapter"))(b);f=a.call(this,{sdk:b,emitter:g.emitter,executor:new(c("MediaUploadExecutor"))(),progressCalculator:new(c("MediaUploadLinearProgressCalculator"))({assetWeights:{uploadBytes:.9,singleOperations:new Map([[c("MediaUploadFBStage").START_REQUEST,.05],[c("MediaUploadFBStage").RECEIVE_REQUEST,.05]])},sessionWeights:{publishing:.1,assets:.9},percentagePrecision:1})})||this;f.entryPoint=d;f.eventAdapter=g;f.configuration=e;f.networkMonitor=new(c("MediaUploadNetworkMonitor"))(f.sdk,{emitClientEvent:function(a){return g.emitter.emitClientEvent(a,new(c("MediaUploadFBClientEventContext"))({entryPoint:d,envParams:b}))}});f.localAssetStategy=f.$MediaUploadFBDefaultClientContext$p_1();f.networkAssetStategy=f.$MediaUploadFBDefaultClientContext$p_2();f.serverConfigurationRetriever=new(c("MediaUploadFBDefaultServerConfigurationRetriever"))({entryPoint:d,emitter:f.emitter,setters:{metadataValidation:function(a){f.localAssetStategy.metadataValidator.configuration=a},startRequest:function(a){f.networkAssetStategy.startRequest.configuration=a},receiveRequest:function(a){f.networkAssetStategy.receiveRequest.configuration=a},uploadService:function(a){f.networkAssetStategy.uploadServiceRequest.configuration=a},networkMonitor:function(a){f.networkMonitor.updateConfiguration({networkProbe:a.networkProbe.enabled?new(c("MediaUploadFBNetworkProbe"))():null,internetProbe:a.internetProbe.enabled?new(c("MediaUploadFBInternetProbe"))({timeout:a.internetProbe.timeout},f.sdk):null,internetProbeBackoffPolicy:a.internetProbe.backoffPolicy,stallDetectorTimeout:a.stallDetector.enabled?a.stallDetector.timeout:null})}},envParams:f.sdk});f.client=new(c("MediaUploadFBClient"))({implementation:f,sessionStrategy:f.sessionStrategy,envParams:f.sdk});f.emitter.emitClientEvent(c("MediaUploadClientEvent").CLIENT_CREATED,new(c("MediaUploadFBClientEventContext"))({entryPoint:d,envParams:f.sdk}));return f}babelHelpers.inheritsLoose(d,a);var e=d.prototype;e.$MediaUploadFBDefaultClientContext$p_1=function(){return new(c("MediaUploadFBLocalAssetStrategy"))({envParams:this.sdk,metadataParser:new(c("MediaUploadFBMetadataParser"))(),metadataValidator:new(c("MediaUploadFBMetadataValidator"))(this.sdk),fileHasher:new(c("MediaUploadFBFileHasher"))({pseudoHasher:b("cr:1856704")==null?void 0:new(b("cr:1856704"))({maxChunkSize:1024*1024,takeFirstBytes:100*1024,hashingAlgorithm:"sha256",outputEncoding:"base64"},this.sdk)})})};e.$MediaUploadFBDefaultClientContext$p_2=function(){var a,b;a=new(c("MediaUploadFBStartRequest"))({entryPoint:this.entryPoint,payloadHook:(a=this.configuration.networkHooks)==null?void 0:a.startRequestPayload,customHeadersHook:(a=this.configuration.networkHooks)==null?void 0:a.startRequestCustomHeaders,envParams:this.sdk,networkNotifier:this.networkMonitor});var d=new(c("MediaUploadFBUploadServiceRequest"))({envParams:this.sdk,networkNotifier:this.networkMonitor});b=new(c("MediaUploadFBReceiveRequest"))({entryPoint:this.entryPoint,payloadHook:(b=this.configuration.networkHooks)==null?void 0:b.receiveRequestPayload,customHeadersHook:(b=this.configuration.networkHooks)==null?void 0:b.receiveRequestCustomHeaders,envParams:this.sdk,networkNotifier:this.networkMonitor});return new(c("MediaUploadFBNetworkAssetStrategy"))(this.sdk,a,d,b)};e.runClientLazyLoading=function(a){return this.serverConfigurationRetriever.run(c("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};e.runLocalAssetStategy=function(a){return this.localAssetStategy.run(c("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};e.runNetworkAssetStategy=function(a){return this.networkAssetStategy.run(c("MediaUploadFBAssetContext").castOrThrow(a,this.sdk))};e.createSessionContext=function(a){return new(c("MediaUploadFBSessionContext"))({sessionID:a,entryPoint:this.entryPoint,emitter:this.emitter,progressCalculator:this.progressCalculator,params:this.sdk})};e.createAssetContext=function(a,b){return new(c("MediaUploadFBAssetContext"))({sessionContext:c("MediaUploadFBSessionContext").castOrThrow(a,this.sdk),assetRequest:c("MediaUploadFBAssetRequest").castOrThrow(b,this.sdk),emitter:this.emitter,progressCalculator:this.progressCalculator,retryState:this.createRetryState(),params:this.sdk})};e.publish=function(a,b){var d=this;a=c("MediaUploadFBSessionContext").castOrThrow(a,this.sdk).composeSnapshot();b=b.map(function(a){return c("MediaUploadFBAssetContext").castOrThrow(a,d.sdk).composeSnapshot()});return this.configuration.eventHooks.publishCallback(a,b)};e.subscribeToHooks=function(){var a=this,b=new(c("MediaUploadFalcoLogger"))(this.sdk,{injectNetworkStatus:this.networkMonitor,injectExtraSessionFields:function(){return{composer_dialog_version:a.configuration.composerDialogVersion}}});b.subscribe(this.eventAdapter.subscriber,this.entryPoint);this.configuration.eventHooks.eventSubscriber!=null&&this.configuration.eventHooks.eventSubscriber(this.eventAdapter.subscriber)};return d}(c("MediaUploadClientContext"));g["default"]=a}),98);
__d("MediaUploadSurface",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.sdk=a}var b=a.prototype;b.isClientSupported=function(a){a=this.$1.get(a.key);return a!=null};b.getClient=function(a){var b=this.$1.get(a.key);if(b==null)throw this.sdk.createThrowableError("Client configuration was not provided for the entry point "+a.key);else return b()};return a}();f["default"]=a}),66);
__d("MediaUploadFBSurface",["MediaUploadExtrasStorage","MediaUploadFBAssetRequest","MediaUploadSurface"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){return a.call(this,b,c)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.createAssetRequest=function(a,b,d,e){a=a(this.sdk.factories.assets);var f;e!=null&&(f=new(c("MediaUploadExtrasStorage"))(this.sdk),e(f));typeof d==="function"?e=d(a):e=d;return new(c("MediaUploadFBAssetRequest"))({asset:a,assetID:b,attributes:e,extras:f})};return b}(c("MediaUploadSurface"));g["default"]=a}),98);
__d("MediaUploadSurfaceDefinition",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=new Map(),this.$3=new Map()}var b=a.prototype;b.$4=function(a,b){var c=this;return function(){var d=c.$3.get(a.key);d==null&&(d=c.$1.client(a,b),c.$3.set(a.key,d));return d}};b.registerClientConfiguration=function(a){var b=this;a.entryPoints.forEach(function(c){b.$2.set(c.key,b.$4(c,a))});return this};b.createSurface=function(){return this.$1.surface(this.$2)};return a}();f["default"]=a}),66);
__d("MediaUploadFBDefaultSurfaceDefinition",["MediaUploadFBDefaultClientContext","MediaUploadFBEntryPointID","MediaUploadFBSurface","MediaUploadSurfaceDefinition"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){return a.call(this,{client:function(a,d){a=new(c("MediaUploadFBDefaultClientContext"))(b,c("MediaUploadFBEntryPointID").castOrThrow(a,b),d);return a.client},surface:function(a){return new(c("MediaUploadFBSurface"))(b,a)}})||this}babelHelpers.inheritsLoose(b,a);return b}(c("MediaUploadSurfaceDefinition"));g["default"]=a}),98);
__d("MediaUploadVUShimSurface",["MediaUploadFBDefaultSurfaceDefinition","MediaUploadFBEntryPointID","MediaUploadFBSDK","MediaUploadVUShim"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("MediaUploadFBDefaultSurfaceDefinition"))(c("MediaUploadFBSDK"));a.registerClientConfiguration({entryPoints:[new(b=c("MediaUploadFBEntryPointID"))("composer","pages_feed"),new b("composer","pages_feed_video_composer"),new b("newsfeed_composer","feed"),new b("composer","timeline")],eventHooks:{publishCallback:function(a,b){return c("MediaUploadVUShim").triggerPublish(a,b)},eventSubscriber:function(a){c("MediaUploadVUShim").setupEventSubscription(a)}}});d=a.createSurface();e=d;g["default"]=e}),98);
__d("VideoUploadCrashMonitor",["Bandicoot","VideoUploadLogger"],(function(a,b,c,d,e,f){a=function(a){"use strict";function c(b,c,d,e,f,g,h,i){var j;j=a.call(this,"VideoUploadSession")||this;j.$VideoUploadCrashMonitor1={waterfallID:b,actorID:c,source:d,targetID:e,loggingDelay:f,supportsChunking:g,composerEntryPointRef:h,flowStarted:i};return j}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.flowStarted=function(){this.$VideoUploadCrashMonitor1.flowStarted=!0};d.getCrashTimeData=function(){return this.$VideoUploadCrashMonitor1};d.logCrash=function(a,c,d){if(!c.waterfallID)return;a=new(b("VideoUploadLogger"))({actor_id:c.actorID,source:c.source,waterfall_id:c.waterfallID,target_id:c.targetID,delay:c.loggingDelay,is_chunked_upload:c.supportsChunking,composer_entry_point_ref:c.composerEntryPointRef});d={error:"Crash Detected",error_description:"Detected video upload did not complete due to a crash"};a.logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,d);c.flowStarted&&a.logEvent(b("VideoUploadLogger").EVENT_RESIGNED_FLOW,{})};return c}(b("Bandicoot"));e.exports=a}),null);
__d("GraphQLVideoPublishUtils",["immutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("immutable").List(["cs_ab_testing_video_upload","cs_content_library","cs_content_library_bulk_upload","cs_content_library_upload_videos","cs_content_show_episode_upload","cs_global_basic_post","cs_global_bulk_upload","cs_global_multipost","cs_global_upload_video","cs_home_basic_post","cs_home_bulk_video","cs_home_upload_video","cs_home_multipost","cs_instagram_content_library","media_manager","pages_feed_video_composer","pages_composer_bulk_upload_upsell","page_content_tab_drafts","page_content_tab_published_posts_opted_out","page_content_tab_scheduled_posts_opted_out","page_content_tab_video_library","page_content_tab_video_library_premiere","pages_posts","pages_video_tab","timeline","video_page_video_list","cs_unified_composer_optout","cs_content_show_trailer_upload","biz_web_testing_video_upload"]);d=d.push("feed_story");d=d.contains(b);return(a==="composer"||a==="media_manager_instagram_video_composer"||a==="comment")&&d}g.isGraphQLPublish=a}),98);
__d("ResumableUploadAsyncService",["AsyncRequest","EventEmitter","Promise","ResumableUploadServiceState.enum","URI","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="rupload",k="facebook.com";a=function(a){function d(b,d,e,f,g,h,i,l,m){var n;n=a.call(this)||this;n.consumer=b;n.accessToken=d;n.sessionKey=e||c("uuidv4")();n.contentKey=f||"";n.contentValue=g||"";n.serviceName=h&&h!=""?h:j;n.serviceDomain=i&&i!=""?i:k;n.receiveParameters=l;n.tracingHeaderValue=m;return n}babelHelpers.inheritsLoose(d,a);d.create=function(a){return new d(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.tracingHeaderValue)};var e=d.prototype;e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=(yield this.sendOffsetRequest());this.emit(c("ResumableUploadServiceState.enum").START,{offset:b.offset});a=(yield this.sendUploadRequest(a,b));this.emit(c("ResumableUploadServiceState.enum").SUCCESS,a.h)}catch(a){this.emit(c("ResumableUploadServiceState.enum").FAIL,a)}this.abortUpload=void 0});function d(b){return a.apply(this,arguments)}return d}();e.cancel=function(){this.abortUpload&&this.abortUpload(),this.emit(c("ResumableUploadServiceState.enum").CANCEL)};e.sendOffsetRequest=function(){var a=this;return new(i||(i=b("Promise")))(function(b,d){var e=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a.getUploadUri()).setReadOnly(!0).setRequestHeader("Authorization","OAuth "+a.accessToken).setHandler(function(a){return b(JSON.parse(a.payload.response))}).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(b){a.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,b)});a.abortUpload=function(){return e.abort()};e.send()})};e.sendUploadRequest=function(a,d){var e=this;d=d||{};var f=d.offset;d=d.duplicate;var g=d?"":a.slice(f);return new(i||(i=b("Promise")))(function(b,d){var h=new(c("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(e.getUploadUri()).setRawData(g).setHandler(function(a){return b(JSON.parse(a.payload.response))}).setErrorHandler(d).setRequestHeader("Authorization","OAuth "+e.accessToken).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(f)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(b){b=new ProgressEvent("upload-service",{total:a.size,loaded:b.loaded+Number(f)});e.emit(c("ResumableUploadServiceState.enum").PROGRESS,b)}).setTransportErrorHandler(function(a){e.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a)});e.abortUpload=function(){return h.abort()};d=e.receiveParameters;d&&(h.setRequestHeader("start_offset",String(d.start_offset)).setRequestHeader("end_offset",String(d.end_offset)).setRequestHeader("composer_session_id",String(d.composer_session_id)).setRequestHeader("id",String(d.upload_session_id)),d.fb_region&&h.setRequestHeader("X-FB-Region",String(d.fb_region)));e.tracingHeaderValue&&h.setRequestHeader("x-fb-product-log",e.tracingHeaderValue);h.send()})};e.getUploadUri=function(){var a=this.getServiceName();a=new(h||(h=c("URI")))("https://"+a+"/"+this.consumer+"/"+this.sessionKey);this.contentKey&&this.contentValue&&(a=a.addQueryData(this.contentKey,this.contentValue));return a};e.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("VideoUploadConnectionMonitor",["Network","VideoUploadFeatureDetector","cr:909282","debounce","mixin","setTimeout"],(function(a,b,c,d,e,f){a=function(a){"use strict";function c(){var c;c=a.call(this)||this;c.$VideoUploadConnectionMonitor$p_1=!1;c.$VideoUploadConnectionMonitor$p_2=[];c.$VideoUploadConnectionMonitor$p_3=!1;c.$VideoUploadConnectionMonitor$p_4=!0;c.$VideoUploadConnectionMonitor$p_5=b("debounce")(function(){c.$VideoUploadConnectionMonitor$p_6(!1)},2e3);return c}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.notifyStart=function(){var a=this;if(this.$VideoUploadConnectionMonitor$p_3)return;this.$VideoUploadConnectionMonitor$p_2.length===0&&(this.$VideoUploadConnectionMonitor$p_2.push(b("Network").addListener("online",function(){a.$VideoUploadConnectionMonitor$p_6(!0)})),this.$VideoUploadConnectionMonitor$p_2.push(b("Network").addListener("offline",function(){a.$VideoUploadConnectionMonitor$p_1?a.$VideoUploadConnectionMonitor$p_5():(a.$VideoUploadConnectionMonitor$p_5.reset(),b("setTimeout")(a.$VideoUploadConnectionMonitor$p_5,2e3))})));this.$VideoUploadConnectionMonitor$p_3=!0};d.notifyProgress=function(a){if(!this.$VideoUploadConnectionMonitor$p_3)return;if(!a)return;b("VideoUploadFeatureDetector").supportsFullProgress()&&(this.$VideoUploadConnectionMonitor$p_1=!0,a.total&&a.loaded===a.total?this.$VideoUploadConnectionMonitor$p_5.reset():this.$VideoUploadConnectionMonitor$p_5())};d.notifySuccess=function(){if(!this.$VideoUploadConnectionMonitor$p_3)return;this.reset();this.$VideoUploadConnectionMonitor$p_6(!0)};d.notifyTransportError=function(){if(!this.$VideoUploadConnectionMonitor$p_3)return;this.$VideoUploadConnectionMonitor$p_3=!1;this.$VideoUploadConnectionMonitor$p_6(!1)};d.notifyError=function(){if(!this.$VideoUploadConnectionMonitor$p_3)return;this.reset();this.$VideoUploadConnectionMonitor$p_6(!0)};d.isOnline=function(){return this.$VideoUploadConnectionMonitor$p_4};d.reset=function(){while(this.$VideoUploadConnectionMonitor$p_2.length)this.$VideoUploadConnectionMonitor$p_2.pop().remove();this.$VideoUploadConnectionMonitor$p_5.reset();this.$VideoUploadConnectionMonitor$p_3=!1};d.$VideoUploadConnectionMonitor$p_6=function(a){this.$VideoUploadConnectionMonitor$p_5.reset(),this.$VideoUploadConnectionMonitor$p_4!==a&&(this.$VideoUploadConnectionMonitor$p_4=a,this.$VideoUploadConnectionMonitor$p_4?this.inform("online"):this.inform("offline"))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadReceiveRequestManager",["fbt","ODS","ResumableUploadAsyncService","ResumableUploadService","ResumableUploadServiceState.enum","VideoUploadConnectionMonitor","VideoUploadRequest","clearTimeout","cr:909282","err","isEmpty","md5","mixin","setTimeout","uuidv4"],(function(a,b,c,d,e,f,g,h){var i,j,k=1363037,l={INITIAL:"initial",NEXT_CHUNK:"next chunk",INVALID_OFFSET_RETRY:"invalid offset retry",SERVER_FAILURE_RETRY:"server failure retry",TRANSPORT_FAILURE_RETRY:"transport failure retry",TIMEOUT_RETRY:"timeout retry",BACK_ONLINE:"back online"};a=function(a){function b(b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z;m===void 0&&(m="");n===void 0&&(n=!1);o===void 0&&(o=!1);p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);s===void 0&&(s=0);t===void 0&&(t=!1);u===void 0&&(u=!1);v===void 0&&(v=!1);w===void 0&&(w=!1);x===void 0&&(x=!1);y===void 0&&(y=0);z=a.call(this)||this;z.$VideoUploadReceiveRequestManager$p_1=b;z.$VideoUploadReceiveRequestManager$p_2=d;z.$VideoUploadReceiveRequestManager$p_3=e!=null?e:0;z.$VideoUploadReceiveRequestManager$p_4=f;z.$VideoUploadReceiveRequestManager$p_5=g;z.$VideoUploadReceiveRequestManager$p_6=h;z.$VideoUploadReceiveRequestManager$p_7=i;z.$VideoUploadReceiveRequestManager$p_8=j;z.$VideoUploadReceiveRequestManager$p_9=k;z.$VideoUploadReceiveRequestManager$p_10=l;z.$VideoUploadReceiveRequestManager$p_11=0;z.$VideoUploadReceiveRequestManager$p_14=0;z.$VideoUploadReceiveRequestManager$p_15=0;z.$VideoUploadReceiveRequestManager$p_16=null;z.$VideoUploadReceiveRequestManager$p_17=null;z.$VideoUploadReceiveRequestManager$p_18=0;z.$VideoUploadReceiveRequestManager$p_19="constructed";z.$VideoUploadReceiveRequestManager$p_13=null;z.$VideoUploadReceiveRequestManager$p_20=null;z.$VideoUploadReceiveRequestManager$p_21=null;z.$VideoUploadReceiveRequestManager$p_22=m;z.$VideoUploadReceiveRequestManager$p_24=o;z.$VideoUploadReceiveRequestManager$p_23=n;z.$VideoUploadReceiveRequestManager$p_25=p;z.$VideoUploadReceiveRequestManager$p_26=!1;z.$VideoUploadReceiveRequestManager$p_27=q;z.$VideoUploadReceiveRequestManager$p_30=t;z.$VideoUploadReceiveRequestManager$p_31=u;z.$VideoUploadReceiveRequestManager$p_32=v;z.$VideoUploadReceiveRequestManager$p_29=s;z.$VideoUploadReceiveRequestManager$p_33=w;z.$VideoUploadReceiveRequestManager$p_28=r;z.$VideoUploadReceiveRequestManager$p_12=c("uuidv4")();z.$VideoUploadReceiveRequestManager$p_34=x;z.$VideoUploadReceiveRequestManager$p_35=y;z.$VideoUploadReceiveRequestManager$p_40=null;z.$VideoUploadReceiveRequestManager$p_41=null;z.$VideoUploadReceiveRequestManager$p_39=!1;z.$VideoUploadReceiveRequestManager$p_38=null;z.$VideoUploadReceiveRequestManager$p_36=new(c("VideoUploadConnectionMonitor"))();z.$VideoUploadReceiveRequestManager$p_36.subscribe("online",z.$VideoUploadReceiveRequestManager$p_49.bind(z));z.$VideoUploadReceiveRequestManager$p_36.subscribe("offline",z.$VideoUploadReceiveRequestManager$p_50.bind(z));return z}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.updateVideoID=function(a){if(this.$VideoUploadReceiveRequestManager$p_37.getVideoID())return;this.$VideoUploadReceiveRequestManager$p_37.setVideoID(a);this.$VideoUploadReceiveRequestManager$p_44&&this.$VideoUploadReceiveRequestManager$p_44.setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager$p_37));this.$VideoUploadReceiveRequestManager$p_51()};e.isResumabilityEnabled=function(){return this.$VideoUploadReceiveRequestManager$p_23};e.isResumableServiceProxyReceiveEnabled=function(){return this.$VideoUploadReceiveRequestManager$p_30};e.sendRequest=function(a){this.$VideoUploadReceiveRequestManager$p_19="sending request";if(this.$VideoUploadReceiveRequestManager$p_44){this.$VideoUploadReceiveRequestManager$p_19="request already in progress";return}this.$VideoUploadReceiveRequestManager$p_18=a.getEndOffset()-a.getStartOffset();this.$VideoUploadReceiveRequestManager$p_37=a;this.$VideoUploadReceiveRequestManager$p_52(l.INITIAL)};e.cancelRequest=function(){if(!this.$VideoUploadReceiveRequestManager$p_44)return;this.$VideoUploadReceiveRequestManager$p_44.abort();this.$VideoUploadReceiveRequestManager$p_21!=null&&this.$VideoUploadReceiveRequestManager$p_21.cancel();this.$VideoUploadReceiveRequestManager$p_53();this.inform("request-canceled")};e.appendStateLogData=function(a,b){a[b+"request_manager_state"]=this.$VideoUploadReceiveRequestManager$p_19,a[b+"upload_speed"]=this.$VideoUploadReceiveRequestManager$p_17,a[b+"transport_retries"]=this.$VideoUploadReceiveRequestManager$p_11,a[b+"server_retries"]=this.$VideoUploadReceiveRequestManager$p_14,a[b+"timeout_retries"]=this.$VideoUploadReceiveRequestManager$p_15,a[b+"last_timeout_value"]=this.$VideoUploadReceiveRequestManager$p_42,a[b+"last_request_start_time"]=this.$VideoUploadReceiveRequestManager$p_16,a[b+"pending_request"]=this.$VideoUploadReceiveRequestManager$p_44!=null,a[b+"pending_timer"]=this.$VideoUploadReceiveRequestManager$p_45!=null,a[b+"cached_chunk"]=this.$VideoUploadReceiveRequestManager$p_43!=null,a[b+"early_receive_start"]=this.$VideoUploadReceiveRequestManager$p_39,this.$VideoUploadReceiveRequestManager$p_37!=null&&(a[b+"start_offset"]=this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),a[b+"end_offset"]=this.$VideoUploadReceiveRequestManager$p_37.getEndOffset(),a[b+"partition_start_offset"]=this.$VideoUploadReceiveRequestManager$p_37.getPartitionStartOffset(),a[b+"partition_end_offset"]=this.$VideoUploadReceiveRequestManager$p_37.getPartitionEndOffset()),this.$VideoUploadReceiveRequestManager$p_36!=null&&(a[b+"connection_monitor_online"]=this.$VideoUploadReceiveRequestManager$p_36.isOnline())};e.getHostName=function(a){try{return new URL(a).hostname}catch(a){return null}};e.$VideoUploadReceiveRequestManager$p_53=function(){this.$VideoUploadReceiveRequestManager$p_44=null,this.$VideoUploadReceiveRequestManager$p_43=null,this.$VideoUploadReceiveRequestManager$p_11=0,this.$VideoUploadReceiveRequestManager$p_14=0,this.$VideoUploadReceiveRequestManager$p_12=c("uuidv4")(),this.$VideoUploadReceiveRequestManager$p_15=0,this.$VideoUploadReceiveRequestManager$p_16=null,this.$VideoUploadReceiveRequestManager$p_17=null,this.$VideoUploadReceiveRequestManager$p_18=0,this.$VideoUploadReceiveRequestManager$p_40=null,this.$VideoUploadReceiveRequestManager$p_41=null,this.$VideoUploadReceiveRequestManager$p_39=!1,this.$VideoUploadReceiveRequestManager$p_26=!1,this.$VideoUploadReceiveRequestManager$p_38=null,this.$VideoUploadReceiveRequestManager$p_37.reset(),this.$VideoUploadReceiveRequestManager$p_36.reset(),c("clearTimeout")(this.$VideoUploadReceiveRequestManager$p_45),this.$VideoUploadReceiveRequestManager$p_45=null};e.$VideoUploadReceiveRequestManager$p_52=function(a,b){c("clearTimeout")(this.$VideoUploadReceiveRequestManager$p_45);this.$VideoUploadReceiveRequestManager$p_45=null;this.$VideoUploadReceiveRequestManager$p_20=a;this.$VideoUploadReceiveRequestManager$p_13=c("uuidv4")();if(this.$VideoUploadReceiveRequestManager$p_37.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager$p_37.getStartOffset()>=this.$VideoUploadReceiveRequestManager$p_37.getPartitionEndOffset()){!b?(this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager$p_37.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManager$p_37.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager$p_11,server_retries:this.$VideoUploadReceiveRequestManager$p_14,upload_speed:this.$VideoUploadReceiveRequestManager$p_17,request_manager_state:this.$VideoUploadReceiveRequestManager$p_19,upload_domain:this.$VideoUploadReceiveRequestManager$p_38,debug:{request_reason:this.$VideoUploadReceiveRequestManager$p_20,single_request_id:this.$VideoUploadReceiveRequestManager$p_13}}),this.$VideoUploadReceiveRequestManager$p_19="request finished - notified"):this.$VideoUploadReceiveRequestManager$p_19="request finished - not notified";return}this.$VideoUploadReceiveRequestManager$p_44=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager$p_1).setAllowCrossOrigin(!0).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager$p_37)).setWaterfallID(this.$VideoUploadReceiveRequestManager$p_37.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManager$p_54.bind(this));this.$VideoUploadReceiveRequestManager$p_23||this.$VideoUploadReceiveRequestManager$p_44.setUploadProgressHandler(this.$VideoUploadReceiveRequestManager$p_55.bind(this));this.$VideoUploadReceiveRequestManager$p_16=Date.now();this.$VideoUploadReceiveRequestManager$p_38=this.getHostName(this.$VideoUploadReceiveRequestManager$p_1);a=!1;if(this.$VideoUploadReceiveRequestManager$p_37.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager$p_5){b=this.$VideoUploadReceiveRequestManager$p_56(this.$VideoUploadReceiveRequestManager$p_37.getEndOffset()-this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),this.$VideoUploadReceiveRequestManager$p_17);this.$VideoUploadReceiveRequestManager$p_44.setTimeoutHandler(b,this.__handleResponseTimeout.bind(this));this.$VideoUploadReceiveRequestManager$p_19="sending chunk with timeout = "+b;this.$VideoUploadReceiveRequestManager$p_42=b}else this.$VideoUploadReceiveRequestManager$p_19="sending chunk without timeout";b=this.$VideoUploadReceiveRequestManager$p_57();if(b==null){var d="Provided chunk is null.",e=c("err")(d);e.is_js_error=!0;this.$VideoUploadReceiveRequestManager$p_58({error_description:d,error_is_transient:!1,error:e});return}else this.$VideoUploadReceiveRequestManager$p_23&&this.$VideoUploadReceiveRequestManager$p_29<this.$VideoUploadReceiveRequestManager$p_37.getFile().getSize()?(a=!0,this.$VideoUploadReceiveRequestManager$p_59(b)):this.$VideoUploadReceiveRequestManager$p_44.sendChunk(b)}else this.$VideoUploadReceiveRequestManager$p_19="sending file",this.$VideoUploadReceiveRequestManager$p_44.sendFile(this.$VideoUploadReceiveRequestManager$p_37.getFile().getFileInput());this.$VideoUploadReceiveRequestManager$p_60(a);this.$VideoUploadReceiveRequestManager$p_36.notifyStart();this.inform("request-started",{start_offset:this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager$p_37.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager$p_11,server_retries:this.$VideoUploadReceiveRequestManager$p_14,upload_speed:this.$VideoUploadReceiveRequestManager$p_17,request_manager_state:this.$VideoUploadReceiveRequestManager$p_19,upload_domain:this.$VideoUploadReceiveRequestManager$p_38,debug:{request_reason:this.$VideoUploadReceiveRequestManager$p_20,single_request_id:this.$VideoUploadReceiveRequestManager$p_13}})};e.$VideoUploadReceiveRequestManager$p_60=function(a){(this.$VideoUploadReceiveRequestManager$p_37.getSource()==="create_flow"||this.$VideoUploadReceiveRequestManager$p_37.getSource()==="ads_interfaces")&&(j||(j=d("ODS"))).bumpEntityKey(2966,"video_ads_upload",a?"upload_service":"graph_api")};e.$VideoUploadReceiveRequestManager$p_61=function(a,b,c){!this.$VideoUploadReceiveRequestManager$p_37.getVideoID()?(this.$VideoUploadReceiveRequestManager$p_40=a,this.$VideoUploadReceiveRequestManager$p_41=b):a(b,c)};e.$VideoUploadReceiveRequestManager$p_51=function(){this.$VideoUploadReceiveRequestManager$p_40&&(this.$VideoUploadReceiveRequestManager$p_40(this.$VideoUploadReceiveRequestManager$p_41),this.$VideoUploadReceiveRequestManager$p_40=null,this.$VideoUploadReceiveRequestManager$p_41=null)};e.$VideoUploadReceiveRequestManager$p_59=function(a){var b,d=this.$VideoUploadReceiveRequestManager$p_37.getFile(),e=d.getFile().lastModified+d.getFile().name+d.getFile().type+this.$VideoUploadReceiveRequestManager$p_62();e=String(c("md5")(e))+"-"+this.$VideoUploadReceiveRequestManager$p_37.getStartOffset()+"-"+this.$VideoUploadReceiveRequestManager$p_37.getEndOffset();b=((b=this.$VideoUploadReceiveRequestManager$p_37)==null?void 0:b.getRetryState())==null?this.$VideoUploadReceiveRequestManager$p_14+this.$VideoUploadReceiveRequestManager$p_11+this.$VideoUploadReceiveRequestManager$p_15:this.$VideoUploadReceiveRequestManager$p_37.getRetryState().getTotalRetryCount();d=this.$VideoUploadReceiveRequestManager$p_34&&this.$VideoUploadReceiveRequestManager$p_35<d.getSize()?["video_upload_www",[this.$VideoUploadReceiveRequestManager$p_12,String(b)].join("_"),[String(this.$VideoUploadReceiveRequestManager$p_37.getWaterfallID()),String(this.$VideoUploadReceiveRequestManager$p_37.getVideoID())].join("_")].join(":"):null;this.isResumabilityEnabled()&&this.$VideoUploadReceiveRequestManager$p_25&&this.$VideoUploadReceiveRequestManager$p_11>this.$VideoUploadReceiveRequestManager$p_2/3&&(this.$VideoUploadReceiveRequestManager$p_26=!0);b="fb_video";this.$VideoUploadReceiveRequestManager$p_30&&(b="fb_video2");var f=null;if(this.$VideoUploadReceiveRequestManager$p_30||this.$VideoUploadReceiveRequestManager$p_31){var g={};g.start_offset=this.$VideoUploadReceiveRequestManager$p_37.getStartOffset();g.end_offset=this.$VideoUploadReceiveRequestManager$p_37.getEndOffset();g.composer_session_id=this.$VideoUploadReceiveRequestManager$p_37.getWaterfallID();g.upload_session_id=this.$VideoUploadReceiveRequestManager$p_37.getUploadSessionID();g.product_media_id=this.$VideoUploadReceiveRequestManager$p_37.getVideoID();g.xpv_asset_id=this.$VideoUploadReceiveRequestManager$p_37.getXPVAssetID();g.is_xpv_single_prod=this.$VideoUploadReceiveRequestManager$p_37.getIsXPVSingleProd();g.fb_region=this.$VideoUploadReceiveRequestManager$p_37.getFbRegion();this.$VideoUploadReceiveRequestManager$p_32&&(g.total_file_size=this.$VideoUploadReceiveRequestManager$p_37.getFile().getSize());f=g}g={};g.consumer=b;g.sessionKey=e;g.serviceName=this.$VideoUploadReceiveRequestManager$p_26?null:this.$VideoUploadReceiveRequestManager$p_25;g.serviceDomain=this.$VideoUploadReceiveRequestManager$p_27;g.receiveParameters=f;g.tracingHeaderValue=d;this.$VideoUploadReceiveRequestManager$p_24?b=c("ResumableUploadAsyncService").create(g):b=c("ResumableUploadService").create(g);this.$VideoUploadReceiveRequestManager$p_21=b;this.$VideoUploadReceiveRequestManager$p_38=b.getServiceName();this.$VideoUploadReceiveRequestManager$p_63();b.resume(a);this.inform("resumable-called",{debug:{single_request_id:this.$VideoUploadReceiveRequestManager$p_13,authority:this.$VideoUploadReceiveRequestManager$p_38}})};e.$VideoUploadReceiveRequestManager$p_63=function(){var a=this;this.$VideoUploadReceiveRequestManager$p_37.getVideoID()||(this.$VideoUploadReceiveRequestManager$p_39=!0);var b=this.$VideoUploadReceiveRequestManager$p_21;if(b==null)return;b.addListener(c("ResumableUploadServiceState.enum").START,function(b){a.inform("resumable-started",{resume_from_offset:b.offset,debug:{single_request_id:a.$VideoUploadReceiveRequestManager$p_13,partition:a.$VideoUploadReceiveRequestManager$p_37.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager$p_38}})});this.$VideoUploadReceiveRequestManager$p_46=function(b){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),debug:{error_source:"service",single_request_id:a.$VideoUploadReceiveRequestManager$p_13,partition:a.$VideoUploadReceiveRequestManager$p_37.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager$p_38}}),a.__handleServerFailureResponse(b)};b.addListener(c("ResumableUploadServiceState.enum").FAIL,function(b){a.$VideoUploadReceiveRequestManager$p_61(a.$VideoUploadReceiveRequestManager$p_46,b)});this.$VideoUploadReceiveRequestManager$p_47=function(b){!a.$VideoUploadReceiveRequestManager$p_30?(a.$VideoUploadReceiveRequestManager$p_44.setHandle(b),a.$VideoUploadReceiveRequestManager$p_44.sendChunk(null)):a.__handleSuccessResponsePayload({start_offset:a.$VideoUploadReceiveRequestManager$p_37.getEndOffset(),end_offset:a.$VideoUploadReceiveRequestManager$p_37.getPartitionEndOffset()}),a.inform("resumable-success",{everstore_handle:b,debug:{single_request_id:a.$VideoUploadReceiveRequestManager$p_13,partition:a.$VideoUploadReceiveRequestManager$p_37.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager$p_38}})};b.addListener(c("ResumableUploadServiceState.enum").SUCCESS,function(b){a.$VideoUploadReceiveRequestManager$p_61(a.$VideoUploadReceiveRequestManager$p_47,b)});this.$VideoUploadReceiveRequestManager$p_48=function(b,c){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),resume_from_offset:c.offset,debug:{error_source:"transport",single_request_id:a.$VideoUploadReceiveRequestManager$p_13,partition:a.$VideoUploadReceiveRequestManager$p_37.getPartitionNo(),method:c.method,authority:a.$VideoUploadReceiveRequestManager$p_38}}),a.$VideoUploadReceiveRequestManager$p_54(b)};b.addListener(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(b,c){a.$VideoUploadReceiveRequestManager$p_61(a.$VideoUploadReceiveRequestManager$p_48,b,c)});b.addListener(c("ResumableUploadServiceState.enum").PROGRESS,function(b){a.$VideoUploadReceiveRequestManager$p_33&&(a.$VideoUploadReceiveRequestManager$p_11=0),a.$VideoUploadReceiveRequestManager$p_55(b)})};e.__getVideoUploadRequest=function(a){return new(c("VideoUploadRequest"))(a)};e.$VideoUploadReceiveRequestManager$p_64=function(a,b){this.$VideoUploadReceiveRequestManager$p_19="setting request to send after"+b,c("clearTimeout")(this.$VideoUploadReceiveRequestManager$p_45),this.$VideoUploadReceiveRequestManager$p_45=c("setTimeout")(this.$VideoUploadReceiveRequestManager$p_52.bind(this,a),b)};e.$VideoUploadReceiveRequestManager$p_57=function(){if(this.$VideoUploadReceiveRequestManager$p_43)return this.$VideoUploadReceiveRequestManager$p_43;var a=this.$VideoUploadReceiveRequestManager$p_37.getFile();if(this.$VideoUploadReceiveRequestManager$p_23){var b=a.getFile();this.$VideoUploadReceiveRequestManager$p_43=b?b.slice(this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),this.$VideoUploadReceiveRequestManager$p_37.getEndOffset(),"application/octet-stream"):null}else this.$VideoUploadReceiveRequestManager$p_43=a.getChunk(this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),this.$VideoUploadReceiveRequestManager$p_37.getEndOffset());return this.$VideoUploadReceiveRequestManager$p_43};e.__createRequestData=function(a){return{composer_session_id:a.getComposerSessionID(),video_id:a.getVideoID(),start_offset:a.getStartOffset(),end_offset:a.getEndOffset(),source:a.getSource(),target_id:a.getTargetID(),waterfall_id:a.getWaterfallID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManager$p_17,partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset()}};e.__handleSuccessResponse=function(a){a=a.getPayload();this.__handleSuccessResponsePayload(a)};e.__handleSuccessResponsePayload=function(a){this.$VideoUploadReceiveRequestManager$p_19="success response received";var b=Date.now()-(this.$VideoUploadReceiveRequestManager$p_16||0);b=b===0?1:b;if(a.start_offset===this.$VideoUploadReceiveRequestManager$p_37.getEndOffset()){var d=this.$VideoUploadReceiveRequestManager$p_37.getEndOffset()-this.$VideoUploadReceiveRequestManager$p_37.getStartOffset();this.$VideoUploadReceiveRequestManager$p_17=Math.floor(d/b)}else this.$VideoUploadReceiveRequestManager$p_17=null;this.$VideoUploadReceiveRequestManager$p_36.notifySuccess();this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager$p_37.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager$p_11,server_retries:this.$VideoUploadReceiveRequestManager$p_14,upload_speed:this.$VideoUploadReceiveRequestManager$p_17,request_manager_state:this.$VideoUploadReceiveRequestManager$p_19,upload_domain:this.$VideoUploadReceiveRequestManager$p_38,debug:{request_reason:this.$VideoUploadReceiveRequestManager$p_20,single_request_id:this.$VideoUploadReceiveRequestManager$p_13}});this.$VideoUploadReceiveRequestManager$p_37.setStartOffset(a.start_offset);d=a.end_offset;this.$VideoUploadReceiveRequestManager$p_37.getClientChunkSize()&&(d=a.start_offset+Math.min(this.$VideoUploadReceiveRequestManager$p_37.getPartitionEndOffset()-a.start_offset,this.$VideoUploadReceiveRequestManager$p_37.getClientChunkSize()));this.$VideoUploadReceiveRequestManager$p_37.setEndOffset(d);this.$VideoUploadReceiveRequestManager$p_37.setLastKnownUploadSpeed(this.$VideoUploadReceiveRequestManager$p_17);this.$VideoUploadReceiveRequestManager$p_44=null;this.$VideoUploadReceiveRequestManager$p_43=null;this.$VideoUploadReceiveRequestManager$p_11=0;this.$VideoUploadReceiveRequestManager$p_14=0;this.$VideoUploadReceiveRequestManager$p_12=c("uuidv4")();this.$VideoUploadReceiveRequestManager$p_15=0;this.$VideoUploadReceiveRequestManager$p_37.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager$p_52(l.NEXT_CHUNK,!0)};e.$VideoUploadReceiveRequestManager$p_65=function(a){var b=this,c=a.getPayload();this.$VideoUploadReceiveRequestManager$p_19="invalid offset response received start="+c.start_offset+" end="+c.end_offset;(this.$VideoUploadReceiveRequestManager$p_37.getStartOffset()!=c.start_offset||this.$VideoUploadReceiveRequestManager$p_37.getEndOffset()!=c.end_offset)&&(this.$VideoUploadReceiveRequestManager$p_37.setStartOffset(c.start_offset),this.$VideoUploadReceiveRequestManager$p_37.setEndOffset(c.end_offset),this.$VideoUploadReceiveRequestManager$p_43=null);((c=this.$VideoUploadReceiveRequestManager$p_37)==null?void 0:c.getRetryState())==null?(this.$VideoUploadReceiveRequestManager$p_14++,this.$VideoUploadReceiveRequestManager$p_52(l.INVALID_OFFSET_RETRY)):this.$VideoUploadReceiveRequestManager$p_37.getRetryState().handleRetry({context:{location:"receive-invalid_offset"},retryHandler:function(a){return b.$VideoUploadReceiveRequestManager$p_64(l.INVALID_OFFSET_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager$p_66(a)}})};e.__handleServerFailureResponse=function(a){var b=this;this.$VideoUploadReceiveRequestManager$p_19="failure response received";this.$VideoUploadReceiveRequestManager$p_44=null;this.$VideoUploadReceiveRequestManager$p_11=0;this.$VideoUploadReceiveRequestManager$p_17=null;this.$VideoUploadReceiveRequestManager$p_15=0;this.$VideoUploadReceiveRequestManager$p_36.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(a.getError()))this.$VideoUploadReceiveRequestManager$p_65(a);else{var c;((c=this.$VideoUploadReceiveRequestManager$p_37)==null?void 0:c.getRetryState())==null?(a.isTransient()||this.$VideoUploadReceiveRequestManager$p_10)&&this.$VideoUploadReceiveRequestManager$p_14<this.$VideoUploadReceiveRequestManager$p_4?(this.$VideoUploadReceiveRequestManager$p_19="transient server error",this.$VideoUploadReceiveRequestManager$p_14++,this.$VideoUploadReceiveRequestManager$p_64(l.SERVER_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager$p_67(this.$VideoUploadReceiveRequestManager$p_9,this.$VideoUploadReceiveRequestManager$p_14,0))):this.$VideoUploadReceiveRequestManager$p_66(a):this.$VideoUploadReceiveRequestManager$p_37.getRetryState().handleRetry({context:{location:"receive-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){b.$VideoUploadReceiveRequestManager$p_19="transient server error",b.$VideoUploadReceiveRequestManager$p_64(l.SERVER_FAILURE_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager$p_66(a)}})}};e.__handleResponseTimeout=function(a){var b=this;this.inform("request-timeout",{start_offset:this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager$p_37.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager$p_11,server_retries:this.$VideoUploadReceiveRequestManager$p_14,timeout_retries:this.$VideoUploadReceiveRequestManager$p_15,upload_speed:this.$VideoUploadReceiveRequestManager$p_17,request_manager_state:this.$VideoUploadReceiveRequestManager$p_19,debug:{upload_domain:this.$VideoUploadReceiveRequestManager$p_38,single_request_id:this.$VideoUploadReceiveRequestManager$p_13}});this.$VideoUploadReceiveRequestManager$p_44.abort();this.$VideoUploadReceiveRequestManager$p_44=null;this.$VideoUploadReceiveRequestManager$p_17=null;this.$VideoUploadReceiveRequestManager$p_36.notifyTransportError();var c=function(){var a=b.$VideoUploadReceiveRequestManager$p_37.getEndOffset()-b.$VideoUploadReceiveRequestManager$p_37.getStartOffset();a=Math.floor(a/2);a=Math.max(a,b.$VideoUploadReceiveRequestManager$p_18);var c=b.$VideoUploadReceiveRequestManager$p_37.getEndOffset();c=Math.min(c,b.$VideoUploadReceiveRequestManager$p_37.getStartOffset()+a);b.$VideoUploadReceiveRequestManager$p_37.setEndOffset(c);b.$VideoUploadReceiveRequestManager$p_43=null;b.$VideoUploadReceiveRequestManager$p_19="resending after timeout with chunksize="+a;b.$VideoUploadReceiveRequestManager$p_52(l.TIMEOUT_RETRY)},d=function(){b.$VideoUploadReceiveRequestManager$p_58({error_code:1006,error_description:h._(/*BTDS*/"Your browser appears to be offline. Please check your internet connection and try again."),error_summary:h._(/*BTDS*/"No Network Connection"),error_is_transient:!0,opes_mids:["fake_mid_network_connection"]})};((a=this.$VideoUploadReceiveRequestManager$p_37)==null?void 0:a.getRetryState())==null?++this.$VideoUploadReceiveRequestManager$p_15<=this.$VideoUploadReceiveRequestManager$p_6?c():d():this.$VideoUploadReceiveRequestManager$p_37.getRetryState().handleRetry({context:{location:"receive-timeout",error_code:1006},retryHandler:function(a){return c()},failureHandler:function(){return d()}})};e.__hasInvalidStartOffsetAndHasRetries=function(a){return a===k&&this.$VideoUploadReceiveRequestManager$p_14<this.$VideoUploadReceiveRequestManager$p_4};e.$VideoUploadReceiveRequestManager$p_54=function(a){var b,c=this;this.$VideoUploadReceiveRequestManager$p_36.notifyTransportError();this.$VideoUploadReceiveRequestManager$p_17=null;((b=this.$VideoUploadReceiveRequestManager$p_37)==null?void 0:b.getRetryState())==null?(this.$VideoUploadReceiveRequestManager$p_15=0,this.$VideoUploadReceiveRequestManager$p_11<this.$VideoUploadReceiveRequestManager$p_2?(this.$VideoUploadReceiveRequestManager$p_19="resending after transport failure",this.$VideoUploadReceiveRequestManager$p_11++,this.$VideoUploadReceiveRequestManager$p_44=null,this.$VideoUploadReceiveRequestManager$p_64(l.TRANSPORT_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager$p_67(this.$VideoUploadReceiveRequestManager$p_8,this.$VideoUploadReceiveRequestManager$p_11,this.$VideoUploadReceiveRequestManager$p_3))):this.$VideoUploadReceiveRequestManager$p_66(a)):this.$VideoUploadReceiveRequestManager$p_37.getRetryState().handleRetry({context:{location:"receive-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadReceiveRequestManager$p_44=null,c.$VideoUploadReceiveRequestManager$p_19="resending after transport failure",c.$VideoUploadReceiveRequestManager$p_64(l.TRANSPORT_FAILURE_RETRY,a)},failureHandler:function(){return c.$VideoUploadReceiveRequestManager$p_66(a)}})};e.$VideoUploadReceiveRequestManager$p_66=function(a){var b,d=[].concat(a==null||(b=a.getPayload())==null||(b=b.error)==null?void 0:b.opes_mids,[a==null?void 0:a.errorMid]).filter(Boolean);this.$VideoUploadReceiveRequestManager$p_58({error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),error_is_transient:a.isTransient(),upload_domain:this.uploadDomain,www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__,opes_mids:(i||(i=c("isEmpty")))(d)?null:d})};e.$VideoUploadReceiveRequestManager$p_58=function(a){this.$VideoUploadReceiveRequestManager$p_19="handling failure error",a.debug=babelHelpers["extends"]({},a.debug,{single_request_id:this.$VideoUploadReceiveRequestManager$p_13}),this.inform("request-failed",a),this.$VideoUploadReceiveRequestManager$p_53()};e.$VideoUploadReceiveRequestManager$p_55=function(a){this.$VideoUploadReceiveRequestManager$p_36.notifyProgress(a),this.$VideoUploadReceiveRequestManager$p_37&&this.$VideoUploadReceiveRequestManager$p_37.getFile()&&this.inform("request-progressed",{file_size:this.$VideoUploadReceiveRequestManager$p_37.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManager$p_37.getStartOffset(),sent_bytes:a.loaded,transport_retries:this.$VideoUploadReceiveRequestManager$p_11,upload_domain:this.$VideoUploadReceiveRequestManager$p_38,debug:{single_request_id:this.$VideoUploadReceiveRequestManager$p_13}})};e.$VideoUploadReceiveRequestManager$p_49=function(){var a;this.inform("online");this.$VideoUploadReceiveRequestManager$p_11=0;this.$VideoUploadReceiveRequestManager$p_15=0;(a=this.$VideoUploadReceiveRequestManager$p_37)==null||(a=a.getRetryState())==null||a.resetDelay();this.$VideoUploadReceiveRequestManager$p_45&&this.$VideoUploadReceiveRequestManager$p_52(l.BACK_ONLINE)};e.$VideoUploadReceiveRequestManager$p_50=function(){this.inform("offline")};e.$VideoUploadReceiveRequestManager$p_67=function(a,b,c){var d;this.$VideoUploadReceiveRequestManager$p_23?d=Math.min(Math.pow(a,b),8)*1e3:d=Math.pow(a,b)*1e3;c>0&&(d=Math.min(d,c));return d};e.$VideoUploadReceiveRequestManager$p_56=function(a,b){b!=null&&b>0?b=b:b=10;a=Math.floor(a/b*this.$VideoUploadReceiveRequestManager$p_7/100);return Math.max(a,3e4)};e.$VideoUploadReceiveRequestManager$p_62=function(){return this.$VideoUploadReceiveRequestManager$p_28?this.$VideoUploadReceiveRequestManager$p_28:this.$VideoUploadReceiveRequestManager$p_37.getWaterfallID()};return b}(c("mixin")(b("cr:909282")));g["default"]=a}),226);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","FBLogger","SubscriptionsHandler","TrustedTypesWebWorkerScriptURLPolicy","URI","WebWorkerConfig","XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder","XHRRequest","cr:951783","emptyFunction","err","filterObject","getCrossOriginTransport","getWorkerInitScriptSPINParams","gkx","isSameOrigin","justknobx","memoize","nullthrows","performanceNow"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("20935")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("FBLogger")("comet_infra").mustfix("WebWorker (resource: %s) allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.",a.name)},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("20935")&&!a&&b("FBLogger")("comet_infra").mustfix("allowAcrossPageTransitions must be true because we dont kill these in Comet.");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.useInitScript&&b("gkx")("21112")||this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);if(this.$4.useInitScript&&b("gkx")("21112")){var a;a=b("nullthrows")((a=b("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder").buildUri({}).addQueryParams(b("getWorkerInitScriptSPINParams")()))==null?void 0:a.toString());var d=new window.URL(this.$4.url,window.location.href).href;if(d==null)throw b("err")("Can't start up worker without a resource url.");this.__worker=this.constructWorker(a,this.$4.name);this.__worker.postMessage({bundleUrl:d,doNotStartBundle:!0,isDev:!1,resource:this.$4,type:"sr-init"})}else this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,d){var e=!(this.$4.useInitScript&&b("gkx")("21112"));c.$16(a,this.$4.name,babelHelpers["extends"]({},d,{cross_page_transition:!!this.$9,state:this.$3}),e)};c.$18=function(a){return Object.keys(b("filterObject")({object_url:a&&c.$19(),data_url:a&&c.$20(),worker:c.isSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("isSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)b("justknobx")._("819")&&b("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",d.name,d.url),c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(b("gkx")("21112")&&d.useInitScript===!0)e();else{b("justknobx")._("819")&&b("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",d.name,d.url);if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length},!1)):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0},!1),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e)}return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&q()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e,f){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(g){g.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(f),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a,b){return m(a,b)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(c,d){return new a.Worker(b("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(c),d!=null?{name:d}:{})}var n=b("memoize")(function(){var a,c;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var d=m(a);d.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("FileHasher",["FileHashWorkerResource","WebWorker","emptyFunction","fileSliceName"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){var a=this,c=b("FileHashWorkerResource");b("WebWorker").prepareResource(c);this.$1=new(b("WebWorker"))(c).setMessageHandler(function(b){a.$2(b)}).execute()}a.isSupported=function(){return b("WebWorker").isSupported()};var c=a.prototype;c.hash=function(a,c){this.$2=c;this.$1.postMessage({file:a,fileSliceName:b("fileSliceName")});return this};c.destroy=function(){this.$2=b("emptyFunction"),this.$1.terminate()};return a}();e.exports=a}),null);
__d("VideoUploadStartRequestManager",["Assert","FileHasher","VideoUploadRequest","clearTimeout","cr:909282","isEmpty","mixin","performanceNow","setTimeout"],(function(a,b,c,d,e,f,g){var h,i;a=function(a){function b(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$VideoUploadStartRequestManager1=b;j.$VideoUploadStartRequestManager2=c;j.$VideoUploadStartRequestManager3=d;j.$VideoUploadStartRequestManager4=e;j.$VideoUploadStartRequestManager5=0;j.$VideoUploadStartRequestManager6=f;j.$VideoUploadStartRequestManager7=g;j.$VideoUploadStartRequestManager8=h;j.$VideoUploadStartRequestManager9=i;j.$VideoUploadStartRequestManager10=0;return j}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.getRequest=function(){return this.$VideoUploadStartRequestManager11};d.sendRequest=function(a){var b=this;if(this.$VideoUploadStartRequestManager12||this.$VideoUploadStartRequestManager11)return;this.$VideoUploadStartRequestManager13=a;this.$VideoUploadStartRequestManager6&&this.$VideoUploadStartRequestManager13.getFile().getFile()&&this.$VideoUploadStartRequestManager13.getFile().getFile().size<this.$VideoUploadStartRequestManager7&&c("FileHasher").isSupported()?(this.$VideoUploadStartRequestManager14=(h||(h=c("performanceNow")))(),this.$VideoUploadStartRequestManager12=new(c("FileHasher"))(),this.$VideoUploadStartRequestManager12.hash(this.$VideoUploadStartRequestManager13.getFile().getFile(),function(a){b.$VideoUploadStartRequestManager14=(h||(h=c("performanceNow")))()-b.$VideoUploadStartRequestManager14,b.$VideoUploadStartRequestManager15=a.hash,b.$VideoUploadStartRequestManager12.destroy(),b.$VideoUploadStartRequestManager12=null,a.hash||(b.$VideoUploadStartRequestManager16=a.exception),b.$VideoUploadStartRequestManager17()})):this.$VideoUploadStartRequestManager17()};d.$VideoUploadStartRequestManager17=function(){this.$VideoUploadStartRequestManager18(),this.inform("request-started",{hash_time:this.$VideoUploadStartRequestManager14,hash_exception:this.$VideoUploadStartRequestManager16})};d.$VideoUploadStartRequestManager18=function(){c("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null,this.$VideoUploadStartRequestManager11=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager1).setAllowCrossOrigin(!0).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager13,this.$VideoUploadStartRequestManager15)).setWaterfallID(this.$VideoUploadStartRequestManager13.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManager20.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManager21.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManager22.bind(this)),this.$VideoUploadStartRequestManager11.send()};d.__getVideoUploadRequest=function(a){return new(c("VideoUploadRequest"))(a)};d.__getDataToSend=function(a,b){b={file_size:a.getFile().getSize(),file_extension:a.getFile().getExtension(),target_id:a.getTargetID(),source:a.getSource(),composer_dialog_version:a.getComposerDialogVersion(),waterfall_id:a.getWaterfallID(),composer_session_id:a.getComposerSessionID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),supports_file_api:a.getSupportsFileAPI(),partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset(),creator_product:a.getCreatorProduct(),original_file_hash:b,spherical:a.getIsSphericalVideo(),spherical_metadata:a.getSphericalMetadata(),video_publisher_action_source:a.getVideoPublisherActionSource()};a.getCreativeTools()!=null&&(b.creative_tools=a.getCreativeTools());return b};d.cancelRequest=function(){this.$VideoUploadStartRequestManager23(),this.inform("request-canceled")};d.$VideoUploadStartRequestManager24=function(a){c("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=c("setTimeout")(this.$VideoUploadStartRequestManager18.bind(this),a)};d.$VideoUploadStartRequestManager23=function(){this.$VideoUploadStartRequestManager12&&(this.$VideoUploadStartRequestManager12.destroy(),this.$VideoUploadStartRequestManager12=null),this.$VideoUploadStartRequestManager11&&(this.$VideoUploadStartRequestManager11.abort(),this.$VideoUploadStartRequestManager11=null),this.$VideoUploadStartRequestManager10=0,this.$VideoUploadStartRequestManager5=0,this.$VideoUploadStartRequestManager13=null,c("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null};d.$VideoUploadStartRequestManager25=function(a,b,c){a=Math.pow(a,b)*1e3;c>0&&(a=Math.min(a,c));return a};d.$VideoUploadStartRequestManager20=function(a){var b;(b=this.$VideoUploadStartRequestManager13)==null||(b=b.getRetryState())==null||b.resetDelay();b=a.getPayload();this.inform("request-finished",this.__getSuccessInformData(b));this.$VideoUploadStartRequestManager11=null;c("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.__getSuccessInformData=function(a){return{video_id:a.video_id,xpv_asset_id:a.xpv_asset_id,is_xpv_single_prod:a.is_xpv_single_prod,upload_session_id:a.upload_session_id,fb_region:a.region_hint,start_offset:a.start_offset,end_offset:a.end_offset,transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,skip_upload:a.skip_upload,hash_time:this.$VideoUploadStartRequestManager14}};d.$VideoUploadStartRequestManager26=function(a){this.inform("request-failed",this.$VideoUploadStartRequestManager27(a)),this.$VideoUploadStartRequestManager11=null,c("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.$VideoUploadStartRequestManager21=function(a){var b,c=this;this.$VideoUploadStartRequestManager11=null;var d=(b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState();d==null?(this.$VideoUploadStartRequestManager5=0,a.isTransient()&&this.$VideoUploadStartRequestManager10<this.$VideoUploadStartRequestManager8?(this.$VideoUploadStartRequestManager10++,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager9,this.$VideoUploadStartRequestManager10))):this.$VideoUploadStartRequestManager26(a)):d.handleRetry({context:{location:"start-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){c.$VideoUploadStartRequestManager10=d.getTotalRetryCount(),c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager22=function(a){var b,c=this;((b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState())==null?this.$VideoUploadStartRequestManager2===0||this.$VideoUploadStartRequestManager5>=this.$VideoUploadStartRequestManager2?this.$VideoUploadStartRequestManager26(a):(this.$VideoUploadStartRequestManager5++,this.$VideoUploadStartRequestManager11=null,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager3,this.$VideoUploadStartRequestManager5,this.$VideoUploadStartRequestManager4))):this.$VideoUploadStartRequestManager13.getRetryState().handleRetry({context:{location:"start-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadStartRequestManager11=null,c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager27=function(a){var b,d=[].concat(a==null||(b=a.getPayload())==null||(b=b.error)==null?void 0:b.opes_mids,[a==null?void 0:a.errorMid]).filter(Boolean);return{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__,opes_mids:(i||(i=c("isEmpty")))(d)?null:d}};return b}(c("mixin")(b("cr:909282")));d=a;g["default"]=d}),98);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}f["default"]=a}),66);
__d("VideoUploadSession",["AsyncRequest","GraphQLVideoPublishUtils","SubscriptionsHandler","VideoUploadCrashMonitor","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadGraphQLPostRequestManager","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","cr:909282","err","getByPath","mixin"],(function(a,b,c,d,e,f){var g={CANCELED:"canceled",ABANDONED:"abandoned",SHUTDOWN:"shutdown"};a=function(a){"use strict";function c(c){var d;d=a.call(this)||this;d.$VideoUploadSession2=c.source;d.$VideoUploadSession3=c.composer_dialog_version;d.$VideoUploadSession4=c.target_id;d.$VideoUploadSession5=c.logging_delay;d.$VideoUploadSession6=c.silent_file_validation;d.$VideoUploadSession7=c.background_upload;d.$VideoUploadSession8=c.actor_id;d.$VideoUploadSession9=c.composer_entry_point_ref;d.$VideoUploadSession10=c.composer_work_shared_draft_mode;d.$VideoUploadSession11=c.video_publisher_action_source;d.$VideoUploadSession12=c.monitor_crashes;d.$VideoUploadSession13=c.isMultiMediaPost;d.$VideoUploadSession14=c.container_type;d.$VideoUploadSession15=c.number_of_partitions;d.$VideoUploadSession16=c.multi_partitioning_enabled;d.$VideoUploadSession17=c.change_default_chunk_size;d.$VideoUploadSession18=c.has_file_been_replaced?c.has_file_been_replaced:!1;d.$VideoUploadSession17&&(d.$VideoUploadSession19=c.client_chunk_size);d.$VideoUploadSession20=c.early_receive;d.$VideoUploadSession21=!1;d.$VideoUploadSession22=c.accept_dimensions_from_player;d.$VideoUploadSession23=c.ad_account_id;d.$VideoUploadSession24=c.waterfall_id;d.$VideoUploadSession25=null;d.$VideoUploadSession26=new(b("VideoUploadFileValidator"))({minSize:c.min_size,maxSize:c.max_size,minLength:c.min_length,maxLength:c.max_length,minWidth:c.min_width,minHeight:c.min_height,extensions:c.extensions,source:c.source,require16to9AspectRatio:c.require_16to9_aspect_ratio,minAspectRatio:c.min_aspect_ratio,maxAspectRatio:c.max_aspect_ratio,acceptDimensionsFromPlayer:c.accept_dimensions_from_player});d.$VideoUploadSession27=b("VideoUploadFeatureDetector").supportsChunking();d.$VideoUploadSession28=b("VideoUploadFeatureDetector").supportsFileAPI();d.$VideoUploadSession27?(d.$VideoUploadSession29=c.parallel_chunk_uploads,d.$VideoUploadSession29&&(d.$VideoUploadSession30=c.parallel_chunk_upload_filesize,d.$VideoUploadSession31=c.default_chunk_size)):d.$VideoUploadSession29=!1;d.$VideoUploadSession32=c.shutdown_logging_enabled;d.$VideoUploadSession33=d.$VideoUploadSession$p_34(c);d.$VideoUploadSession35=d.$VideoUploadSession$p_36(c);if(d.$VideoUploadSession29)if(d.$VideoUploadSession16){var e=0;d.$VideoUploadSession37=[];for(e=0;e<d.$VideoUploadSession15-1;e++)d.$VideoUploadSession37[e]=d.$VideoUploadSession$p_36(c)}else d.$VideoUploadSession37=d.$VideoUploadSession$p_36(c);d.$VideoUploadSession38=d.$VideoUploadSession$p_39(c);d.$VideoUploadSession40=d.$VideoUploadSession$p_41(c);d.$VideoUploadSession42=c.log_free_local_storage;d.$VideoUploadSession43=null;return d}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.$VideoUploadSession$p_44=function(){this.$VideoUploadSession45=[];this.$VideoUploadSession46=[];this.$VideoUploadSession47=[];this.$VideoUploadSession48=[];this.$VideoUploadSession49=[];var a=0;for(a=0;a<this.$VideoUploadSession1-1;a++)this.$VideoUploadSession45.push(!1)};d.$VideoUploadSession$p_50=function(){var a;this.$VideoUploadSession24==null&&(this.$VideoUploadSession24=b("WaterfallIDGenerator").generate());this.$VideoUploadSession51=new(b("VideoUploadLogger"))({actor_id:this.$VideoUploadSession8,ad_account_id:this.$VideoUploadSession23,source:this.$VideoUploadSession2,composer_dialog_version:this.$VideoUploadSession3,waterfall_id:this.$VideoUploadSession24,target_id:this.$VideoUploadSession4,delay:this.$VideoUploadSession5,is_chunked_upload:this.$VideoUploadSession27,composer_entry_point_ref:this.$VideoUploadSession9,composer_work_shared_draft_mode:this.$VideoUploadSession10,container_type:this.$VideoUploadSession14,has_file_been_replaced:this.$VideoUploadSession18,composer_session_id:this.$VideoUploadSession52,asset_id:(a=this.$VideoUploadSession53)==null?void 0:a.getStableAssetID(),creative_tools:this.$VideoUploadSession54});this.inform("set-waterfall-id",{waterfallID:this.$VideoUploadSession24})};d.createTestLogger=function(){this.$VideoUploadSession$p_50()};d.$VideoUploadSession$p_55=function(){this.$VideoUploadSession51||this.$VideoUploadSession$p_50();return this.$VideoUploadSession51};d.getLogger=function(){return!this.$VideoUploadSession51?null:this.$VideoUploadSession51};d.$VideoUploadSession$p_56=function(){return null};d.start=function(a){var c=this;this.$VideoUploadSession57=null;this.$VideoUploadSession58=null;this.$VideoUploadSession59=null;this.$VideoUploadSession60=!1;this.$VideoUploadSession61=!1;this.$VideoUploadSession62=null;this.$VideoUploadSession53=a;this.$VideoUploadSession63=0;this.$VideoUploadSession64=!1;this.$VideoUploadSession65={sphericalMetadataXml:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null};this.$VideoUploadSession66=!1;this.$VideoUploadSession43=this.$VideoUploadSession$p_56();this.$VideoUploadSession$p_50();this.$VideoUploadSession16&&(this.$VideoUploadSession1=Math.min(this.$VideoUploadSession15,Math.ceil(this.$VideoUploadSession53.getSize()/this.$VideoUploadSession30)));this.__logEvent(b("VideoUploadLogger").EVENT_REQUESTED_UPLOADING);this.inform("upload-requested");a=new(b("VideoUploadMetadataParser"))(this.$VideoUploadSession53,this.$VideoUploadSession$p_67.bind(this),this.$VideoUploadSession22);a.parse();this.$VideoUploadSession42&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota(function(a,d){c.__logEvent(b("VideoUploadLogger").EVENT_MEASURE_FREE_LOCAL_STORAGE,{free_space_in_device:d})})};d.setTargetID=function(a){this.$VideoUploadSession4=a};d.setComposerSessionID=function(a){this.$VideoUploadSession52=a};d.setCreativeTools=function(a){this.$VideoUploadSession54=a};d.post=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_POST_REQUEST,this.$VideoUploadSession25);this.inform("post-started",a);var c=this.__createPostRequestContext(a);if(b("GraphQLVideoPublishUtils").isGraphQLPublish(this.$VideoUploadSession2,this.$VideoUploadSession9)&&this.$VideoUploadSession40.hasAPISupport(a)){this.$VideoUploadSession40.sendRequest(c);this.$VideoUploadSession68=a;return}this.$VideoUploadSession38.sendRequest(c);this.$VideoUploadSession68=a};d.__createPostRequestContext=function(a){var c=new(b("VideoUploadRequestContext"))();this.__setupPostRequestContext(c,a);return c};d.__setupPostRequestContext=function(a,b){a.setMetadata(b).setVideoID(this.$VideoUploadSession57).setTargetID(this.$VideoUploadSession4).setSource(this.$VideoUploadSession2).setComposerDialogVersion(this.$VideoUploadSession3).setComposerWorkSharedDraftMode(this.$VideoUploadSession10).setWaterfallID(this.$VideoUploadSession24).setComposerSessionID(this.$VideoUploadSession52).setSupportsChunking(this.$VideoUploadSession27).setCreatorProduct(this.$VideoUploadSession53.getCreatorProduct()).setFile(this.$VideoUploadSession53).setHasFileBeenReplaced(this.$VideoUploadSession18),b&&(b.spherical&&(this.$VideoUploadSession64=!0,a.setIsSphericalVideo(this.$VideoUploadSession64)),b.enable_omnistab&&(this.$VideoUploadSession66=!0,a.setEnableOmnistab(this.$VideoUploadSession66))),a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession9)};d.$VideoUploadSession$p_69=function(a,d){if(this.$VideoUploadSession60){var e={event_reason:d,debug:babelHelpers["extends"]({},this.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:this.$VideoUploadSession7})};d=d===g.CANCELED?b("VideoUploadLogger").EVENT_CANCELED_UPLOADING:b("VideoUploadLogger").EVENT_ABANDONED_UPLOADING;this.$VideoUploadSession$p_70();this.$VideoUploadSession7?(this.$VideoUploadSession61||this.__logEvent(d),this.$VideoUploadSession71&&(this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e),this.$VideoUploadSession71=!1)):(this.__logEvent(d),this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e));this.inform("upload-canceled")}else a&&this.$VideoUploadSession57&&c.deleteVideo(this.$VideoUploadSession57)};d.cancel=function(a){a===void 0&&(a=!1),this.$VideoUploadSession$p_69(a,g.CANCELED)};d.abandon=function(a){a===void 0&&(a=!1),this.$VideoUploadSession$p_69(a,g.ABANDONED)};d.isPostInProgress=function(){return this.$VideoUploadSession38.isInProgress()};d.isInProgress=function(){return this.$VideoUploadSession60};d.getHasUploadFinished=function(){return this.$VideoUploadSession61};d.getVideoID=function(){return this.$VideoUploadSession57};d.getUploadTime=function(){return this.$VideoUploadSession72};d.getExPartitionNumber=function(a){var b;for(b=0;b<this.$VideoUploadSession1-1;b++)if(a>=this.$VideoUploadSession46[b]&&a<this.$VideoUploadSession47[b])break;return b===this.$VideoUploadSession1?-1:b};d.getIsSphericalVideo=function(){return this.$VideoUploadSession64||!1};d.getVideoMetadata=function(){return this.$VideoUploadSession25||null};d.startFlow=function(){if(!this.$VideoUploadSession7||this.$VideoUploadSession71)return;this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession71=!0;this.$VideoUploadSession73&&this.$VideoUploadSession73.flowStarted()};d.__extractVideoMetadata=function(a){var c;a=(c=b("getByPath"))(a,["streams","primaryVideo"]);c={source_height:c(a,["height"]),source_width:c(a,["width"]),duration:c(a,["duration"])*1e3};c.original_video_duration=c.duration;return c};d.$VideoUploadSession$p_67=function(a){var c;if(this.$VideoUploadSession6){var d=this.$VideoUploadSession26.getValidationErrorMessage(this.$VideoUploadSession53,a);if(d){var e=b("err")(d.summary);e.is_js_error=!0;c={error_summary:d.summary,error_description:d.description,error:e};d=!1}else d=!0}else d=this.$VideoUploadSession26.validate(this.$VideoUploadSession53,a);if(!d){this.__logEvent(b("VideoUploadLogger").EVENT_INVALIDATED_UPLOADING);this.inform("upload-failed",c);return}this.$VideoUploadSession25=this.__extractVideoMetadata(a);a&&a.format&&(this.$VideoUploadSession64=a.format.isSpherical,a.metadata&&(this.$VideoUploadSession65.sphericalMetadataXml=a.metadata.sphericalMetadataXml,this.$VideoUploadSession65.fbSpatialAudioMetadataXml=a.metadata.fbSpatialAudioMetadataXml,this.$VideoUploadSession65.ytSa3dMetadataJson=a.metadata.ytSa3dMetadataJson));this.$VideoUploadSession7||this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession74=this.$VideoUploadSession29&&this.$VideoUploadSession53.getSize()>=this.$VideoUploadSession30;this.$VideoUploadSession75=!1;this.$VideoUploadSession76=0;this.$VideoUploadSession77=this.$VideoUploadSession76;this.$VideoUploadSession78=0;this.$VideoUploadSession16?this.$VideoUploadSession$p_44():this.$VideoUploadSession45=!1;if(this.$VideoUploadSession74)if(this.$VideoUploadSession16){e=0;this.$VideoUploadSession79=Math.ceil(this.$VideoUploadSession53.getSize()/this.$VideoUploadSession1);d=this.$VideoUploadSession79;var f=this.$VideoUploadSession79;for(e=0;e<this.$VideoUploadSession1-1;e++)this.$VideoUploadSession46[e]=d,d=Math.min(this.$VideoUploadSession46[e]+f,this.$VideoUploadSession53.getSize()),this.$VideoUploadSession47[e]=d,this.$VideoUploadSession48[e]=this.$VideoUploadSession46[e],this.$VideoUploadSession49[e]=0}else this.$VideoUploadSession79=Math.floor(this.$VideoUploadSession53.getSize()/2),this.$VideoUploadSession46=this.$VideoUploadSession79,this.$VideoUploadSession48=this.$VideoUploadSession46,this.$VideoUploadSession49=0,this.$VideoUploadSession47=this.$VideoUploadSession53.getSize();else this.$VideoUploadSession79=this.$VideoUploadSession53.getSize();e=new(b("VideoUploadRequestContext"))().setFile(this.$VideoUploadSession53).setTargetID(this.$VideoUploadSession4).setSource(this.$VideoUploadSession2).setComposerDialogVersion(this.$VideoUploadSession3).setComposerWorkSharedDraftMode(this.$VideoUploadSession10).setWaterfallID(this.$VideoUploadSession24).setComposerSessionID(this.$VideoUploadSession52).setHasFileBeenReplaced(this.$VideoUploadSession18).setSupportsChunking(this.$VideoUploadSession27).setSupportsFileAPI(this.$VideoUploadSession28).setCreatorProduct(this.$VideoUploadSession53.getCreatorProduct()).setPartitionStartOffset(this.$VideoUploadSession76).setPartitionEndOffset(this.$VideoUploadSession79).setRetryState(this.$VideoUploadSession43).setCreativeTools(this.$VideoUploadSession54);this.$VideoUploadSession29&&e.setUseParallelChunks(this.$VideoUploadSession29);this.$VideoUploadSession64&&(e.setIsSphericalVideo(this.$VideoUploadSession64),e.setSphericalMetadata(this.$VideoUploadSession65));e.setComposerEntryPointRef&&e.setComposerEntryPointRef(this.$VideoUploadSession9);e.setVideoPublisherActionSource(this.$VideoUploadSession11);this.$VideoUploadSession$p_80();this.$VideoUploadSession33.sendRequest(e);this.$VideoUploadSession20&&this.$VideoUploadSession17&&this.$VideoUploadSession35.isResumabilityEnabled()&&!this.$VideoUploadSession35.isResumableServiceProxyReceiveEnabled()&&this.$VideoUploadSession$p_81();this.inform("metadata-parsed",a)};d.$VideoUploadSession$p_34=function(a){var b=this.$VideoUploadSession27?a.chunk_start_uri:a.start_uri;b=this.__getVideoUploadStartRequestManager(b,a.start_max_transport_retries,a.start_transport_retry_interval_base,a.start_max_transport_retry_timeout,a.skip_upload_enabled,a.skip_upload_file_size_limit,a.start_max_server_retries,a.start_server_retry_interval_base);b.subscribe("request-started",this.$VideoUploadSession$p_82.bind(this));b.subscribe("request-finished",this.$VideoUploadSession$p_83.bind(this));b.subscribe("request-failed",this.$VideoUploadSession$p_84.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession$p_85.bind(this));return b};d.$VideoUploadSession$p_36=function(a){var b=this.$VideoUploadSession27?a.chunk_receive_uri:a.receive_uri;b=this.__getVideoUploadReceiveRequestManager(b,a);b.subscribe("request-started",this.$VideoUploadSession$p_86.bind(this));b.subscribe("request-progressed",this.$VideoUploadSession$p_87.bind(this));b.subscribe("request-finished",this.$VideoUploadSession$p_88.bind(this));b.subscribe("request-failed",this.$VideoUploadSession$p_89.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession$p_90.bind(this));b.subscribe("request-timeout",this.$VideoUploadSession$p_91.bind(this));b.subscribe("online",this.$VideoUploadSession$p_92.bind(this));b.subscribe("offline",this.$VideoUploadSession$p_93.bind(this));b.subscribe("resumable-called",this.$VideoUploadSession$p_94.bind(this));b.subscribe("resumable-started",this.$VideoUploadSession$p_95.bind(this));b.subscribe("resumable-success",this.$VideoUploadSession$p_96.bind(this));b.subscribe("resumable-failed",this.$VideoUploadSession$p_97.bind(this));return b};d.$VideoUploadSession$p_39=function(a){var b=this.$VideoUploadSession27?a.chunk_post_uri:a.post_uri;b=this.__getVideoUploadPostRequestManager(b,a);b.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));b.subscribe("request-failed",this.$VideoUploadSession$p_98.bind(this));return b};d.$VideoUploadSession$p_41=function(a){a=new(b("VideoUploadGraphQLPostRequestManager"))(isNaN(a.post_max_transport_retries)?0:a.post_max_transport_retries,isNaN(a.post_transport_retry_interval_base)?0:a.post_transport_retry_interval_base,isNaN(a.post_max_server_retries)?0:a.post_max_server_retries,isNaN(a.post_server_retry_interval_base)?0:a.post_server_retry_interval_base);a.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));a.subscribe("request-failed",this.$VideoUploadSession$p_98.bind(this));return a};d.$VideoUploadSession$p_82=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_UPLOADING,babelHelpers["extends"]({hash_time:c.hash_time,hash_exception:c.hash_exception},this.$VideoUploadSession25)),this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_START_REQUEST,this.$VideoUploadSession25),this.$VideoUploadSession99=Date.now(),this.inform("upload-started")};d.$VideoUploadSession$p_81=function(a){if(!this.$VideoUploadSession21){this.$VideoUploadSession21=!0;a||(a={video_id:null});var b=this.__createReceiveRequestContext(a,!1);this.$VideoUploadSession35.sendRequest(b);if(this.$VideoUploadSession74)if(this.$VideoUploadSession16){var c=0;for(c=0;c<this.$VideoUploadSession1-1;c++)b=this.__createReceiveRequestContext(a,!0,c),this.$VideoUploadSession37[c].sendRequest(b)}else b=this.__createReceiveRequestContext(a,!0),this.$VideoUploadSession37.sendRequest(b)}else this.$VideoUploadSession$p_100()};d.$VideoUploadSession$p_100=function(){this.$VideoUploadSession35.updateVideoID(this.$VideoUploadSession57);if(this.$VideoUploadSession74)if(this.$VideoUploadSession16){var a=0;for(a=0;a<this.$VideoUploadSession1-1;a++)this.$VideoUploadSession37[a].updateVideoID(this.$VideoUploadSession57)}else this.$VideoUploadSession37.updateVideoID(this.$VideoUploadSession57)};d.$VideoUploadSession$p_101=function(a){if(this.$VideoUploadSession43==null)return((a==null?void 0:a.transport_retries)||0)+((a==null?void 0:a.server_retries)||0)+((a==null?void 0:a.timeout_retries)||0);else return this.$VideoUploadSession43.getTotalRetryCount()};d.$VideoUploadSession$p_83=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_PROGRESS_UPLOADING_START_REQUEST,{retries:this.$VideoUploadSession$p_101(c),transport_retries:c.transport_retries,hash_time:c.hash_time,skip_upload:c.skip_upload?1:null}),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_START_REQUEST,babelHelpers["extends"]({video_id:c.video_id},this.$VideoUploadSession25)),this.$VideoUploadSession57=c.video_id,this.$VideoUploadSession58=c.upload_session_id,this.$VideoUploadSession59=c.fb_region,this.$VideoUploadSession102=c.skip_upload,!c.skip_upload?this.$VideoUploadSession$p_81(c):(this.$VideoUploadSession$p_103(),this.inform("upload-progressed",{start_offset:0,end_offset:this.$VideoUploadSession53.getSize(),file_size:this.$VideoUploadSession53.getSize(),sent_bytes:this.$VideoUploadSession53.getSize(),video_id:c.video_id,skip_upload:c.skip_upload}),this.$VideoUploadSession7&&this.__logFinishedUploading(),this.inform("upload-finished",{start_offset:0,end_offset:this.$VideoUploadSession53.getSize(),video_id:c.video_id,is_spherical_video:this.$VideoUploadSession64}))};d.__fetchReceiveRequestManagerStateLogData=function(){var a={};this.$VideoUploadSession35!=null&&(this.$VideoUploadSession35.appendStateLogData(a,"requestManager_"),a.request_manager_state=a.requestManager_last_log_state);if(this.$VideoUploadSession16){var b=0;for(b=0;b<this.$VideoUploadSession1-1;b++)this.$VideoUploadSession37[b]!=null&&this.$VideoUploadSession37[b].appendStateLogData(a,"requestManagerEx_"+b.toString())}else this.$VideoUploadSession37!=null&&this.$VideoUploadSession37.appendStateLogData(a,"requestManagerEx_");return a};d.__createReceiveRequestContext=function(a,c,d){c||(c=!1);var e=new(b("VideoUploadRequestContext"))();this.$VideoUploadSession16?this.__setupReceiveRequestContext(e,a,c,d):this.__setupReceiveRequestContext(e,a,c);return e};d.__setupReceiveRequestContext=function(a,b,c,d){var e,f,g;!c?(c=this.$VideoUploadSession76,e=this.$VideoUploadSession79,this.$VideoUploadSession17?(f=this.$VideoUploadSession76,g=this.$VideoUploadSession19?Math.min(this.$VideoUploadSession19,this.$VideoUploadSession79):this.$VideoUploadSession79):(f=b.start_offset,g=b.end_offset)):this.$VideoUploadSession16?(this.$VideoUploadSession17&&(this.$VideoUploadSession31=this.$VideoUploadSession47[d]-this.$VideoUploadSession46[d],this.$VideoUploadSession31=this.$VideoUploadSession19?Math.min(this.$VideoUploadSession19,this.$VideoUploadSession31):this.$VideoUploadSession31),c=this.$VideoUploadSession46[d],e=this.$VideoUploadSession47[d],f=this.$VideoUploadSession46[d],g=this.$VideoUploadSession46[d]+this.$VideoUploadSession31>=this.$VideoUploadSession47[d]?this.$VideoUploadSession47[d]:this.$VideoUploadSession46[d]+this.$VideoUploadSession31):(this.$VideoUploadSession17&&(this.$VideoUploadSession31=this.$VideoUploadSession47-this.$VideoUploadSession46,this.$VideoUploadSession31=this.$VideoUploadSession19?Math.min(this.$VideoUploadSession19,this.$VideoUploadSession31):this.$VideoUploadSession31),c=this.$VideoUploadSession46,e=this.$VideoUploadSession47,f=this.$VideoUploadSession46,g=this.$VideoUploadSession46+this.$VideoUploadSession31>=this.$VideoUploadSession47?this.$VideoUploadSession47:this.$VideoUploadSession46+this.$VideoUploadSession31);a.setFile(this.$VideoUploadSession53).setVideoID(b.video_id).setXPVAssetID(b.xpv_asset_id).setIsXPVSingleProd(b.is_xpv_single_prod).setUploadSessionID(b.upload_session_id).setFbRegion(b.fb_region).setStartOffset(f).setEndOffset(g).setPartitionStartOffset(c).setPartitionEndOffset(e).setPartitionNo(d).setTargetID(this.$VideoUploadSession4).setSource(this.$VideoUploadSession2).setComposerDialogVersion(this.$VideoUploadSession3).setComposerWorkSharedDraftMode(this.$VideoUploadSession10).setWaterfallID(this.$VideoUploadSession24).setComposerSessionID(this.$VideoUploadSession52).setSupportsChunking(this.$VideoUploadSession27).setHasFileBeenReplaced(this.$VideoUploadSession18).setRetryState(this.$VideoUploadSession43);this.$VideoUploadSession29&&a.setUseParallelChunks(this.$VideoUploadSession29);a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession9);this.$VideoUploadSession19&&a.setClientChunkSize(this.$VideoUploadSession19)};d.$VideoUploadSession$p_84=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_START_REQUEST,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);a=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession7?this.$VideoUploadSession71&&(this.__logEvent(a),this.$VideoUploadSession71=!1):this.__logEvent(a);this.$VideoUploadSession$p_103();this.$VideoUploadSession$p_104();this.inform("upload-failed",c)};d.$VideoUploadSession$p_85=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_START_REQUEST)};d.$VideoUploadSession$p_86=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_RECEIVE_REQUEST,{debug:c.debug}),!c.start_offset&&!c.transport_retries&&!c.server_retries&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSession53.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession27&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,total_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession$p_101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug})};d.$VideoUploadSession$p_87=function(a,b){if(b.start_offset<this.$VideoUploadSession79)this.$VideoUploadSession77=b.start_offset,this.$VideoUploadSession78=b.sent_bytes;else if(this.$VideoUploadSession16){a=this.getExPartitionNumber(b.start_offset);a>-1&&(this.$VideoUploadSession48[a]=b.start_offset,this.$VideoUploadSession49[a]=b.sent_bytes)}else this.$VideoUploadSession48=b.start_offset,this.$VideoUploadSession49=b.sent_bytes;b.start_offset=this.$VideoUploadSession77;b.sent_bytes=this.$VideoUploadSession78;if(this.$VideoUploadSession74)if(this.$VideoUploadSession16)for(a=0;a<this.$VideoUploadSession1-1;a++)b.start_offset+=this.$VideoUploadSession48[a]-this.$VideoUploadSession46[a],b.sent_bytes+=this.$VideoUploadSession49[a];else b.start_offset+=this.$VideoUploadSession48-this.$VideoUploadSession46,b.sent_bytes+=this.$VideoUploadSession49;a=Math.min(b.start_offset+b.sent_bytes,b.file_size);a>this.$VideoUploadSession63&&(this.$VideoUploadSession63=a,this.inform("upload-progressed",b))};d.$VideoUploadSession$p_88=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_RECEIVE_REQUEST,{debug:c.debug});this.$VideoUploadSession27&&this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession$p_101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug});a=!1;if(c.start_offset<this.$VideoUploadSession79)this.$VideoUploadSession75=c.end_offset>=this.$VideoUploadSession79;else if(this.$VideoUploadSession16){var d;d=this.getExPartitionNumber(c.start_offset);if(d===-1){var e="Invalid offset",f=b("err")(e);f.is_js_error=!0;e={error_summary:e,error_description:"Offset doesn't fall in any exPartition range.",error:f};this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING);this.inform("upload-failed",e);return}this.$VideoUploadSession45[d]=c.end_offset>=this.$VideoUploadSession47[d]}else this.$VideoUploadSession45=c.end_offset>=this.$VideoUploadSession47;if(this.$VideoUploadSession16)for(d=0;d<this.$VideoUploadSession1-1;d++)if(this.$VideoUploadSession45[d]===!1){a=!1;break}else a=!0;else a=this.$VideoUploadSession45;(!this.$VideoUploadSession28||this.$VideoUploadSession75&&(!this.$VideoUploadSession74||a))&&(this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSession53.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession72=Date.now()-this.$VideoUploadSession99,this.$VideoUploadSession7&&this.__logFinishedUploading(),c.video_id=this.$VideoUploadSession57,c.is_spherical_video=this.$VideoUploadSession64,this.inform("upload-finished",c),this.$VideoUploadSession13&&(this.$VideoUploadSession7||this.__logFinishedUploading(),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW,c),this.$VideoUploadSession71=!1,this.$VideoUploadSession$p_104(),this.inform("multimedia-upload-finished",c)))};d.$VideoUploadSession$p_89=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_RECEIVE_REQUEST,a);this.$VideoUploadSession27&&this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_CHUNK_BYTES,a);if(this.$VideoUploadSession60){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_BYTES,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession7?this.$VideoUploadSession71&&(this.__logEvent(d,a),this.$VideoUploadSession71=!1):this.__logEvent(d,a)}this.$VideoUploadSession$p_104();this.inform("upload-failed",c)};d.$VideoUploadSession$p_90=function(a){this.$VideoUploadSession27?this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_CHUNK_BYTES):this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_BYTES)};d.$VideoUploadSession$p_91=function(a,c){a={start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession$p_101(c),transport_retries:c.transport_retries,server_retries:c.server_retries,timeout_retries:c.timeout_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,debug:c.debug};this.__logEvent(b("VideoUploadLogger").EVENT_TIMEOUT_SENDING_CHUNK_BYTES,a)};d.$VideoUploadSession$p_92=function(a,b){this.inform("online",b)};d.$VideoUploadSession$p_93=function(a,b){this.inform("offline",b)};d.$VideoUploadSession$p_94=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_CALLED,c)};d.$VideoUploadSession$p_95=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_STARTED,c)};d.$VideoUploadSession$p_96=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_SUCCESS,c)};d.$VideoUploadSession$p_97=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_FAILED,c)};d.__handlePostRequestFinished=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_POST_REQUEST,babelHelpers["extends"]({video_id:this.$VideoUploadSession57},this.$VideoUploadSession25));c.video_id||(c.video_id=this.$VideoUploadSession57);this.$VideoUploadSession7||this.__logFinishedUploading();this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW);this.$VideoUploadSession71=!1;this.$VideoUploadSession$p_104();a=babelHelpers["extends"]({},c,this.$VideoUploadSession68);this.inform("post-finished",a)};d.__logFinishedUploading=function(){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_UPLOADING,babelHelpers["extends"]({elapsed_time:this.$VideoUploadSession72,skip_upload:this.$VideoUploadSession102?1:null,video_id:this.$VideoUploadSession57},this.$VideoUploadSession25)),this.$VideoUploadSession61=!0};d.$VideoUploadSession$p_98=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_POST_REQUEST,a);if(this.$VideoUploadSession60){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.__logEvent(d,a)}this.$VideoUploadSession$p_104();this.inform("post-failed",c)};d.$VideoUploadSession$p_103=function(){this.$VideoUploadSession35.cancelRequest();if(this.$VideoUploadSession74)if(this.$VideoUploadSession16){var a=0;for(a=0;a<this.$VideoUploadSession1-1;a++)this.$VideoUploadSession37[a].cancelRequest()}else this.$VideoUploadSession37.cancelRequest();this.$VideoUploadSession21=!1};d.$VideoUploadSession$p_70=function(){this.$VideoUploadSession33.cancelRequest(),this.$VideoUploadSession$p_103(),this.$VideoUploadSession$p_104(),this.$VideoUploadSession57&&(c.deleteVideo(this.$VideoUploadSession57),this.$VideoUploadSession57=null,this.$VideoUploadSession58=null,this.$VideoUploadSession59=null)};d.$VideoUploadSession$p_80=function(){var a=this;this.$VideoUploadSession60=!0;this.$VideoUploadSession32&&(this.$VideoUploadSession62=new(b("SubscriptionsHandler"))(),this.$VideoUploadSession62.addSubscriptions(this.$VideoUploadSession$p_55().postOnShutdown(function(){if(a.$VideoUploadSession60){var c={event_reason:g.SHUTDOWN,debug:babelHelpers["extends"]({},a.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:a.$VideoUploadSession7})};a.$VideoUploadSession7?a.$VideoUploadSession71&&a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c):a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c);a.inform("upload-canceled")}})));this.$VideoUploadSession12&&(this.$VideoUploadSession73=new(b("VideoUploadCrashMonitor"))(this.$VideoUploadSession24,this.$VideoUploadSession8,this.$VideoUploadSession2,this.$VideoUploadSession4,this.$VideoUploadSession5,this.$VideoUploadSession27,this.$VideoUploadSession9,!this.$VideoUploadSession7||this.$VideoUploadSession71),this.$VideoUploadSession73.startSession())};d.$VideoUploadSession$p_104=function(){this.$VideoUploadSession60=!1,this.$VideoUploadSession62&&(this.$VideoUploadSession62.release(),this.$VideoUploadSession62=null),this.$VideoUploadSession73&&(this.$VideoUploadSession73.endSession(),this.$VideoUploadSession73=null)};d.__getLogErrorData=function(a){return{error:a.error_summary,error_code:a.error_code,error_description:a.error_description,retries:this.$VideoUploadSession$p_101(a),transport_retries:a.transport_retries,server_retries:a.server_retries,request_manager_state:a.request_manager_state,debug:a.debug}};d.__logEvent=function(a,b){b=b||{},this.$VideoUploadSession53&&(b.file_size=this.$VideoUploadSession53.getSize(),b.file_extension=this.$VideoUploadSession53.getExtension(),b.sent_bytes=this.$VideoUploadSession63),this.$VideoUploadSession$p_55().logEvent(a,b)};d.__getVideoUploadStartRequestManager=function(a,c,d,e,f,g,h,i){return new(b("VideoUploadStartRequestManager"))(a,c,d,e,f,g,h,i)};d.__getVideoUploadReceiveRequestManager=function(a,c){return new(b("VideoUploadReceiveRequestManager"))(a,c.max_transport_retries,c.max_transport_retry_timeout,c.max_server_retries,c.response_timeout_enabled,c.max_response_timeout_retries,c.response_timeout_speed_variation_factor_ppt,c.transport_retry_interval_base,c.server_retry_interval_base,c.receive_errors_force_retry,c.access_token,c.resumability_enabled,c.resumability_async_enabled,c.resumable_service_name,c.resumable_service_domain,c.datr,c.resumability_min_file_size,c.resumable_service_proxy_receive,c.resumable_service_send_media_info,c.resumable_service_send_file_size,c.resumable_reset_transport_retries_on_progress,c.traffic_tracing_enabled,c.traffic_tracing_min_file_size)};d.__getVideoUploadPostRequestManager=function(a,c){return new(b("VideoUploadPostRequestManager"))(a,c.post_max_transport_retries,c.post_transport_retry_interval_base,c.post_max_server_retries,c.post_server_retry_interval_base)};c.deleteVideo=function(a){a=new(b("AsyncRequest"))("/ajax/video/actions/delete").setData({fbid:a,redirect:!1});a.setErrorHandler(function(){});a.send()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploader",["FBLogger","MediaUploadVUShim","VideoUploadCrashMonitor","VideoUploadSession","cr:909282","getErrorSafe","mixin"],(function(a,b,c,d,e,f,g){a=function(a){function b(b){var d;d=a.call(this)||this;d.abandon=function(a){a===void 0&&(a=!1);var b=d.getVideoID();d.$VideoUploader2?d.$VideoUploader2.abandon(a):a&&b&&c("VideoUploadSession").deleteVideo(b);d.reset()};d.$VideoUploader1=b;d.$VideoUploader2=null;d.$VideoUploader3=null;d.$VideoUploader4=b.waterfall_id==null?null:b.waterfall_id;d.$VideoUploader5=d.$VideoUploader1.ad_account_id;b.monitor_crashes&&(d.$VideoUploader6=new(c("VideoUploadCrashMonitor"))(),d.$VideoUploader6.logKnownCrashes());return d}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.setComposerSessionID=function(a){this.$VideoUploader7=a,this.$VideoUploader2&&this.$VideoUploader2.setComposerSessionID(a)};d.getLogger=function(){if(!this.$VideoUploader2)return;if(this.$VideoUploader2.getLogger)return this.$VideoUploader2.getLogger()};d.upload=function(a,b){var c=this;if(this.$VideoUploader2)return;var d=this.__getVideoUploadSession(this.$VideoUploader1);d.setComposerSessionID(this.$VideoUploader7);(b==null?void 0:b.creativeTools)!=null&&d.setCreativeTools(JSON.stringify(b==null?void 0:b.creativeTools));d.subscribe(this.__getEventsWhichShouldListenFromSession(),function(a,b){return c.$VideoUploader8(a,b)});this.$VideoUploader2=d;d.start(a)};d.__getVideoUploadSession=function(a){try{var b=c("MediaUploadVUShim").createSession(a);if(b==null)return new(c("VideoUploadSession"))(a);else return b}catch(b){c("FBLogger")("media_upload").catching(c("getErrorSafe")(b)).warn("Failed to create shim video upload session");return new(c("VideoUploadSession"))(a)}};d.__getEventsWhichShouldListenFromSession=function(){return["upload-requested","upload-started","upload-progressed","upload-finished","upload-failed","upload-canceled","post-started","post-finished","post-failed","online","offline","metadata-parsed","set-waterfall-id"]};d.postUserRequest=function(){if(!this.$VideoUploader2)return;this.$VideoUploader2.startFlow&&this.$VideoUploader2.startFlow()};d.setTargetID=function(a){if(this.$VideoUploader2==null)return;this.$VideoUploader2.setTargetID(a)};d.setHasFileBeenReplaced=function(a){this.$VideoUploader1.has_file_been_replaced=a};d.post=function(a){if(!this.$VideoUploader2)return;this.$VideoUploader2.post(a)};d.getVideoID=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.$VideoUploader2.getVideoID());return this.$VideoUploader3};d.getVideoMetadataFromSession=function(){if(this.$VideoUploader2)return this.$VideoUploader2.getVideoMetadata()};d.cancel=function(a){a===void 0&&(a=!1);var b=this.getVideoID();this.$VideoUploader2?this.$VideoUploader2.cancel(a):a&&b&&c("VideoUploadSession").deleteVideo(b);this.reset()};d.reset=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.getVideoID()),this.$VideoUploader2=null};d.getUploadSession=function(){return this.$VideoUploader2};d.getLoggerData=function(){return{waterfall_id:this.$VideoUploader2?this.$VideoUploader2.$VideoUploader4:null,actor_id:this.$VideoUploader1.actor_id,target_id:this.$VideoUploader1.target_id,target_type:this.$VideoUploader1.target_type,composer_entry_point_ref:this.$VideoUploader1.composer_entry_point_ref}};d.isPostInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isPostInProgress()};d.isSessionInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isInProgress()};d.isSessionExist=function(){return!!this.$VideoUploader2};d.getUploadParameters=function(){return this.$VideoUploader1};d.__getSession=function(){return this.$VideoUploader2};d.__getEventsForWhichSessionShouldBeSetToNull=function(){return["upload-failed","post-finished","multimedia-upload-finished"]};d.$VideoUploader8=function(a,b){this.__getEventsForWhichSessionShouldBeSetToNull().includes(a)&&this.reset(),this.__delegateEvent(a,b)};d.__delegateEvent=function(a,b){this.inform(a,b)};return b}(c("mixin")(b("cr:909282")));g["default"]=a}),98);
__d("MediaUploadCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743942");b=d("FalcoLoggerInternal").create("media_upload_cancel",a);e=b;g["default"]=e}),98);
__d("MediaUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743943");b=d("FalcoLoggerInternal").create("media_upload_failure",a);e=b;g["default"]=e}),98);
__d("MediaUploadFlowFatalFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743945");b=d("FalcoLoggerInternal").create("media_upload_flow_fatal",a);e=b;g["default"]=e}),98);
__d("MediaUploadFlowGiveupFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743946");b=d("FalcoLoggerInternal").create("media_upload_flow_giveup",a);e=b;g["default"]=e}),98);
__d("MediaUploadFlowStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743948");b=d("FalcoLoggerInternal").create("media_upload_flow_start",a);e=b;g["default"]=e}),98);
__d("MediaUploadFlowSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743949");b=d("FalcoLoggerInternal").create("media_upload_flow_success",a);e=b;g["default"]=e}),98);
__d("MediaUploadInitFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743950");b=d("FalcoLoggerInternal").create("media_upload_init_failure",a);e=b;g["default"]=e}),98);
__d("MediaUploadInitStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743951");b=d("FalcoLoggerInternal").create("media_upload_init_start",a);e=b;g["default"]=e}),98);
__d("MediaUploadInitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743952");b=d("FalcoLoggerInternal").create("media_upload_init_success",a);e=b;g["default"]=e}),98);
__d("MediaUploadProcessFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743954");b=d("FalcoLoggerInternal").create("media_upload_process_failure",a);e=b;g["default"]=e}),98);
__d("MediaUploadProcessSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743955");b=d("FalcoLoggerInternal").create("media_upload_process_skipped",a);e=b;g["default"]=e}),98);
__d("MediaUploadProcessStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743956");b=d("FalcoLoggerInternal").create("media_upload_process_start",a);e=b;g["default"]=e}),98);
__d("MediaUploadProcessSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743957");b=d("FalcoLoggerInternal").create("media_upload_process_success",a);e=b;g["default"]=e}),98);
__d("MediaUploadStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743958");b=d("FalcoLoggerInternal").create("media_upload_start",a);e=b;g["default"]=e}),98);
__d("MediaUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743959");b=d("FalcoLoggerInternal").create("media_upload_success",a);e=b;g["default"]=e}),98);
__d("MediaUploadTransferCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743960");b=d("FalcoLoggerInternal").create("media_upload_transfer_cancel",a);e=b;g["default"]=e}),98);
__d("MediaUploadTransferFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743961");b=d("FalcoLoggerInternal").create("media_upload_transfer_failure",a);e=b;g["default"]=e}),98);
__d("MediaUploadTransferStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743962");b=d("FalcoLoggerInternal").create("media_upload_transfer_start",a);e=b;g["default"]=e}),98);
__d("MediaUploadTransferSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743963");b=d("FalcoLoggerInternal").create("media_upload_transfer_success",a);e=b;g["default"]=e}),98);
__d("cometComposerMediaUploadLogger",["MediaUploadCancelFalcoEvent","MediaUploadFailureFalcoEvent","MediaUploadFlowFatalFalcoEvent","MediaUploadFlowGiveupFalcoEvent","MediaUploadFlowStartFalcoEvent","MediaUploadFlowSuccessFalcoEvent","MediaUploadInitFailureFalcoEvent","MediaUploadInitStartFalcoEvent","MediaUploadInitSuccessFalcoEvent","MediaUploadProcessFailureFalcoEvent","MediaUploadProcessSkippedFalcoEvent","MediaUploadProcessStartFalcoEvent","MediaUploadProcessSuccessFalcoEvent","MediaUploadStartFalcoEvent","MediaUploadSuccessFalcoEvent","MediaUploadTransferCancelFalcoEvent","MediaUploadTransferFailureFalcoEvent","MediaUploadTransferStartFalcoEvent","MediaUploadTransferSuccessFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a.type){case"MEDIA_RESIZE_START":h(a.fields,b);break;case"MEDIA_RESIZE_SUCCESS":i(a.fields,b);break;case"MEDIA_RESIZE_FAILURE":j(a.fields,b);break;case"MEDIA_UPLOAD_START":k(a.fields,b);break;case"MEDIA_UPLOAD_SUCCESS":l(a.fields,b);break;case"MEDIA_UPLOAD_FAILURE":m(a.fields,b);break;case"MEDIA_UPLOAD_CANCEL":n(a.fields,b);break;case"MEDIA_UPLOAD_PROCESS_START":o(a.fields,b);break;case"MEDIA_UPLOAD_PROCESS_FAILURE":p(a.fields,b);break;case"MEDIA_UPLOAD_PROCESS_CANCEL":q(a.fields,b);break;case"MEDIA_UPLOAD_PROCESS_SKIPPED":r(a.fields,b);break;case"MEDIA_UPLOAD_PROCESS_SUCCESS":s(a.fields,b);break;case"MEDIA_UPLOAD_TRANSFER_START":t(a.fields,b);break;case"MEDIA_UPLOAD_TRANSFER_FAILURE":u(a.fields,b);break;case"MEDIA_UPLOAD_TRANSFER_CANCEL":v(a.fields,b);break;case"MEDIA_UPLOAD_TRANSFER_SUCCESS":w(a.fields,b);break;case"MEDIA_UPLOAD_FLOW_START":x(a.fields,b);break;case"MEDIA_UPLOAD_FLOW_SUCCESS":y(a.fields,b);break;case"MEDIA_UPLOAD_FLOW_FATAL":z(a.fields,b);break;case"MEDIA_UPLOAD_FLOW_GIVEUP":A(a.fields,b);break;case"MEDIA_UPLOAD_INIT_START":B(a.fields,b);break;case"MEDIA_UPLOAD_INIT_SUCCESS":C(a.fields,b);break;case"MEDIA_UPLOAD_INIT_FAILURE":D(a.fields,b);break;default:break}}function h(a,b){var c,d,e,f;({creation_session_id:b,media_id:a==null?void 0:a.media_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",source_file_size:a==null||(c=a.source_file_size)==null?void 0:c.toString(),source_height_int:a==null||(d=a.source_height_int)==null?void 0:d.toString(),source_type:a==null||(e=a.source_type)==null?void 0:e.toString(),source_width_int:a==null||(f=a.source_width_int)==null?void 0:f.toString()})}function i(a,b){var c,d,e,f,g,h;({creation_session_id:b,media_id:a==null?void 0:a.media_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",source_file_size:a==null||(c=a.source_file_size)==null?void 0:c.toString(),source_height_int:a==null||(d=a.source_height_int)==null?void 0:d.toString(),source_type:a==null||(e=a.source_type)==null?void 0:e.toString(),source_width_int:a==null||(f=a.source_width_int)==null?void 0:f.toString(),upload_height_int:a==null||(g=a.upload_height_int)==null?void 0:g.toString(),upload_width_int:a==null||(h=a.upload_width_int)==null?void 0:h.toString()})}function j(a,b){}function k(a,b){c("MediaUploadStartFalcoEvent").log(function(){return E(a,b)})}function l(a,b){c("MediaUploadSuccessFalcoEvent").log(function(){return E(a,b)})}function m(a,b){var d,e,f,g,h={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,error_code:a==null?void 0:a.error_code,error_description:a==null?void 0:a.error_description,error_summary:a==null?void 0:a.error_summary,is_optimistic_upload:a==null?void 0:a.is_optimistic_upload,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_id:a==null?void 0:a.media_id,media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null?void 0:a.source_height,source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker,video_edits_applied:a==null?void 0:a.video_edits_applied};c("MediaUploadFailureFalcoEvent").log(function(){return h})}function n(a,b){var d,e,f,g,h={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,is_optimistic_upload:a==null?void 0:a.is_optimistic_upload,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null?void 0:a.source_height,source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker,video_edits_applied:a==null?void 0:a.video_edits_applied};c("MediaUploadCancelFalcoEvent").log(function(){return h})}function o(a,b){c("MediaUploadProcessStartFalcoEvent").log(function(){return E(a,b)})}function p(a,b){var d,e,f,g,h={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,is_optimistic_upload:a==null?void 0:a.is_optimistic_upload,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null?void 0:a.source_height,source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker,video_edits_applied:a==null?void 0:a.video_edits_applied};c("MediaUploadProcessFailureFalcoEvent").log(function(){return h})}function q(a,b){var d,e,f,g,h={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,is_optimistic_upload:a==null?void 0:a.is_optimistic_upload,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null?void 0:a.source_height,source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker,video_edits_applied:a==null?void 0:a.video_edits_applied};c("MediaUploadProcessFailureFalcoEvent").log(function(){return h})}function r(a,b){var d,e,f,g,h,i={creation_session_id:b,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(d=a.original_file_size)==null?void 0:d.toString(),source:a==null?void 0:a.source,source_bit_rate:a==null||(e=a.source_bit_rate)==null?void 0:e.toString(),source_height:a==null||(f=a.source_height)==null?void 0:f.toString(),source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null||(h=a.source_width)==null?void 0:h.toString()};c("MediaUploadProcessSkippedFalcoEvent").log(function(){return i})}function s(a,b){c("MediaUploadProcessSuccessFalcoEvent").log(function(){return E(a,b)})}function t(a,b){var d,e,f,g,h,i={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_id:a==null?void 0:a.media_id,media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null||(g=a.source_height)==null?void 0:g.toString(),source_type:a==null||(h=a.source_type)==null?void 0:h.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadTransferStartFalcoEvent").log(function(){return i})}function u(a,b){var d,e,f,g,h,i={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null||(g=a.source_height)==null?void 0:g.toString(),source_type:a==null||(h=a.source_type)==null?void 0:h.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadTransferFailureFalcoEvent").log(function(){return i})}function v(a,b){var d,e,f,g,h={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null?void 0:a.source_height,source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadTransferCancelFalcoEvent").log(function(){return h})}function w(a,b){var d,e,f,g,h,i={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_id:a==null?void 0:a.media_id,media_item_fbid:a==null?void 0:a.media_item_fbid,media_session_id:a==null?void 0:a.media_session_id,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null||(g=a.source_height)==null?void 0:g.toString(),source_type:a==null||(h=a.source_type)==null?void 0:h.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadTransferSuccessFalcoEvent").log(function(){return i})}function x(a,b){var d,e={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_id:a==null?void 0:a.media_id,media_type:a==null?void 0:a.media_type,original_file_size:a==null||(d=a.original_file_size)==null?void 0:d.toString(),source:a==null?void 0:a.source,source_type:a==null?void 0:a.source_type,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadFlowStartFalcoEvent").log(function(){return e})}function y(a,b){var d,e,f,g,h,i,j={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_id:a==null?void 0:a.media_id,media_item_fbid:a==null?void 0:a.media_item_fbid,media_type:a==null?void 0:a.media_type,original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),source:a==null?void 0:a.source,source_bit_rate:a==null||(f=a.source_bit_rate)==null?void 0:f.toString(),source_height:a==null||(g=a.source_height)==null?void 0:g.toString(),source_type:a==null||(h=a.source_type)==null?void 0:h.toString(),source_width:a==null||(i=a.source_width)==null?void 0:i.toString(),use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadFlowSuccessFalcoEvent").log(function(){return j})}function z(a,b){var d,e,f,g,h,i,j={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_type:a==null?void 0:a.media_type,original_file_size:a==null||(d=a.original_file_size)==null?void 0:d.toString(),source:a==null?void 0:a.source,source_bit_rate:a==null||(e=a.source_bit_rate)==null?void 0:e.toString(),source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null||(g=a.source_height)==null?void 0:g.toString(),source_type:a==null||(h=a.source_type)==null?void 0:h.toString(),source_width:a==null||(i=a.source_width)==null?void 0:i.toString(),use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadFlowFatalFalcoEvent").log(function(){return j})}function A(a,b){var d={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_type:a==null?void 0:a.media_type,source:a==null?void 0:a.source,source_type:a==null?void 0:a.source_type,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadFlowGiveupFalcoEvent").log(function(){return d})}function B(a,b){var d,e,f,g,h={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null?void 0:a.source_height,source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadInitStartFalcoEvent").log(function(){return h})}function C(a,b){var d,e,f,g,h,i={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null||(g=a.source_height)==null?void 0:g.toString(),source_type:a==null||(h=a.source_type)==null?void 0:h.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadInitSuccessFalcoEvent").log(function(){return i})}function D(a,b){var d,e,f,g,h={author_is_page:a==null?void 0:a.author_is_page,creation_session_id:b,media_data_size:a==null||(d=a.media_data_size)==null?void 0:d.toString(),media_item_fbid:a==null?void 0:a.media_item_fbid,media_type:(b=a==null?void 0:a.media_type)!=null?b:"",original_file_size:a==null||(e=a.original_file_size)==null?void 0:e.toString(),share_type:a==null?void 0:a.share_type,source:a==null?void 0:a.source,source_bit_rate:a==null?void 0:a.source_bit_rate,source_file_size:a==null||(f=a.source_file_size)==null?void 0:f.toString(),source_height:a==null?void 0:a.source_height,source_type:a==null||(g=a.source_type)==null?void 0:g.toString(),source_width:a==null?void 0:a.source_width,use_fb_image_picker:a==null?void 0:a.use_fb_image_picker};c("MediaUploadInitFailureFalcoEvent").log(function(){return h})}function E(a,b){b={creation_session_id:b};return babelHelpers["extends"]({},a,b)}g["default"]=a}),98);
__d("getMediaFile",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.file}f["default"]=a}),66);
__d("getVideoTrimSettings",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.extra.trimData}f["default"]=a}),66);
__d("ComposerMediaFileUploader",["fbt","ActorURI","QuickPerformanceLogger","ReactComposerMediaConfig","VideoUploadFile","VideoUploadFlowNotifier","VideoUploadSurface","VideoUploader","XComposerPhotoUploader","cometComposerMediaUploadLogger","getMediaFile","getVideoTrimSettings","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=function(){function a(){this.subscribers=[]}var b=a.prototype;b.subscribe=function(a){this.subscribers.push(a)};b.notify=function(a){this.subscribers.forEach(function(b){return b(a)})};b.unsubscribe=function(a){this.subscribers=this.subscribers.filter(function(b){return b!==a})};return a}(),k=new Map(),l=function(){function a(a,b,c,e){this.startedObserver=new j();this.progressObserver=new j();this.successObserver=new j();this.errorObserver=new j();this.sphericalImageDetectedObserver=new j();this.uploadStatuses=new Map();this.uploadStatusChangeObserver=new j();this.videoUploadsQueue=[];this.actorID=a;this.videoUploaderConfig=b;this.creationSessionID=c!=null?c:"";this.photoUploader=this.$1(this.actorID,e);this.videoUploader=this.$2(this.videoUploaderConfig,this.creationSessionID);this.videoUploadFlowNotifier=d("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(a=this.videoUploaderConfig.composer_entry_point_ref)!=null?a:"unknown",composer_session_id:(b=this.creationSessionID)!=null?b:"",extended_flow_logging_enabled:!0,source:this.videoUploaderConfig.source});d("VideoUploadSurface").VideoUploadSurface.getOrCreate(d("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(this.videoUploadFlowNotifier,this.creationSessionID)}var b=a.prototype;b.$3=function(a,b){var c;c=(c=this.uploadStatuses.get(a))==null?void 0:c.bytesTotal;if(c==null)return;this.uploadStatuses.set(a,{bytesLoaded:b!=null?b:c,bytesTotal:c});this.uploadStatusChangeObserver.notify(this.uploadStatuses)};b.$1=function(a,b){var e=this;return new(c("XComposerPhotoUploader"))({concurrentLimit:c("ReactComposerMediaConfig").photo.concurrentLimit,onUploadFailure:function(a,b){var c;e.$4(a,"PHOTO",(c=b.response.getErrorDescriptionString())!=null?c:"",null,b.response.error.toString());e.errorObserver.notify({entID:(c=b.response.payload)==null?void 0:c.photoID,error:b.response.getErrorSummary(),uploadID:a})},onUploadIsSpherical:function(a,b,c){a&&b&&e.sphericalImageDetectedObserver.notify({isSpherical:a,sphericalImage:b,uploadID:c})},onUploadProgress:function(a,b){var c=Math.min(1,Math.max(0,b.event.loaded/b.event.total));e.progressObserver.notify({percentComplete:c,uploadID:a});e.$3(a,b.event.loaded)},onUploadStart:function(a,b){e.$5(a,"PHOTO"),e.startedObserver.notify({uploadID:a})},onUploadSuccess:function(a,b){var d=b.response.payload;if(d==null){var f;e.$4(a,"PHOTO",(f=b.response.getErrorDescriptionString())!=null?f:"");e.errorObserver.notify({entID:null,error:b.response.getErrorSummary(),uploadID:a})}else e.$6(a,d.photoID,"PHOTO"),e.successObserver.notify({attachmentType:"PHOTO",entID:d.photoID,imageURL:d.imageSrc,takenTime:d.mediaTakenTime?d.mediaTakenTime*1e3:null,uploadID:a}),e.$3(a),(i||(i=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(741087294,"2028")),i.markerAnnotate(c("qpl")._(741087294,"2028"),{"int":{height:d.height,width:d.width}}),i.markerEnd(c("qpl")._(741087294,"2028"),2)},retryLimit:c("ReactComposerMediaConfig").photo.retryLimit,uploadData:babelHelpers["extends"]({},c("ReactComposerMediaConfig").photo.uploadData,{source:8},b?{work_shared_draft_mode:"drafter_creating"}:{}),uploadEndpoint:d("ActorURI").create(c("ReactComposerMediaConfig").photo.uploadEndpoint,this.actorID)})};b.$2=function(a,b){a=babelHelpers["extends"]({},a,{isMultiMediaPost:!0,waterfall_id:b});return new(c("VideoUploader"))(a)};b.upload=function(a,b){var c=this;a.forEach(function(a){a=a.file;var b=a.uploadID;b!=null&&c.uploadStatuses.get(b)==null&&c.uploadStatuses.set(b,{bytesLoaded:0,bytesTotal:a.size})});this.uploadStatusChangeObserver.notify(this.uploadStatuses);this.$7(a.filter(function(a){a=a.extra;return a.fileType==="PHOTO"}).map(function(a){a=a.file;return a}),b);this.$8(a.filter(function(a){a=a.extra;return a.fileType==="VIDEO"}))};b.$7=function(a,b){a.length>0&&this.photoUploader.getAsyncUploadRequest(a,{preventDefaultErrorHandler:b}).send()};b.$8=function(a){var b=this;a.length>0&&(this.videoUploadsQueue=this.videoUploadsQueue.concat(a));if(this.videoUploadsQueue.length>0&&!this.videoUploader.isSessionExist()){a=this.videoUploadsQueue.shift();var d=c("getMediaFile")(a);this.currentVideoUploadID=d.uploadID;this.videoUploader=this.$2(this.videoUploaderConfig,this.creationSessionID);var e=this.videoUploader;e.subscribe("upload-started",function(a,c){a=d.uploadID;b.$5(a!=null?a:"","VIDEO");a!=null&&b.startedObserver.notify({uploadID:a})});e.subscribe("upload-progressed",function(a,c){a=Math.min(1,Math.max(0,(c.start_offset+c.sent_bytes)/c.file_size));var f=d.uploadID;f!=null&&(b.progressObserver.notify({entID:e.getVideoID(),percentComplete:a,uploadID:f}),b.$3(f,c.start_offset+c.sent_bytes))});e.subscribe("upload-finished",function(a,c){e.reset();a=d.uploadID;b.$6(a!=null?a:"",c.video_id,"VIDEO");a!=null&&(b.successObserver.notify({attachmentType:"VIDEO",entID:c.video_id,uploadID:a}),b.$3(a));b.$8([])});e.subscribe("upload-failed",function(a,c){a=d.uploadID;b.$4(a!=null?a:"","VIDEO",c.error_description,c.video_id,c.error_code,c.error_summary);if(a!=null){b.errorObserver.notify({entID:c.video_id,error:(c=c.error_description)!=null?c:h._(/*BTDS*/"Something went wrong and your video couldn't be uploaded. Please try again."),uploadID:a})}b.$8([])});e.subscribe("upload-canceled",function(a){a=d.uploadID;b.$9(a!=null?a:"","VIDEO")});this.videoUploadFlowNotifier.registerVideoUpload(e,d.uploadID);var f=null;a=c("getVideoTrimSettings")(a);a!=null&&(f=[{params:{trim_end:a.videoTrimEnd,trim_start:a.videoTrimStart},type:"VideoTrim"}]);e.upload(c("VideoUploadFile").fromFile(d),{creativeTools:f})}};b.$5=function(a,b){c("cometComposerMediaUploadLogger")({fields:{media_id:a,media_type:b},type:"MEDIA_UPLOAD_TRANSFER_START"},this.creationSessionID)};b.$6=function(a,b,d){c("cometComposerMediaUploadLogger")({fields:{media_id:a,media_item_fbid:b,media_type:d},type:"MEDIA_UPLOAD_TRANSFER_SUCCESS"},this.creationSessionID),c("cometComposerMediaUploadLogger")({fields:{media_id:a,media_item_fbid:b,media_type:d},type:"MEDIA_UPLOAD_SUCCESS"},this.creationSessionID),c("cometComposerMediaUploadLogger")({fields:{media_id:a,media_item_fbid:b,media_type:d},type:"MEDIA_UPLOAD_FLOW_SUCCESS"},this.creationSessionID)};b.$4=function(a,b,d,e,f,g){c("cometComposerMediaUploadLogger")({fields:{error_code:f,error_description:d,error_summary:g,media_id:a,media_item_fbid:e,media_type:b},type:"MEDIA_UPLOAD_FAILURE"},this.creationSessionID)};b.$9=function(a,b){c("cometComposerMediaUploadLogger")({fields:{media_id:a,media_type:b},type:"MEDIA_UPLOAD_CANCEL"},this.creationSessionID)};b.getCreationSessionID=function(){return this.creationSessionID};b.cancelUpload=function(a,b){b==="VIDEO"&&(this.videoUploadsQueue=this.videoUploadsQueue.filter(function(b){return c("getMediaFile")(b).uploadID!==a}),this.currentVideoUploadID===a&&(this.videoUploader.cancel(),this.$8([])))};return a}();a={createOrGetInstance:function(a,b,c,e,f){e===void 0&&(e=!1);f===void 0&&(f=!1);e=k.get(a)||new l(a,b,c,e);if(e.creationSessionID!==c||f){e.creationSessionID=c!=null?c:"";e.videoUploaderConfig=b;e.videoUploadFlowNotifier=d("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(f=e.videoUploaderConfig.composer_entry_point_ref)!=null?f:"unknown",composer_session_id:c!=null?c:"",extended_flow_logging_enabled:!0,source:e.videoUploaderConfig.source});d("VideoUploadSurface").VideoUploadSurface.getOrCreate(d("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(e.videoUploadFlowNotifier,e.creationSessionID)}k.set(a,e);b=function(){k["delete"](a)};return[e,b]},getInstance:function(a){return k.get(a)}};g["default"]=a}),226);
__d("CometComposerDraftingUtils",["ComposerMediaFileUploader","FBLogger","LexicalText","MWPActor.react","Promise","ReactDOM","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["lexicalEditor","mediaUploadStatuses","onCloseUnderlyingDialog","videoComposerData"],i,j="comet_composer_drafts",k="drafts",l=1,m="draft_content",n=1;function a(){var a;return d("MWPActor.react").isAPPlus()||d("MWPActor.react").isPromode()?!1:(a=c("qex")._("1805"))!=null?a:!1}function e(){var a;return(a=c("qex")._("538"))!=null?a:!0}function o(a){return new(i||(i=b("Promise")))(function(b,c){var d=window.indexedDB.open(j,l);d.onerror=function(){c(d.error)};d.onupgradeneeded=function(a){a=a.target.result;if(!a.objectStoreNames.contains(k)){a=a.createObjectStore(k,{keyPath:"id"});a.createIndex(m,[m],{unique:!1})}};d.onsuccess=function(c){var d=c.target.result;c=d.transaction(k,"readwrite");var e=c.objectStore(k);e.put({draftViewState:a,id:n});c.oncomplete=function(){d.close(),b(!0)}}})}function f(){return new(i||(i=b("Promise")))(function(a,b){var c=window.indexedDB.open(j,l);c.onerror=function(){b(c.error)};c.onsuccess=function(c){var d=c.target.result;if(!d.objectStoreNames.contains(k))d.close(),window.indexedDB.deleteDatabase(j),b();else{var e=d.transaction(k,"readonly");c=e.objectStore(k);var f=c.get(n);e.oncomplete=function(){d.close(),a(f)};e.onerror=function(){d.close(),b(e.error)}}};c.onerror=function(){b(c.error)}})}function p(){return new(i||(i=b("Promise")))(function(a,b){var c=window.indexedDB.deleteDatabase(j);c.onsuccess=function(){a(!0)};c.onerror=function(){b(c.error)}})}function q(a,e,f,g){var h=c("ComposerMediaFileUploader").getInstance(e);e=[];if(a.mediaUploadStatuses){g==null||g();for(g in a.mediaUploadStatuses)e.push(a.mediaUploadStatuses[g].onFileComplete)}else return(i||(i=b("Promise"))).resolve();if(e.length>0&&h!=null){var j=function(a){d("ReactDOM").flushSync(function(){return f({draftState:"PREEXISTING",entID:a.entID,imageURL:a.attachmentType==="PHOTO"?a.imageURL:void 0,takenTime:a.attachmentType==="PHOTO"?a.takenTime:void 0,type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:a.uploadID})})};h.successObserver.subscribe(j);return(i||(i=b("Promise"))).all(e).then(function(){return(i||(i=b("Promise"))).resolve()})["catch"](function(a){var d;c("FBLogger")("comet_composer").mustfix("Media upload failed during draft save","Error: "+((d=a==null?void 0:a.message)!=null?d:"Unknown error"));return(i||(i=b("Promise"))).reject(a)})["finally"](function(){h.successObserver.unsubscribe(j)})}else return(i||(i=b("Promise"))).resolve()}function r(a,b,e,f){var g,i;g=(g=a.lexicalEditor)==null?void 0:g.getEditorState();g=g==null?void 0:g.toJSON();var j=a.lexicalEditor;a.mediaUploadStatuses;a.onCloseUnderlyingDialog;a.videoComposerData;a=babelHelpers.objectWithoutPropertiesLoose(a,h);j=j==null||(i=j.getEditorState())==null?void 0:i.read(d("LexicalText").$rootTextContent);a=babelHelpers["extends"]({},a,{draftedPostText:j,serializedLexicalEditorState:g});o(a).then(function(){b!=null&&b(),f==null||f(),e==null||e({ignoreIsSavingFlag:!0})})["catch"](function(a){c("FBLogger")("comet_composer").mustfix(a)})}g.canDraftPosts=a;g.shouldShowDraftsInline=e;g.addDraftToIndexedDB=o;g.getDraftFromIndexedDB=f;g.deleteDraftFromIndexedDB=p;g.processMediaUpload=q;g.createSerializedDraft=r}),98);
__d("CometComposerFeatureDefinitionsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({featureDefinitions:null});g["default"]=b}),98);
__d("CometComposerFormRefContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({current:null});g["default"]=b}),98);
__d("CometComposerIneligibilityContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(new Set());g["default"]=b}),98);
__d("CometComposerLoggerDispatcherContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("CometComposerPluginsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({decorators:new Map(),handlers:new Map()});g["default"]=b}),98);
__d("CometComposerPluginsDispatchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("CometComposerPreSubmitHooksContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({current:new Map()});g["default"]=b}),98);
__d("CometComposerValidationErrorsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({});g["default"]=b}),98);
__d("CometComposerViewStateAlteredContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({current:new Map()});g["default"]=b}),98);
__d("CometComposerViewStateReducersContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({current:new Map()});g["default"]=b}),98);
__d("CometOnBeforeUnload.react",["useOnBeforeUnload"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.onBeforeUnload;c("useOnBeforeUnload")(a);return null}g["default"]=a}),98);
__d("cometComposerPluginsReducers",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.get(b);if(c!=null){a.set(b,c+1);return a}else{c=new Map(a);c.set(b,1);return c}}function h(a,b){var c=a.get(b);if(c!=null)if(c>1)a.set(b,c-1);else{c=new Map(a);c["delete"](b);return c}return a}function a(a,b){switch(b.type){case"install_decorator":case"uninstall_decorator":var c=b.type==="install_decorator"?g(a.decorators,b.decorator):h(a.decorators,b.decorator);if(c!==a.decorators)return babelHelpers["extends"]({},a,{decorators:c});break;case"install_handler":case"uninstall_handler":c=b.type==="install_handler"?g(a.handlers,b.handler):h(a.handlers,b.handler);if(c!==a.handlers)return babelHelpers["extends"]({},a,{handlers:c});break}return a}f["default"]=a}),66);
__d("createEmptyCometComposerViewStateWithTarget",["createEmptyCometComposerViewState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){b=c("createEmptyCometComposerViewState")(b);return babelHelpers["extends"]({},b,{target:a})}}g["default"]=a}),98);
__d("getComposerValidationErrors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};for(var d in a){var e=a[d];e=e(b);e!=null&&(c[d]=e)}return c}f["default"]=a}),66);
__d("getIneligibleComposerFeatures",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set();for(var d in a){var e=a[d];e=e(b);e!=null&&e.forEach(function(a){return c.add(a)})}return c}f["default"]=a}),66);
__d("getShouldTriggerUnsavedChangesFlow",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!Boolean(a==null?void 0:a.ignoreDirtyFlag)&&Boolean(a==null?void 0:a.isDirty)}f["default"]=a}),66);
__d("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.draftEditorState.getCurrentContent().getPlainText();default:return a}}f["default"]=a}),66);
__d("isAttachmentEmpty",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.isEmptyMetaData)==null?void 0:b.useIsEmpty)!==!0)return!1;if(((b=a.attachmentArea)==null?void 0:b.activeAttachmentType)!=null){if(a.attachmentArea.activeAttachmentType==="MEDIA"&&(a.mediaAttachments==null||a.mediaAttachments.length===0))return!0;if(a.attachmentArea.activeAttachmentType!=="FORMATTED_TEXT")return!1}if(((b=a.footerAttachmentArea)==null?void 0:b.activeFooterAttachmentType)!=null)return!1;if(a.withTagIDsTracker!=null&&a.withTagIDsTracker.size>0)return!1;if(a.activityMinutiae!=null)return!1;return a.locationMinutiae!=null?!1:!0}f["default"]=a}),66);
__d("isComposerEmpty",["cr:47","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","gkx","isAttachmentEmpty"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a!=null&&a.editorState?c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(a==null?void 0:a.editorState).trim():"";return a.length===0}var i=c("gkx")("20836");function a(a){var d;if(((d=a.isEmptyMetaData)==null?void 0:d.useIsEmpty)!==!0)return!1;if(i&&a.lexicalEditorIsEmpty===!1)return!1;if(!i&&a.lexicalEditorIsDirty===!0)return!1;if(a.lexicalEditor==null&&!h(a))return!1;if(!c("isAttachmentEmpty")(a))return!1;return b("cr:47")!=null&&b("cr:47")(a)?!1:!0}g["default"]=a}),98);
__d("reduceComposerViewState",["CometComposerDirtyTracker","isComposerEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){var h=e;a=a.current.keys();for(a of a)h=a(h,g);g=h.lexicalEditorIsDirty===!0||Array.from(b.current.keys()).some(function(a){a=a(f,h);return a===!0||a==="UPDATED"||a==="DELETED"});a=c("isComposerEmpty")(h);d("CometComposerDirtyTracker").setIsComposerDirty(e.creationSessionID,a?!1:g);return babelHelpers["extends"]({},h,{isDirty:g,isEmptyMetaData:{isEmpty:a,useIsEmpty:(e=(b=h.isEmptyMetaData)==null?void 0:b.useIsEmpty)!=null?e:!0}})}g["default"]=a}),98);
__d("useComposerLexicalEligibilityCheckHooks.react",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set();if(b!=null)for(var d in b){var e=b[d];e=e(a);e.size>0&&e.forEach(function(a){return c.add(a)})}return c}f["default"]=a}),66);
__d("useComposerLexicalValidationHooks.react",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};if(b!=null)for(var d in b){var e=b[d];e=e(a);e!=null?c[d]=e:c[d]!=null&&delete c[d]}return c}f["default"]=a}),66);
__d("CometComposer.react",["Actor","CometComposerDraftingUtils","CometComposerFeatureDefinitionsContext","CometComposerFormRefContext","CometComposerIneligibilityContext","CometComposerLoggerDispatcherContext","CometComposerPluginsContext","CometComposerPluginsDispatchContext","CometComposerPreSubmitHooksContext","CometComposerValidationErrorsContext","CometComposerViewStateAlteredContext","CometComposerViewStateContext","CometComposerViewStateDispatcherContext","CometComposerViewStateReducersContext","CometOnBeforeUnload.react","FBLogger","Promise","cometComposerPluginsReducers","cr:8094","createEmptyCometComposerViewStateWithTarget","getComposerUnsavedChangesAlert","getComposerValidationErrors","getIneligibleComposerFeatures","getShouldTriggerUnsavedChangesFlow","react","reduceComposerViewState","shallowEqual","useComposerLexicalEligibilityCheckHooks.react","useComposerLexicalValidationHooks.react","useComposerTerminalEventLog"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useEffect,n=e.useImperativeHandle,o=e.useMemo,p=e.useReducer,q=e.useRef;function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=a.beginningViewState,g=a.children,j=a.eligibilityCheckers,r=a.featureDefinitions,s=a.lexicalEligibilityCheckHooks,t=a.lexicalValidationHooks,u=a.loggers,v=a.onBeforeViewStateChange,w=a.onClose,x=a.onSaveDraftEnd,y=a.onSaveDraftStart,z=a.onSubmitCommit,A=a.onSubmitHalt,B=a.onSubmitStart,C=a.onValidationErrors,D=a.registerOnBeforeUnload;D=D===void 0?!0:D;var E=a.target,F=a.unalteredBeginningViewState,G=a.validators,H=q(new Map()),I=q(new Map()),J=q({}),K=q(new Set()),L=q(new Map()),M=q(null);a=q(null);f=p(function(a,b){b=c("reduceComposerViewState")(H,I,a,F,b);M.current=b;v&&v(b,a);return b},f,c("createEmptyCometComposerViewStateWithTarget")(E));var N=f[0],O=f[1];f=function(){if(c("getShouldTriggerUnsavedChangesFlow")(N))return c("getComposerUnsavedChangesAlert")(N)};var P=b("cr:8094")(),Q=d("Actor").useActor(),R=Q[0],S=q(null);n(e,function(){return{getViewState:function(){return N},submitAsDraft:function(){d("CometComposerDraftingUtils").canDraftPosts()&&S.current!=null&&d("CometComposerDraftingUtils").processMediaUpload(N,R,O,y).then(function(){var a;a=(a=M.current)!=null?a:N;d("CometComposerDraftingUtils").createSerializedDraft(a,P,w,x)})["catch"](function(a){c("FBLogger")("comet_composer").mustfix("Error creating a draft in the composer: "+a),x==null||x()})}}},[N,R,y,P,w,x]);Q=p(c("cometComposerPluginsReducers"),{decorators:new Map(),handlers:new Map()});e=Q[0];Q=Q[1];var T=o(function(){return G!=null?c("getComposerValidationErrors")(G,N):{}},[G,N]);t=c("useComposerLexicalValidationHooks.react")(N,t);T=babelHelpers["extends"]({},T,t);c("shallowEqual")(J.current,T)||(J.current=T);var U=o(function(){return j!=null?c("getIneligibleComposerFeatures")(j,N):new Set()},[j,N]);t=c("useComposerLexicalEligibilityCheckHooks.react")(N,s);T=o(function(){return{featureDefinitions:r}},[r]);(K.current.size!==U.size+t.size||!Array.from(U).every(function(a){return K.current.has(a)})||!Array.from(t).every(function(a){return K.current.has(a)}))&&(t.forEach(function(a){return U.add(a)}),K.current=new Set(U));var V=l(function(a,c){a!=null&&a.type!=="press"&&a.preventDefault();if(Object.keys(J.current).length>0){C&&C(J.current);return}var d=M.current;if(d==null)return;B&&B(d);a=L.current;if(a){a=Array.from(a.keys()).reduce(function(a,e){return a.then(function(){return new(i||(i=b("Promise")))(function(a,b){e({onContinue:a,onHalt:b},d,c)})})},(i||(i=b("Promise"))).resolve());a.then(function(){z(d,c)})["catch"](function(){A&&A(d)})}else z(d,c)},[z,A,B,C]),W=N.creationSessionID;m(function(){S.current=V},[V]);s=o(function(){return function(a){W==null?c("FBLogger")("comet_composer").mustfix("creationSessionID should be defined in composer of type "+String(E==null?void 0:E.type)):(u!=null?u:[]).map(function(b){return b(a,W,{target:E})})}},[W,E,u]);c("useComposerTerminalEventLog")(function(){return c("getShouldTriggerUnsavedChangesFlow")(N)},function(){return W});return k.jsx(c("CometComposerPluginsDispatchContext").Provider,{value:Q,children:k.jsx(c("CometComposerPluginsContext").Provider,{value:e,children:k.jsx(c("CometComposerFeatureDefinitionsContext").Provider,{value:T,children:k.jsx(c("CometComposerViewStateReducersContext").Provider,{value:H,children:k.jsx(c("CometComposerViewStateAlteredContext").Provider,{value:I,children:k.jsx(c("CometComposerViewStateContext").Provider,{value:N,children:k.jsx(c("CometComposerViewStateDispatcherContext").Provider,{value:O,children:k.jsx(c("CometComposerValidationErrorsContext").Provider,{value:J.current,children:k.jsx(c("CometComposerIneligibilityContext").Provider,{value:K.current,children:k.jsx(c("CometComposerLoggerDispatcherContext").Provider,{value:s,children:k.jsx(c("CometComposerPreSubmitHooksContext").Provider,{value:L,children:k.jsxs(c("CometComposerFormRefContext").Provider,{value:a,children:[k.jsxs("form",{"data-testid":void 0,method:"POST",onSubmit:V,ref:a,children:[o(function(){return g(V)},[g,V]),k.jsx("input",{style:{display:"none"},type:"submit"})]}),D?k.jsx(c("CometOnBeforeUnload.react"),{onBeforeUnload:f}):null]})})})})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMentionsA11yContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(function(){});g["default"]=b}),98);
__d("DeferredDraftEditorDEPRECATED.react",["CometPlaintextEditor.react","SubscriptionsHandler","cr:2012305","react","requireDeferred","stylex","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h=["editorState"],i,j,k=j||d("react"),l=c("requireDeferred")("DraftEditor.react").__setRef("DeferredDraftEditorDEPRECATED.react"),m=c("requireDeferred")("EditorState").__setRef("DeferredDraftEditorDEPRECATED.react"),n=c("requireDeferred")("getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE").__setRef("DeferredDraftEditorDEPRECATED.react"),o={root:{boxSizing:"x9f619",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function p(){return{DraftEditor:l.getModuleIfRequireable(),EditorState:m.getModuleIfRequireable(),getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE:n.getModuleIfRequireable()}}a=function(a){function d(){var b;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=a.call.apply(a,[this].concat(f))||this,b.$1=k.createRef(),b.$2=null,b.$3=k.createRef(),b.$4=new(c("SubscriptionsHandler"))(),b.$5=function(a){var c=b.props.handlePastedFiles;if(c){var d=a.clipboardData;d=d.items!=null?Array.from(d.items):[];d=d.map(function(a){return a.getAsFile()}).filter(Boolean);d.length&&(c(d)==="handled"&&a.preventDefault())}},b.$9=function(a){b.$8(a,b.$2),b.$2=a},b.$10=function(a){b.$1.current=a;a=a==null?void 0:a.editor;var c=b.props.onInputRefUpdate;c!=null&&c(a instanceof HTMLDivElement?a:null)},b.$6=function(){var a=b.props.editorState;if(a.__type!==d.PLAIN_TEXT||a.isPendingSelection||a.isComposing||!d.richDependenciesAreMet())return;var c=p();c=c.getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE;if(c==null)return;var e=b.props,f=e.decorator;e=e.onStateChange;e&&e({__type:d.EDITOR_STATE,draftEditorState:c(a,f)})},b.onEditorStateChange=function(a){if(b.props.onStateChange!=null){var c=b.props.editorState;c.draftEditorState!==a&&b.props.onStateChange(c.__type===d.EDITOR_STATE?babelHelpers["extends"]({},c,{draftEditorState:a}):{__type:d.EDITOR_STATE,draftEditorState:a})}},b.onPlainTextChange=function(a){b.props.onStateChange&&b.props.onStateChange(a)},b.onPlaintextReturn=function(a){b.props.handleReturn&&b.props.handleReturn(a)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(d,a);d.richDependenciesAreMet=function(){var a=p();for(var b in a)if(a[b]==null)return!1;return!0};d.createEmptyComposerState=function(){var a=p();a=a==null?void 0:a.EditorState;return a!=null&&d.richDependenciesAreMet()?{__type:d.EDITOR_STATE,draftEditorState:a.createEmpty()}:{__type:d.PLAIN_TEXT,hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}};var e=d.prototype;e.componentDidMount=function(){var a=this.props.autoFocus;!d.richDependenciesAreMet()?this.$4.addSubscriptions(l.onReady(this.$6),m.onReady(this.$6),n.onReady(this.$6)):this.$6();a===!0&&this.focusEnd()};e.focus=function(){this.$3.current!=null?this.$3.current.focus():this.$1.current!=null&&this.$1.current.focus()};e.focusEnd=function(){if(this.$3.current!=null)this.$3.current.focusEnd();else if(this.$1.current!=null){var a=m.getModuleIfRequired(),b=this.props.onStateChange;if(a!=null&&b!=null){var c=this.props.editorState;c.draftEditorState&&b({__type:"editor-state-based",draftEditorState:a.moveFocusToEnd(c.draftEditorState)})}}};e.componentDidUpdate=function(a){this.$6();if(a.typingPerformanceAnnotations!==this.props.typingPerformanceAnnotations){a=this.$2;a&&(this.$7(),this.$8(a))}};e.$8=function(a,c){if(b("cr:2012305")===null||a==null)return;var d=this.props,e=d.blockStyleFn;d=d.typingPerformanceAnnotations;d=babelHelpers["extends"]({},d,{editor:"DraftjsEditor",format:e!=null?"RichText":"PlainText"});b("cr:2012305").trackTypingPerf(a,(e=this.props.typingPerformanceID)!=null?e:"DeferredDraftEditorDEPRECATED",c,d)};e.componentWillUnmount=function(){this.$4.release(),this.$7()};e.$7=function(){c("vulture")("xg8IJ3psxPIsk8WjT4O9h8WoUps=");var a=this.$2;a&&b("cr:2012305")&&b("cr:2012305").unregisterTypingPerf(a)};e.render=function(){var a=p();a=a==null?void 0:a.DraftEditor;var b=this.props,e=b.editorState;b=babelHelpers.objectWithoutPropertiesLoose(b,h);if(a&&e.__type===d.EDITOR_STATE)return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.root,this.props.xstyle),{children:k.jsx(a,babelHelpers["extends"]({},b,{editorRef:this.$9,editorState:e.draftEditorState,onChange:this.onEditorStateChange,onClick:this.props.onClick,placeholder:this.props.placeholder,placeholderClassName:i(this.props.placeholderXStyle),ref:this.$10,tabIndex:0,webDriverTestID:this.props.testid!==void 0?this.props.testid+":rich-input":void 0}))}));else if(e.__type===d.EDITOR_STATE)throw l.load();else if(e.__type===d.PLAIN_TEXT)return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.root,this.props.xstyle),{children:k.jsx(c("CometPlaintextEditor.react"),{"aria-labelledby":this.props.ariaLabelledBy,editorState:e,onClick:this.props.onClick,onInputRefUpdate:this.props.onInputRefUpdate,onPaste:this.$5,onReturn:this.onPlaintextReturn,onStateChange:this.onPlainTextChange,placeholder:this.props.placeholder,placeholderXStyle:this.props.placeholderXStyle,ref:this.$3,testid:void 0})}))};return d}(k.PureComponent);a.EDITOR_STATE="editor-state-based";a.PLAIN_TEXT="plain-text";g["default"]=a}),98);
__d("DraftEditorFlushControlled",["ReactDOM"],(function(a,b,c,d,e,f){e.exports=b("ReactDOM").flushSync}),null);
__d("composerEditorRefViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"update_editor_ref":if(b.editorRef!==a.editorRef)return babelHelpers["extends"]({},a,{editorRef:b.editorRef});break}return a}f["default"]=a}),66);
__d("composerEditorStateViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"update_editor_state":if(b.editorState!==a.editorState)return babelHelpers["extends"]({},a,{editorState:b.editorState});break;case"update_draft_editor_state":var c=a.editorState;if(c!=null&&c.__type==="editor-state-based"&&c.draftEditorState!==b.draftEditorState)return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},c,{draftEditorState:b.draftEditorState})});break}return a}f["default"]=a}),66);
__d("composerTextStateChecker",["getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return(a==null?void 0:a.__type)==="editor-state-based"?a.draftEditorState.getCurrentContent():null};function a(a,b){var d=h(a==null?void 0:a.editorState),e=h(b.editorState);if(d&&e)return!d.equals(e);d=a!=null&&a.editorState?c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(a==null?void 0:a.editorState).trim():"";e=b!=null&&b.editorState?c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(b==null?void 0:b.editorState).trim():"";return d!==e}g["default"]=a}),98);
__d("KeyBindingUtil",["UserAgent","isSoftNewlineEvent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h={isCtrlKeyCommand:function(a){return!!a.ctrlKey&&!a.altKey},isOptionKeyCommand:function(a){return g&&a.altKey},usesMacOSHeuristics:function(){return g},hasCommandModifier:function(a){return g?!!a.metaKey&&!a.altKey:h.isCtrlKeyCommand(a)},isSoftNewlineEvent:b("isSoftNewlineEvent")};e.exports=h}),null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h=g&&b("UserAgent").isBrowser("Firefox < 29"),i=b("KeyBindingUtil").hasCommandModifier,j=b("KeyBindingUtil").isCtrlKeyCommand;function k(a){return g&&a.altKey||j(a)}function l(a){return!i(a)?null:a.shiftKey?"redo":"undo"}function m(a){return!g&&a.shiftKey?null:k(a)?"delete-word":"delete"}function n(a){return i(a)&&g?"backspace-to-start-of-line":k(a)?"backspace-word":"backspace"}function a(a){switch(a.keyCode){case 66:return i(a)?"bold":null;case 68:return j(a)?"delete":null;case 72:return j(a)?"backspace":null;case 73:return i(a)?"italic":null;case 74:return i(a)?"code":null;case 75:return g&&j(a)?"secondary-cut":null;case 77:return j(a)?"split-block":null;case 79:return j(a)?"split-block":null;case 84:return g&&j(a)?"transpose-characters":null;case 85:return i(a)?"underline":null;case 87:return g&&j(a)?"backspace-word":null;case 88:return i(a)&&a.shiftKey?"strikethrough":null;case 89:return j(a)?g?"secondary-paste":"redo":null;case 90:return l(a)||null;case 187:return i(a)?"superscript":null;case 189:return i(a)?"subscript":null;case b("Keys").RETURN:return"split-block";case b("Keys").DELETE:return m(a);case b("Keys").BACKSPACE:return n(a);case b("Keys").LEFT:return h&&i(a)?"move-selection-to-start-of-block":null;case b("Keys").RIGHT:return h&&i(a)?"move-selection-to-end-of-block":null;default:return null}}e.exports=a}),null);
__d("useCometComposerFormRef",["CometComposerFormRefContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("CometComposerFormRefContext"));return a.current}g["default"]=a}),98);
__d("useCometMentionsARIAProperties",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(){var a=d("react-compiler-runtime").c(4),b=i(),c=b[0],e=b[1];b=i();var f=b[0],g=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a,b){g(a),e(b)},a[0]=b):b=a[0];b=b;a[1]!==f||a[2]!==c?(b=[{ariaActiveDescendantID:f,ariaControls:c},b],a[1]=f,a[2]=c,a[3]=b):b=a[3];return b}g["default"]=a}),98);
__d("useComposerViewStateReducer",["CometComposerViewStateAlteredContext","CometComposerViewStateReducersContext","useContextRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=h;c("useContextRef")(b!=null?b:d,c("CometComposerViewStateAlteredContext"));return c("useContextRef")(a,c("CometComposerViewStateReducersContext"))}function h(a,b){return!1}g["default"]=a}),98);
__d("useMemoCompositeDecorator",["CometComposerPluginsContext","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useState,m=c("requireDeferred")("CompositeDraftDecorator").__setRef("useMemoCompositeDecorator");function a(){var a=i(c("CometComposerPluginsContext")),b=a.decorators,d=m.getModuleIfRequired();a=l(d!=null);a[0];var e=a[1];j(function(){var a=m.onReady(function(){e(!0)});return a.remove},[]);return k(function(){if(d==null)return null;if(b.size===0)return null;var a=Array.from(b.keys());a.sort(function(a,b){return a.priority-b.priority});return new d(a)},[b,d])}g["default"]=a}),98);
__d("CometComposerEditor.react",["CometComposerPluginsContext","CometMentionsA11yContext","DeferredDraftEditorDEPRECATED.react","DraftEditorFlushControlled","Keys","composerEditorRefViewStateReducer","composerEditorStateViewStateReducer","composerTextStateChecker","cr:21275","getDefaultKeyBinding","isSoftNewlineEvent","react","react-compiler-runtime","requireDeferred","useCometComposerFormRef","useCometMentionsARIAProperties","useComposerViewStateDispatcher","useComposerViewStateReducer","useMemoCompositeDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","autoFocus","draftEditorRendering","editorState","onChange","onEscape","readOnly","renderLabel","spellCheck","stripPastedStyles","submitOnEnter","testid","textAlignment","textDirectionality","typingPerformanceAnnotations","typingPerformanceID"],i=["handleBeforeInput","handleDrop","handleDroppedFiles","handleKeyCommand","handlePastedFiles","handlePastedText","handleReturn","keyBindingFn","placeholder"],j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.useRef,p=c("requireDeferred")("EditorState").__setRef("CometComposerEditor.react"),q=(f=b("cr:21275"))!=null?f:k.Fragment,r={root:{boxSizing:"x9f619",display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function s(a,b){if(a==null)return b;return b==null?a:function(){var c=a.apply(void 0,arguments);return c==="handled"?c:b.apply(void 0,arguments)}}function t(a,b){if(a==null)return b;return b==null?a:function(c){var d=b(c);d==null&&(d=a(c));return d}}function u(a,b,c){switch(a){case"ComposerEditor/submit":return"handled"}return"not-handled"}function v(a){var b=l(c("CometComposerPluginsContext")),d=b.handlers;return n(function(){var b=Array.from(d.keys());b.sort(function(a,b){return a.priority-b.priority});return b.reduce(function(a,b){return{handleBeforeInput:s(a.handleBeforeInput,b.handleBeforeInput),handleDrop:s(a.handleDrop,b.handleDrop),handleDroppedFiles:s(a.handleDroppedFiles,b.handleDroppedFiles),handleKeyCommand:s(a.handleKeyCommand,b.handleKeyCommand),handlePastedFiles:s(a.handlePastedFiles,b.handlePastedFiles),handlePastedText:s(a.handlePastedText,b.handlePastedText),handleReturn:s(a.handleReturn,b.handleReturn),keyBindingFn:t(a.keyBindingFn,b.keyBindingFn)}},a)},[d,a.handleBeforeInput,a.handleDrop,a.handleDroppedFiles,a.handleKeyCommand,a.handlePastedFiles,a.handlePastedText,a.handleReturn,a.keyBindingFn])}function a(a){var b=d("react-compiler-runtime").c(100),e,f,g,j,l,n,s,w,x,y,z,A,B,C,D,E,F;b[0]!==a?(n=a.ref,w=a.autoFocus,e=a.draftEditorRendering,f=a.editorState,g=a.onChange,j=a.onEscape,x=a.readOnly,s=a.renderLabel,y=a.spellCheck,z=a.stripPastedStyles,A=a.submitOnEnter,B=a.testid,C=a.textAlignment,D=a.textDirectionality,E=a.typingPerformanceAnnotations,F=a.typingPerformanceID,l=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=l,b[6]=n,b[7]=s,b[8]=w,b[9]=x,b[10]=y,b[11]=z,b[12]=A,b[13]=B,b[14]=C,b[15]=D,b[16]=E,b[17]=F):(e=b[1],f=b[2],g=b[3],j=b[4],l=b[5],n=b[6],s=b[7],w=b[8],x=b[9],y=b[10],z=b[11],A=b[12],B=b[13],C=b[14],D=b[15],E=b[16],F=b[17]);a=w===void 0?!0:w;w=x===void 0?!1:x;x=y===void 0?!0:y;y=z===void 0?!0:z;var G=A===void 0?!1:A,H=o(!1),I=o(!1),J=c("useCometComposerFormRef")();c("useComposerViewStateReducer")(c("composerEditorStateViewStateReducer"),c("composerTextStateChecker"));c("useComposerViewStateReducer")(c("composerEditorRefViewStateReducer"));b[18]!==f?(z=f!=null&&f.__type==="editor-state-based"?f.draftEditorState.isInCompositionMode():!1,b[18]=f,b[19]=z):z=b[19];var K=z;b[20]!==K||b[21]!==J?(A=function(){if(H.current&&!K&&I.current){I.current=!1;if(J!=null){var a=new Event("submit",{bubbles:!0,cancelable:!0});J.dispatchEvent(a)}}H.current=K},z=[K,J],b[20]=K,b[21]=J,b[22]=A,b[23]=z):(A=b[22],z=b[23]);m(A,z);b[24]!==J?(A=function(a){if(J!=null&&J instanceof HTMLFormElement){a.preventDefault();if(H.current)I.current=!0;else{typeof window.Event==="function"?a=new Event("submit",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("submit",!0,!0));J.dispatchEvent(a)}return"ComposerEditor/submit"}},b[24]=J,b[25]=A):A=b[25];var L=A;b[26]!==L?(z=function(a){if(a.keyCode===c("Keys").RETURN&&!c("isSoftNewlineEvent")(a))return L(a)},b[26]=L,b[27]=z):z=b[27];var M=z;b[28]!==L?(A=function(a){if(a.keyCode===c("Keys").RETURN&&(a.metaKey||a.ctrlKey))return L(a)},b[28]=L,b[29]=A):A=b[29];var N=A;b[30]!==j?(z=function(a){if(a.keyCode===c("Keys").ESC&&j!=null)return j()},b[30]=j,b[31]=z):z=b[31];var O=z,P,Q,R,S,T,U,V,W;if(b[32]!==l){A=l;z=A.handleBeforeInput;P=A.handleDrop;Q=A.handleDroppedFiles;R=A.handleKeyCommand;S=A.handlePastedFiles;T=A.handlePastedText;U=A.handleReturn;V=A.keyBindingFn;W=A.placeholder;A=babelHelpers.objectWithoutPropertiesLoose(A,i);b[32]=l;b[33]=A;b[34]=z;b[35]=P;b[36]=Q;b[37]=R;b[38]=S;b[39]=T;b[40]=U;b[41]=V;b[42]=W}else A=b[33],z=b[34],P=b[35],Q=b[36],R=b[37],S=b[38],T=b[39],U=b[40],V=b[41],W=b[42];b[43]!==V?(l=t(c("getDefaultKeyBinding"),V),b[43]=V,b[44]=l):l=b[44];b[45]!==z||b[46]!==P||b[47]!==Q||b[48]!==R||b[49]!==S||b[50]!==T||b[51]!==U||b[52]!==l?(V={handleBeforeInput:z,handleDrop:P,handleDroppedFiles:Q,handleKeyCommand:R,handlePastedFiles:S,handlePastedText:T,handleReturn:U,keyBindingFn:l},b[45]=z,b[46]=P,b[47]=Q,b[48]=R,b[49]=S,b[50]=T,b[51]=U,b[52]=l,b[53]=V):V=b[53];var X=v(V);b[54]!==O||b[55]!==N||b[56]!==M||b[57]!==X||b[58]!==G?(z=function(a){var b=X.keyBindingFn&&X.keyBindingFn(a),c=b!=="MentionsAutocomplete/cancel"?t(X.keyBindingFn,O):X.keyBindingFn;c=t(c,N);if(G&&b!=="MentionsAutocomplete/select-mention"){b=t(c,M);return b&&b(a)}return c&&c(a)},b[54]=O,b[55]=N,b[56]=M,b[57]=X,b[58]=G,b[59]=z):z=b[59];P=z;b[60]!==X||b[61]!==G?(Q=function(a,b,c){if((X.handleKeyCommand==null?void 0:X.handleKeyCommand(a,b,c))==="handled")return"handled";return G?u(a,b,c):"not-handled"},b[60]=X,b[61]=G,b[62]=Q):Q=b[62];R=Q;b[63]!==X||b[64]!==R||b[65]!==P?(S=babelHelpers["extends"]({},X,{handleKeyCommand:R,keyBindingFn:P}),b[63]=X,b[64]=R,b[65]=P,b[66]=S):S=b[66];T=S;U=T;l=p.getModuleIfRequired();V=c("useMemoCompositeDecorator")();var Y=c("useComposerViewStateDispatcher")();z=f==null?c("DeferredDraftEditorDEPRECATED.react").createEmptyComposerState():f;b[67]!==Y?(Q=function(a){Y({editorRef:a,type:"update_editor_ref"})},b[67]=Y,b[68]=Q):Q=b[68];R=Q;b[69]!==Y||b[70]!==g?(P=function(a){c("DraftEditorFlushControlled")?c("DraftEditorFlushControlled")(function(){return Y({editorState:g!=null?g(a):a,type:"update_editor_state"})}):Y({editorState:g!=null?g(a):a,type:"update_editor_state"})},b[69]=Y,b[70]=g,b[71]=P):P=b[71];S=P;z.__type===c("DeferredDraftEditorDEPRECATED.react").EDITOR_STATE&&z.draftEditorState.getDecorator()!==V&&l!=null&&(z=babelHelpers["extends"]({},z,{draftEditorState:l.set(z.draftEditorState,{decorator:V})}));T=!1;f=!1;z.__type===c("DeferredDraftEditorDEPRECATED.react").PLAIN_TEXT?(T=z.hasFocus,f=z.text!=null):z.__type===c("DeferredDraftEditorDEPRECATED.react").EDITOR_STATE&&(T=z.draftEditorState.getSelection().getHasFocus(),f=z.draftEditorState.getCurrentContent().hasText());Q=s!=null&&!T||z.__type===c("DeferredDraftEditorDEPRECATED.react").EDITOR_STATE&&z.draftEditorState.getCurrentContent().getBlockMap().first().getType()!=="unstyled"?void 0:W;P=c("useCometMentionsARIAProperties")();l=P[0];W=P[1];P=c("CometMentionsA11yContext");var Z=q;s=s?s({isEditorFilled:f,isEditorFocused:T}):null;f=F!=null?F:"CometComposerEditor";b[72]!==l||b[73]!==a||b[74]!==V||b[75]!==e||b[76]!==A||b[77]!==U||b[78]!==R||b[79]!==S||b[80]!==Q||b[81]!==w||b[82]!==n||b[83]!==x||b[84]!==y||b[85]!==f||b[86]!==B||b[87]!==C||b[88]!==D||b[89]!==E||b[90]!==z?(T=k.jsx(c("DeferredDraftEditorDEPRECATED.react"),babelHelpers["extends"]({},A,U,e,l,{autoFocus:a,decorator:V,editorState:z,onInputRefUpdate:R,onStateChange:S,placeholder:Q,readOnly:w,ref:n,spellCheck:x,stripPastedStyles:y,testid:void 0,textAlignment:C,textDirectionality:D,typingPerformanceAnnotations:E,typingPerformanceID:f,xstyle:r.root})),b[72]=l,b[73]=a,b[74]=V,b[75]=e,b[76]=A,b[77]=U,b[78]=R,b[79]=S,b[80]=Q,b[81]=w,b[82]=n,b[83]=x,b[84]=y,b[85]=f,b[86]=B,b[87]=C,b[88]=D,b[89]=E,b[90]=z,b[91]=T):T=b[91];b[92]!==Z||b[93]!==s||b[94]!==T?(F=k.jsxs(Z,{children:[s,T]}),b[92]=Z,b[93]=s,b[94]=T,b[95]=F):F=b[95];b[96]!==W||b[97]!==P.Provider||b[98]!==F?(l=k.jsx(P.Provider,{value:W,children:F}),b[96]=W,b[97]=P.Provider,b[98]=F,b[99]=l):l=b[99];return l}e=c("withComposerViewStatePart")(a,function(a){return{editorState:a.editorState}});g["default"]=e}),98);
__d("createComposerDeferredPlugin",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){function b(b){var c=k(a.getModuleIfRequireable()),d=l(c.current!=null);d[0];var e=d[1];j(function(){var b=a.onReady(function(a){c.current=a,e(!0)});b=b.remove;return b},[]);if(c.current!=null){d=c.current;return i.jsx(d,babelHelpers["extends"]({},b))}return null}return i.memo(b)}g["default"]=a}),98);
__d("CometComposerHashtagsPluginDeferredForDraftJS.react",["createComposerDeferredPlugin","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerHashtagsPluginForDraftJS.react").__setRef("CometComposerHashtagsPluginDeferredForDraftJS.react"));g["default"]=a}),98);
__d("useCometComposerDecorator",["CometComposerPluginsDispatchContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=i(c("CometComposerPluginsDispatchContext")),f,g;b[0]!==a||b[1]!==e?(f=function(){e({decorator:a,type:"install_decorator"});return function(){return e({decorator:a,type:"uninstall_decorator"})}},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);j(f,g)}g["default"]=a}),98);
__d("getHashtagRegex",["getHashtagRegexString"],(function(a,b,c,d,e,f){function a(){return new RegExp(b("getHashtagRegexString")(),"ig")}f["default"]=a}),66);
__d("getHashtagMatches",["getHashtagRegex"],(function(a,b,c,d,e,f){var g=b("getHashtagRegex")();function a(a,b){a=a.getText();var c,d,e;while((c=g.exec(a))!==null)d=c.index+c[1].length,e=c[2],c=c[3],b(d,d+e.length+c.length)}f["default"]=a}),66);
__d("useCometComposerHashtagsDecorator",["getHashtagMatches","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","hasFormattedText"],i=["blockKey","contentState","decoratedText","entityKey","offsetKey"],j,k,l=k||(k=d("react"));k.useMemo;var m={hashtagDefault:{backgroundColor:"xv78j7m",$$css:!0},hashtagFormattedText:{textDecoration:"x1bvjpef",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(13),e,f,g;b[0]!==a?(e=a.children,g=a.hasFormattedText,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);if(b[4]!==f){a=f;a.blockKey;a.contentState;a.decoratedText;a.entityKey;a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,i);a=a;b[4]=f;b[5]=a}else a=b[5];f=!g&&m.hashtagDefault;g=g&&m.hashtagFormattedText;var k;b[6]!==f||b[7]!==g?(k=(j||(j=c("stylex")))(f,g),b[6]=f,b[7]=g,b[8]=k):k=b[8];b[9]!==e||b[10]!==a||b[11]!==k?(f=l.jsx("span",babelHelpers["extends"]({},a,{className:k,children:e})),b[9]=e,b[10]=a,b[11]=k,b[12]=f):f=b[12];return f}function a(a){var b=d("react-compiler-runtime").c(6),e=a.hasFormattedText;a=a.priority;a=a===void 0?0:a;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.memo(n),b[0]=f):f=b[0];var g;b[1]!==e?(g={hasFormattedText:e},b[1]=e,b[2]=g):g=b[2];b[3]!==a||b[4]!==g?(e={component:f,priority:a,props:g,strategy:c("getHashtagMatches")},b[3]=a,b[4]=g,b[5]=e):e=b[5];f=e;return f}g["default"]=a}),98);
__d("CometComposerHashtagsPluginForDraftJS.react",["react-compiler-runtime","useCometComposerDecorator","useCometComposerHashtagsDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(2);a=a.hasFormattedText;var e;b[0]!==a?(e={hasFormattedText:a},b[0]=a,b[1]=e):e=b[1];c("useCometComposerDecorator")(c("useCometComposerHashtagsDecorator")(e));return null}b=c("withComposerViewStatePart")(a,function(a){return{hasFormattedText:((a=a.formattedText)==null?void 0:a.currentFormattedTextPreset)!=null}});g["default"]=b}),98);
__d("CometComposerHashtagsTypeaheadPluginDeferredForDraftJS.react",["createComposerDeferredPlugin","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("createComposerDeferredPlugin")(c("requireDeferred")("FeedComposerCometHashtagsWithTypeaheadPlugin.react").__setRef("CometComposerHashtagsTypeaheadPluginDeferredForDraftJS.react"));g["default"]=a}),98);
__d("CometMentionsBridge.react",["CometMentions.react","CometMentionsA11yContext","FBLogger","Keys","emptyFunction","react","useDebouncedComet","usePrevious","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState;function a(a){var b=a.dataSourceResolverConfig.resolver,d=a.editorRef,e=a.editorState,f=a.getAnchorRef,g=a.getSearchText,h=a.layoutStrategyRenderer,o=a.loggingProvider,p=a.mentionsHandlerForSelectedEntry,q=a.onEditorStateChange,r=a.pluginsDispatcher,s=a.position;s=s===void 0?"below":s;var t=a.priority;a=a.viewStrategyRenderer;f=f();var u=c("usePrevious")(e),v=k(c("CometMentionsA11yContext")),w=v||c("emptyFunction");v==null&&c("FBLogger")("comet_ax").mustfix("a11y context is not available");var x=m(null),y=m(!1),z=n(!1),A=z[0],B=z[1];z=n(!1);var C=z[0],D=z[1];z=n(null);var E=z[0],F=z[1];z=n(!1);var G=z[0],H=z[1],I=j(function(a){var b=x.current;switch(a){case"MentionsAutocomplete/cancel":H(!0);break;case"MentionsAutocomplete/select-mention":b&&b.select();break;case"MentionsAutocomplete/previous-mention":b&&b.moveUp();break;case"MentionsAutocomplete/next-mention":b&&b.moveDown();break}return"not-handled"},[]),J=j(function(a){var b=x.current,d=y.current;if(a.keyCode===c("Keys").ESC&&E!=null){d&&(a.preventDefault(),a.stopPropagation());return"MentionsAutocomplete/cancel"}if(b!=null&&d)switch(a.keyCode){case c("Keys").DOWN:a.preventDefault();return"MentionsAutocomplete/next-mention";case c("Keys").RETURN:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case c("Keys").TAB:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case c("Keys").UP:a.preventDefault();return"MentionsAutocomplete/previous-mention"}return},[E]),K=j(function(){if(d!=null&&e!=null&&e.__type==="editor-state-based"){var a=e.draftEditorState;if(a.getSelection().getHasFocus()){a=g(a);if(a!==E){B(!0);D(!1);a=a!=null&&a.length>0&&b(a)!=null?a:null;F(a);H(!1)}}else B(!1)}},[d,e,g,E,b]),L=c("useDebouncedComet")(K);l(function(){var a={handleKeyCommand:I,keyBindingFn:J,priority:t};r({handler:a,type:"install_handler"});return function(){return r({handler:a,type:"uninstall_handler"})}},[J,I,r,t]);l(function(){L();return function(){L.reset()}},[K,L]);l(function(){if(e!=null&&u!==e&&e.__type==="editor-state-based"){var a=e.draftEditorState;a=g(a);a==null||a.length===0||b(a)==null?K():L()}},[e,g,K,L,u,b]);z=j(function(a){a=p({dataSourceResolver:b,deferredEditorState:e,entry:a,onEditorStateChange:q});a&&(v!=null&&v(),B(!0),F(null))},[b,e,q,v,p]);var M=j(function(){var a=!1,b=x.current;if(b!=null){b=(b=b.getViewRef())==null?void 0:b.current;if(b!=null){var c=document.activeElement;while(c!=null){if(c===b){a=!0;break}c=c.parentNode}}}D(a)},[]),N=j(function(){D(!0)},[]),O=j(function(a){y.current=a},[]),P=j(function(a){if(a)return;v!=null&&v()},[v]);C=x.current==null?!1:C;G=!G&&E!=null&&E.length>0&&(A||C);A=b(E);C=A.dataSource;A=A.searchResult;if(G&&f!=null&&C!=null&&A!=null)return i.jsx(c("CometMentions.react"),{context:f,dataSource:C,inputElement:null,layoutStrategyRenderer:h,loggingProvider:o,onAriaChange:w,onBlur:M,onEntriesUpdated:P,onFocus:N,onSelectedEntry:z,onVisibilityChange:O,position:s,queryString:A.matchingString,ref:x,viewStrategyRenderer:a});y.current&&(v!=null&&v());y.current=!1;return null}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{editorRef:a.editorRef,editorState:a.editorState}});g["default"]=e}),98);
__d("useCometComposerMentionsAnchorDecorator",["CometComposerPluginsDispatchContext","CometErrorBoundary.react","CometMentionsBridge.react","CometMentionsLayoutStrategy.react","gkx","react","react-compiler-runtime","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","currentBlockKey"],i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useMemo,m=b.useRef;function n(a){var b=d("react-compiler-runtime").c(13);if(b[0]!==a){var e=a.children;a.currentBlockKey;var f=babelHelpers.objectWithoutPropertiesLoose(a,h);e=e;f=f;b[0]=a;b[1]=f;b[2]=e}else f=b[1],e=b[2];a=k(c("CometComposerPluginsDispatchContext"));var g=c("useComposerViewStateDispatcher")(),i;b[3]!==g?(i=function(a){g({draftEditorState:a,type:"update_draft_editor_state"})},b[3]=g,b[4]=i):i=b[4];i=i;var l=m(),n;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(){return l.current},b[5]=n):n=b[5];b[6]!==f||b[7]!==i||b[8]!==a?(n=j.jsx(c("CometMentionsBridge.react"),babelHelpers["extends"]({},f,{getAnchorRef:n,inputElement:null,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),onEditorStateChange:i,pluginsDispatcher:a})),b[6]=f,b[7]=i,b[8]=a,b[9]=n):n=b[9];b[10]!==e||b[11]!==n?(f=j.jsxs("span",{ref:l,children:[n,e]}),b[10]=e,b[11]=n,b[12]=f):f=b[12];return f}var o={project:"gemini_composer"};function p(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a.children?(e=function(){return a.children},b[0]=a.children,b[1]=e):e=b[1];var f;b[2]!==a?(f=j.jsx(n,babelHelpers["extends"]({},a)),b[2]=a,b[3]=f):f=b[3];var g;b[4]!==e||b[5]!==f?(g=j.jsx(c("CometErrorBoundary.react"),{context:o,fallback:e,children:f}),b[4]=e,b[5]=f,b[6]=g):g=b[6];return g}function a(a,b){return l(function(){return{component:j.memo(c("gkx")("22898")?p:n),priority:1,props:a,strategy:b.bind(null,a.dataSourceResolverConfig.resolver,a.currentBlockKey)}},[b,a])}g["default"]=a}),98);
__d("CometComposerHashtagsWithTypeaheadPlugin.react",["getHashtagMatches","react-compiler-runtime","useCometComposerDecorator","useCometComposerHashtagsDecorator","useCometComposerMentionsAnchorDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=["hasFormattedText"],i=["#","\\uFF03"],j=function(a,b,d,e,f){if(b!==d.getKey())return;var g=f.getSelectionAfter().getFocusOffset();c("getHashtagMatches")(d,function(b,c){if(g===c-1){c=d.getText().substring(b,c);var f=a(c);f=f.searchResult;if(f!=null){f=f.replaceableString;b=b+c.indexOf(f);e(b,b+f.length)}}});i.includes(d.getText().charAt(g))&&e(g,g+1)};function a(a){var b=d("react-compiler-runtime").c(5),e,f;b[0]!==a?(e=a.hasFormattedText,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e?(a={hasFormattedText:e,priority:2},b[3]=e,b[4]=a):a=b[4];c("useCometComposerDecorator")(c("useCometComposerHashtagsDecorator")(a));c("useCometComposerDecorator")(c("useCometComposerMentionsAnchorDecorator")(f,j));return null}g["default"]=a}),98);
__d("composerLinkAttachmentChecker",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c,d,e=a==null||(c=a.attachmentArea)==null?void 0:c.activeAttachmentType,f=b==null||(d=b.attachmentArea)==null?void 0:d.activeAttachmentType;a=a==null?void 0:a.linkAttachment;b=b==null?void 0:b.linkAttachment;if(e!=null&&f==null||a!=null&&b==null)return"DELETED";else if((f==="LINK"||f==="SHARE")&&(a==null?void 0:a.url)!==(b==null?void 0:b.url))return"UPDATED";return"UNCHANGED"}f["default"]=a}),66);
__d("CometComposerPreAttachmentPluginTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["COMMUNITY_QA","FUN_FACT","WORK_SUMMARY"]);f.CometComposerPreAttachmentPluginTypes=a}),66);
__d("CometComposerTaggerPluginTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BRANDED_CONTENT:"BRANDED_CONTENT",DRAFT_FOR:"DRAFT_FOR",EVENT:"EVENT",LOCAL_ALERT:"LOCAL_ALERT",LOCATION:"LOCATION",MINUTIAE:"MINUTIAE",TAG:"TAG",WORK_AMA:"WORK_AMA",WORK_LONG_READ_POST:"WORK_LONG_READ_POST",WORK_QA:"WORK_QA"});b=a;f["default"]=b}),66);
__d("cometComposerFooterAttachmentsEligibilityChecker",["CometComposerAttachmentPluginTypes","CometComposerFooterAttachmentPluginTypes"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.CALL_NOW:return new Set([c("CometComposerAttachmentPluginTypes").FORMATTED_TEXT,c("CometComposerAttachmentPluginTypes").MEDIA]);case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES:return new Set([c("CometComposerAttachmentPluginTypes").FORMATTED_TEXT,c("CometComposerAttachmentPluginTypes").MEDIA]);case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.FISHBOWL:return new Set([c("CometComposerAttachmentPluginTypes").ANIMATED_IMAGE,c("CometComposerAttachmentPluginTypes").MEDIA,c("CometComposerAttachmentPluginTypes").SHARE,c("CometComposerAttachmentPluginTypes").LOCATION]);case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GROUP_WELCOME_POST:return new Set([c("CometComposerAttachmentPluginTypes").FORMATTED_TEXT,c("CometComposerAttachmentPluginTypes").MEDIA,c("CometComposerAttachmentPluginTypes").SHARE,c("CometComposerAttachmentPluginTypes").LINK,c("CometComposerAttachmentPluginTypes").LOCATION,c("CometComposerAttachmentPluginTypes").ANIMATED_IMAGE,c("CometComposerAttachmentPluginTypes").FILE,c("CometComposerAttachmentPluginTypes").POLL]);case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.NONPROFIT:return new Set([c("CometComposerAttachmentPluginTypes").MEDIA,c("CometComposerAttachmentPluginTypes").SHARE]);case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_WHATSAPP_MESSAGES:return new Set([c("CometComposerAttachmentPluginTypes").FORMATTED_TEXT,c("CometComposerAttachmentPluginTypes").MEDIA]);case d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.EVENT:return new Set([c("CometComposerAttachmentPluginTypes").MEDIA]);default:return new Set(Object.keys(c("CometComposerAttachmentPluginTypes")))}}function a(a){var b=(a=a.attachmentArea)==null?void 0:a.activeAttachmentType;return b!=null?new Set(Array.from(d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.members()).filter(function(a){a=h(a);return!a.has(b)})):new Set()}g.getCompatibleMainAttachmentTypes=h;g.cometComposerFooterAttachmentsEligibilityChecker=a}),98);
__d("composerCommunityQAPluginEligibilityChecker",["CometComposerAttachmentPluginTypes","CometComposerPreAttachmentPluginTypes","CometComposerTaggerPluginTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set([c("CometComposerAttachmentPluginTypes").MEDIA]);function i(a){return Object.prototype.hasOwnProperty.call(c("CometComposerTaggerPluginTypes"),a)}function j(a){return a==null?!1:h.has(a)}function a(a){var b,c,e,f;b=(b=a.attachmentArea)==null?void 0:b.activeAttachmentType;c=(c=a.isEditingPreExistingStory)!=null?c:!1;e=(e=(e=a.communityQAMetadata)==null?void 0:e.isEditingPreExistingCommunityQAStory)!=null?e:!1;f=(f=(f=a.communityQAMetadata)==null?void 0:f.isEditingPreExistingCommunityQAIshStory)!=null?f:!1;if(f){f=k();f.add(d("CometComposerPreAttachmentPluginTypes").CometComposerPreAttachmentPluginTypes.COMMUNITY_QA);return f}if(c&&!e)return new Set([d("CometComposerPreAttachmentPluginTypes").CometComposerPreAttachmentPluginTypes.COMMUNITY_QA]);if(b!=null&&!j(b)&&!i(b))return new Set([d("CometComposerPreAttachmentPluginTypes").CometComposerPreAttachmentPluginTypes.COMMUNITY_QA]);c=(f=a.preAttachmentArea)==null?void 0:f.activePreAttachmentType;return c===d("CometComposerPreAttachmentPluginTypes").CometComposerPreAttachmentPluginTypes.COMMUNITY_QA?k():new Set()}function k(){var a=Object.keys(c("CometComposerAttachmentPluginTypes"));return new Set(a.filter(function(a){var b=j(a);return!i(a)&&!b}))}g.COMPATIBLE_ATTACHMENT_PLUGINS=h;g.isAttachmentCompatible=j;g.composerCommunityQAPluginEligibilityChecker=a}),98);
__d("composerAttachmentAreaReducer",["CometComposerFooterAttachmentPluginTypes","CometComposerPreAttachmentPluginTypes","CometComposerTaggerPluginTypes","cometComposerFooterAttachmentsEligibilityChecker","composerCommunityQAPluginEligibilityChecker"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){var d;c=(d=(d=c.attachmentArea)==null?void 0:d.activeAttachmentType)!=null?d:(d=c.attachmentArea)==null?void 0:d.previousAttachmentType;d=a.attachmentType;return b===d&&d===c}function a(a,b,c){var d=c.attachmentType;c=c.field;if(!h(b,d,a))return a;b=babelHelpers["extends"]({},a);b[c]=void 0;return b}function b(a,b){var e,f,g;e=(e=a.attachmentArea)==null?void 0:e.activeAttachmentType;f=(f=a.footerAttachmentArea)==null?void 0:f.activeFooterAttachmentType;g=(g=a.preAttachmentArea)==null?void 0:g.activePreAttachmentType;switch(b.type){case"ACTIVATE_ATTACHMENT_TYPE":if(b.attachmentType==="LINK"&&e!=="LINK"&&e!=="LOCATION"&&e!=null)return a;if(["LINK","GET_MESSAGES","GET_WHATSAPP_MESSAGES"].includes(b.attachmentType))return babelHelpers["extends"]({},a,{attachmentArea:babelHelpers["extends"]({},a.attachmentArea,{activeAttachmentType:b.attachmentType,onRemove:b.onRemove,previousAttachmentType:(b==null?void 0:b.attachmentType)==="GET_MESSAGES"?e:void 0})});if(e===b.attachmentType)return a;if(e!=null&&Object.prototype.hasOwnProperty.call(c("CometComposerTaggerPluginTypes"),b.attachmentType))return a;if(g===d("CometComposerPreAttachmentPluginTypes").CometComposerPreAttachmentPluginTypes.COMMUNITY_QA&&!d("composerCommunityQAPluginEligibilityChecker").isAttachmentCompatible(b.attachmentType))return a;g=f!=null&&!d("cometComposerFooterAttachmentsEligibilityChecker").getCompatibleMainAttachmentTypes(f).has(b.attachmentType)?null:f;b.attachmentType==="MEDIA"&&e==="GET_MESSAGES"&&(g=d("CometComposerFooterAttachmentPluginTypes").CometComposerFooterAttachmentPluginTypes.GET_MESSAGES);return babelHelpers["extends"]({},a,{attachmentArea:babelHelpers["extends"]({},a.attachmentArea,{activeAttachmentType:b.attachmentType,onRemove:b.onRemove,previousAttachmentType:e}),footerAttachmentArea:babelHelpers["extends"]({},a.footerAttachmentArea,{activeFooterAttachmentType:g})});case"REMOVE_ATTACHMENT_TYPE":var i;(b==null?void 0:b.attachmentType)==="GET_MESSAGES"&&(a.mediaAttachments||[]).length>0?i="MEDIA":(b==null?void 0:b.attachmentType)!=="LOCATION"&&((f=a.attachmentArea)==null?void 0:f.previousAttachmentType)==="LOCATION"&&(i="LOCATION");f=((e=a.attachmentArea)==null?void 0:e.activeAttachmentType)!=null&&h(b,(g=a.attachmentArea)==null?void 0:g.activeAttachmentType,a);if(f){e=b.attachmentType;if((b.attachmentType==="EVENT"||b.attachmentType==="MINUTIAE")&&a.activityMinutiae!=null){g=babelHelpers["extends"]({},a.activityMinutiae,{hideAttachment:!0});return babelHelpers["extends"]({},a,{activityMinutiae:g,attachmentArea:babelHelpers["extends"]({},a.attachmentArea,{activeAttachmentType:i,previousAttachmentType:e})})}f={nonprofit:a.nonprofit};b.attachmentType==="NONPROFIT"&&a.nonprofit!=null&&(f={nonprofit:void 0});g=a.mediaAttachments;b.attachmentType==="CALL_NOW"&&(g=null);if(b.attachmentType==="PAID_CONTENT"&&a.paidContent!=null){a.mediaAttachments!=null&&a.mediaAttachments[0].fileType==="VIDEO"&&(a.mediaAttachments||[]).length>=1&&(i="MEDIA");return babelHelpers["extends"]({},a,{attachmentArea:babelHelpers["extends"]({},a.attachmentArea,{activeAttachmentType:i,previousAttachmentType:e}),paidContent:void 0})}return babelHelpers["extends"]({},a,f,{attachmentArea:babelHelpers["extends"]({},a.attachmentArea,{activeAttachmentType:i,previousAttachmentType:e}),mediaAttachments:g})}}return a}g.getCanAlterAttachmentData=h;g.removeActiveAttachmentViewStateData=a;g.composerAttachmentAreaReducer=b}),98);
__d("composerLinkAttachmentReducer",["composerAttachmentAreaReducer","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c;if(((c=a.attachmentArea)==null?void 0:c.activeAttachmentType)==="FORMATTED_TEXT"||((c=a.attachmentArea)==null?void 0:c.activeAttachmentType)==="SHARE")return a;var d=b.url;c=[].concat(((b=(c=a.linkAttachment)==null?void 0:c.urlStack)!=null?b:[]).filter(function(a){return!a.startsWith(d)&&!d.startsWith(a)}),[d]);var e=(b=a.linkAttachment)==null?void 0:b.selectedLinkPreview;e!=null&&(c=c.filter(function(a){return a!==e}).concat(e));return babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{url:c[c.length-1],urlStack:c})})}function i(a,b){var c,d;c=(c=(c=a.linkAttachment)==null?void 0:c.urlStack)!=null?c:[];var e=c[c.length-1];d=((d=(d=a.linkAttachment)==null?void 0:d.removedAttachmentPreviewUrls)!=null?d:new Set()).add(e);if(c.length<=1){b.onRemovedLast(!0);return babelHelpers["extends"]({},a,{attachmentArea:{activeAttachmentType:void 0,previousAttachmentType:"LINK"},linkAttachment:{isLinkAttachmentEnabled:(e=a.linkAttachment)==null?void 0:e.isLinkAttachmentEnabled,removedAttachmentPreviewUrls:d}})}e=c.slice(0,-1);c=e[e.length-1];b.onRemovedLast(!1);return babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{removedAttachmentPreviewUrls:d,selectedLinkPreview:void 0,url:c,urlStack:e})})}function j(a){return babelHelpers["extends"]({},a,{attachmentArea:{activeAttachmentType:void 0,previousAttachmentType:"LINK"},linkAttachment:{isLinkAttachmentEnabled:(a=a.linkAttachment)==null?void 0:a.isLinkAttachmentEnabled}})}function k(a,b){var c;if(a.useOriginalContentLinkAttachment===!0)return babelHelpers["extends"]({},a,{originalContentLinkAttachment:babelHelpers["extends"]({},a.originalContentLinkAttachment,{linkPreview:{share_scrape_data:b.shareScrapeData},url:b.url})});else if(((c=a.linkAttachment)==null?void 0:c.url)!==b.url)return a;return babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{linkPreview:{share_scrape_data:b.shareScrapeData},url:b.url})})}function l(a,b){return babelHelpers["extends"]({},a,{useOriginalContentLinkAttachment:b.useOriginalContentLinkAttachment})}function m(a,b){var c;c=((c=(c=a.linkAttachment)==null?void 0:c.urlStack)!=null?c:[]).filter(function(a){return a!==b.selectedLinkPreview}).concat(b.selectedLinkPreview);return babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},a.linkAttachment,{selectedLinkPreview:b.selectedLinkPreview,url:b.selectedLinkPreview,urlStack:c})})}function n(a,b){var c,d=a.linkAttachment;c=(c=d==null?void 0:d.customAttachments)!=null?c:[];c=c[0].throwback_card;return d==null||c==null?a:babelHelpers["extends"]({},a,{linkAttachment:babelHelpers["extends"]({},d,{customAttachments:[{throwback_card:babelHelpers["extends"]({},c,{media_ids:b.mediaIds})}]})})}function a(a,b){switch(b.type){case"ADD_LINK_URL":return h(a,b);case"REMOVE_LINK_URL":return i(a,b);case"REMOVE_ATTACHMENT_TYPE":var e=d("composerAttachmentAreaReducer").getCanAlterAttachmentData(b,"LINK",a);if(e)return i(a,{onRemovedLast:c("emptyFunction"),type:"REMOVE_LINK_URL"});else return a;case"REMOVE_ALL_LINKS":return j(a);case"SET_LINK_PREVIEW":return k(a,b);case"SET_USE_ORIGINAL_CONTENT":return l(a,b);case"SET_SELECTED_LINK_PREVIEW":return m(a,b);case"SET_THROWBACK_MEDIA":return n(a,b)}return a}g["default"]=a}),98);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}f["default"]=a}),66);
__d("URLMatchUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=/^(([\w-]+\.)+(xn--[\w-]+|\w+)|\[([\da-f]{0,4}:)*(?:[\da-f]{1,4}|(?:(?:\d{1,3}\.){3}\d{1,3}))\])(:[0-9]+)?([/\?].*)?$/;return a.match(b)!==null}function b(a){return a.trim().replace(/(^\w+:|^)\/\//,"").replace(/^www\./,"").replace(/\/*$/,"").toLowerCase()}f.isURL=a;f.canonicalizeURL=b}),66);
__d("getImplicitURLMatches",["URI","URLMatchUtils","URLMatcher"],(function(a,b,c,d,e,f){"use strict";var g,h=b("URLMatchUtils").canonicalizeURL,i=b("URLMatchUtils").isURL;function a(a,c,d){d=a.getText();a=0;var e=b("URLMatcher").match(d);while(e!=null){var f=d.indexOf(e),j=f+e.length,k=e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e;i(h(e))&&(g||(g=b("URI"))).isValidURI(e)&&c(a+f,a+j,k);a+=j;d=d.substring(j);e=b("URLMatcher").match(d)}}e.exports=a}),null);
__d("useCometComposerLinkScrape",["Promise","react","react-compiler-runtime","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=c("useComposerViewStateDispatcher")(),f;b[0]!==e||b[1]!==a?(f=function(){e({type:"ADD_LINK_URL",url:a}),e({attachmentType:"LINK",onRemove:j,type:"ACTIVATE_ATTACHMENT_TYPE"})},b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function j(a){return new(h||(h=b("Promise")))(function(b){a({onRemovedLast:b,type:"REMOVE_LINK_URL"})})}g["default"]=a}),98);
__d("CometComposerLinksPluginForDraftJS.react",["composerLinkAttachmentChecker","composerLinkAttachmentReducer","cr:2003939","getEntityMatcher","getImplicitURLMatches","react","react-compiler-runtime","useCometComposerDecorator","useCometComposerLinkScrape","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=["children"],i=["children"],j,k=j||(j=d("react")),l=j.useEffect;function m(a){var e=d("react-compiler-runtime").c(9),f=a.children;a=a.href;var g=c("useCometComposerLinkScrape")(a),h,i;e[0]!==g?(h=function(){g()},i=[g],e[0]=g,e[1]=h,e[2]=i):(h=e[1],i=e[2]);l(h,i);if(b("cr:2003939")!=null){e[3]!==f||e[4]!==a?(h=k.jsx(b("cr:2003939"),{href:a,children:f}),e[3]=f,e[4]=a,e[5]=h):h=e[5];return h}e[6]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1fey0fg"},e[6]=i):i=e[6];e[7]!==f?(a=k.jsx("span",babelHelpers["extends"]({},i,{children:f})),e[7]=f,e[8]=a):a=e[8];return a}function a(a){var b=d("react-compiler-runtime").c(9),c,e;b[0]!==a?(c=a.children,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);a=e;e=a.contentState;a=a.entityKey;if(b[3]!==e||b[4]!==a){var f=a!=null?e.getEntity(a):null;f=f!=null?f.getData():null;b[3]=e;b[4]=a;b[5]=f}else f=b[5];e=f;f=(a=e==null?void 0:e.url)!=null?a:"";b[6]!==c||b[7]!==f?(e=k.jsx(m,{href:f,children:c}),b[6]=c,b[7]=f,b[8]=e):e=b[8];return e}function e(a){var b=d("react-compiler-runtime").c(8),c,e;b[0]!==a?(c=a.children,e=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);a=e;e=a.decoratedText;b[3]!==e?(a=e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,b[3]=e,b[4]=a):a=b[4];e=a;b[5]!==c||b[6]!==e?(a=k.jsx(m,{href:e,children:c}),b[5]=c,b[6]=e,b[7]=a):a=b[7];return a}var n={component:k.memo(e),priority:0,props:{},strategy:c("getImplicitURLMatches")},o={component:k.memo(a),priority:0,props:{},strategy:c("getEntityMatcher")(function(a){return a.getType()==="LINK"})};function f(){c("useComposerViewStateReducer")(c("composerLinkAttachmentReducer"),c("composerLinkAttachmentChecker"));c("useCometComposerDecorator")(n);c("useCometComposerDecorator")(o);return null}g["default"]=f}),98);
__d("cometMentionDecoratorStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=/\s/;function h(a){var b=a.getText();return a.getCharacterList().map(function(a,c){return a.getEntity()===null?b.slice(c,c+1):" "}).join("")}function a(a,b,c,d,e){if(b!==c.getKey())return;b=h(c);c=e.getSelectionAfter().getFocusOffset();e=b.substring(c).split(g)[0].length;b=b.substring(0,c+e);c=a(b);e=c.searchResult;if(e!=null){a=e.leadOffset;b=e.replaceableString;d(a,a+b.length)}}f.getTextWithoutEntities=h;f.decoratorStrategy=a}),66);
__d("useCometComposerMentionsDecorator",["getEntityMatcher","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","hasFormattedText","offsetKey"],i=["blockKey","contentState","decoratedText","entityKey"],j,k,l=k||(k=d("react"));k.useMemo;var m={rootFormattedText:{textDecoration:"x1bvjpef",$$css:!0},rootRegularMention:{backgroundColor:"xv78j7m",$$css:!0},rootWeakMention:{backgroundColor:"x1h0vfkc",color:"xi81zsa",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(18),e,f,g,k;b[0]!==a?(e=a.children,f=a.hasFormattedText,g=a.offsetKey,k=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=k):(e=b[1],f=b[2],g=b[3],k=b[4]);if(b[5]!==k){a=k;a.blockKey;var n=a.contentState;a.decoratedText;var o=a.entityKey;a=babelHelpers.objectWithoutPropertiesLoose(a,i);n=n;o=o;a=a;b[5]=k;b[6]=n;b[7]=o;b[8]=a}else n=b[6],o=b[7],a=b[8];k="regular";if(o!=null){n=n.getEntity(o).getData();n.mentionDecorType!=null&&(k=n.mentionDecorType)}o=!f&&k==="regular"&&m.rootRegularMention;n=!f&&k==="weak"&&m.rootWeakMention;k=f&&m.rootFormattedText;b[9]!==o||b[10]!==n||b[11]!==k?(f=(j||(j=c("stylex")))(o,n,k),b[9]=o,b[10]=n,b[11]=k,b[12]=f):f=b[12];b[13]!==e||b[14]!==g||b[15]!==f||b[16]!==a?(o=l.jsx("span",babelHelpers["extends"]({},a,{className:f,"data-offset-key":g,spellCheck:!1,children:e})),b[13]=e,b[14]=g,b[15]=f,b[16]=a,b[17]=o):o=b[17];return o}function a(a){var b=d("react-compiler-runtime").c(4),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getEntityMatcher")(o),b[0]=e):e=b[0];e=e;var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.memo(n),b[1]=f):f=b[1];b[2]!==a?(f={component:f,priority:1,props:{hasFormattedText:a},strategy:e},b[2]=a,b[3]=f):f=b[3];e=f;return e}function o(a){return a.getType()==="MENTION"}g["default"]=a}),98);
__d("CometComposerMentionsPlugin.react",["cometMentionDecoratorStrategy","composerEditorStateViewStateReducer","react-compiler-runtime","useCometComposerDecorator","useCometComposerMentionsAnchorDecorator","useCometComposerMentionsDecorator","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=["hasFormattedText"];function a(a){var b=d("react-compiler-runtime").c(5),e,f;b[0]!==a?(f=a.hasFormattedText,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=f===void 0?!1:f;c("useComposerViewStateReducer")(c("composerEditorStateViewStateReducer"));c("useCometComposerDecorator")(c("useCometComposerMentionsDecorator")(a));b[3]!==e?(f=babelHelpers["extends"]({},e),b[3]=e,b[4]=f):f=b[4];c("useCometComposerDecorator")(c("useCometComposerMentionsAnchorDecorator")(f,d("cometMentionDecoratorStrategy").decoratorStrategy));return null}g["default"]=a}),98);
__d("detectLinkForMisinformationAnalysis",["URLMatchUtils","getImplicitURLMatches"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.draftEditorState.getCurrentContent();e.getBlocksAsArray().forEach(function(b){c("getImplicitURLMatches")(b,function(b,c,e){b=d("URLMatchUtils").canonicalizeURL(e);d("URLMatchUtils").isURL(b)&&a.add(b)},e)})}g["default"]=a}),98);
__d("handleNewLinks",["URLMatchUtils","detectLinkForMisinformationAnalysis","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=new Set();if(a!=null)switch(a.__type){case"editor-state-based":c("detectLinkForMisinformationAnalysis")(g,a);break;case"plain-text":break;default:return a.__type}a=b==null?void 0:b.url;c("isStringNullOrEmpty")(a)||g.add(d("URLMatchUtils").canonicalizeURL(a));Array.from(g.values()).filter(function(a){return f.has(a)===!1}).forEach(function(a){return e({__type:"TRACK_COMPOSED_URL",dispatch:e,url:a})});Array.from(f.values()).filter(function(a){return g.has(a)===!1}).forEach(function(a){e({__type:"UNTRACK_COMPOSED_URL",url:a})})}g["default"]=a}),98);
__d("handlePendingMisinformationOnComposerSubmit",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){for(var d=0;d<a.length;d++){var e=b[a[d]];if(e==null)continue;e=e.status;switch(e){case"ACCEPTED":case"CLEAN":case"FAILED":break;case"DECISION_DEFERRED":var f=[].concat(c.current);c.current.length=0;f.forEach(function(a){a=a.onHalt;a()});return;case"DIRTY_AWAITING_DECISION":case"FETCHING":return;default:return e}}f=[].concat(c.current);c.current.length=0;f.forEach(function(a){a=a.onContinue;a()})}f["default"]=a}),66);
__d("hasNoLinksToAnalyze",["Lexical","LexicalLink"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f;a=Array.from(a);if(c!=null){var g=new Set([]);c==null||c.getEditorState().read(function(){return d("Lexical").$nodesOfType(d("LexicalLink").AutoLinkNode).forEach(function(a){return g.add(a.getURL())})});e!=null&&g.add(e);f=a.filter(function(a){return g.has(a)})}return(f!=null?f:a).every(function(a){a=b[a];if(a==null)return!0;a=a.status;switch(a){case"ACCEPTED":case"CLEAN":case"FAILED":return!0;case"DECISION_DEFERRED":case"DIRTY_AWAITING_DECISION":case"FETCHING":return!1;default:return a}})}g["default"]=a}),98);
__d("onCloseConfirmationDialog",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){switch(c){case"ACCEPTED":a({__type:"ACCEPT_URL",url:b});break;case"NO_DECISION":a({__type:"ENTER_COOLDOWN_PERIOD"});break;default:return c}}f["default"]=a}),66);
__d("maybeTriggerMisinformationDialog",["onCloseConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=a.composedURLs,e=a.composerPhase,f=a.composerType,g=a.dialogIsOpen,h=a.dispatch,i=a.misinformationRecords,j=b.onCloseDialog;a=b.onTriggerDialog;b=b.openConfirmationDialog;if(g.current===!0)return;var k=Array.from(d).find(function(a){return((a=i[a])==null?void 0:a.status)==="DIRTY_AWAITING_DECISION"});if(k!=null){g=i[k];if(g==null)return;d=g.confirmationRenderer;if(d==null)return;a();b({composerPhase:e,composerType:f,confirmationRenderer:d},function(a){j(),c("onCloseConfirmationDialog")(h,k,a)})}}g["default"]=a}),98);
__d("useComposerPreSubmitHook",["CometComposerPreSubmitHooksContext","useContextRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useContextRef")(a,c("CometComposerPreSubmitHooksContext"))}g["default"]=a}),98);
__d("cometMisinformationLinkDetectorPluginInternalStateReducerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29607129502264490"}),null);
__d("cometMisinformationLinkDetectorPluginInternalStateReducerQuery.graphql",["cometMisinformationLinkDetectorPluginInternalStateReducerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"params",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g=[f];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"cometMisinformationLinkDetectorPluginInternalStateReducerQuery",selections:[{alias:null,args:c,concreteType:"LinkPreviewRoot",kind:"LinkedField",name:"link_preview",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"composer_post_confirmation_renderer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMisinformationLinkComposerConfirmationDialog_confirmationRenderer"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"cometMisinformationLinkDetectorPluginInternalStateReducerQuery",selections:[{alias:null,args:c,concreteType:"LinkPreviewRoot",kind:"LinkedField",name:"link_preview",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"composer_post_confirmation_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cid",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_for_comet",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description_for_comet",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"ManualFactCheck",kind:"LinkedField",name:"fact_checks",plural:!0,selections:[f,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"FactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"external_uri",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachment_thumbnail",plural:!1,selections:[d,{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:g,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:g,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:g,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:g,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_page_admin_warning",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_rating_badge",storageKey:null}],type:"MisinformationComposerPostConfirmationRenderer",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("cometMisinformationLinkDetectorPluginInternalStateReducerQuery_facebookRelayOperation"),metadata:{},name:"cometMisinformationLinkDetectorPluginInternalStateReducerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("cometMisinformationLinkDetectorPluginInternalStateReducer",["CometRelay","FBLogger","WebPixelRatio","cometMisinformationLinkDetectorPluginInternalStateReducerQuery.graphql","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("cometMisinformationLinkDetectorPluginInternalStateReducerQuery.graphql");function j(a,b){return l(a,b,"ADD")}function k(a,b){return l(a,b,"REMOVE")}function l(a,b,c){if(a.composedURLs.has(b)===(c==="ADD"))return a;var d=new Set(a.composedURLs);c==="ADD"?d.add(b):d["delete"](b);return babelHelpers["extends"]({},a,{composedURLs:d})}function m(a,b,d){var e=a.misinformationRecords[b];if(e==null){c("FBLogger")("misinformation").mustfix("Tried to update a misinformation record for a URL that was not being tracked.");return a}var f=Object.entries(d).find(function(a){var b=a[0];a=a[1];return e[b]!==a});return f===!1?a:babelHelpers["extends"]({},a,{misinformationRecords:babelHelpers["extends"]({},a.misinformationRecords,(f={},f[b]=babelHelpers["extends"]({},e,d),f))})}function a(a,b){switch(b.__type){case"ACCEPT_URL":return m(a,b.url,{status:"ACCEPTED"});case"ENTER_COOLDOWN_PERIOD":return Object.keys(a.misinformationRecords).reduce(function(b,c){var d;d=(d=b.misinformationRecords[c])==null?void 0:d.status;if(d==null)return b;switch(d){case"ACCEPTED":case"CLEAN":case"DECISION_DEFERRED":case"FAILED":case"FETCHING":return a;case"DIRTY_AWAITING_DECISION":return m(b,c,{status:"DECISION_DEFERRED"});default:return d}},a);case"EXIT_COOLDOWN_PERIOD":return Object.keys(a.misinformationRecords).reduce(function(b,c){var d;d=(d=b.misinformationRecords[c])==null?void 0:d.status;if(d==null)return b;switch(d){case"ACCEPTED":case"CLEAN":case"DIRTY_AWAITING_DECISION":case"FAILED":case"FETCHING":return a;case"DECISION_DEFERRED":return m(b,c,{status:"DIRTY_AWAITING_DECISION"});default:return d}},a);case"MARK_URL_FAILED_DETECTION":return m(a,b.url,{status:"FAILED"});case"SET_DETECTION_RESULT":return m(a,b.url,{confirmationRenderer:b.confirmationRenderer,status:b.confirmationRenderer!=null?"DIRTY_AWAITING_DECISION":"CLEAN"});case"TRACK_COMPOSED_URL":if(a.misinformationRecords[b.url]!=null)return j(a,b.url);var c,e,f={confirmationRenderer:void 0,dispose:function(){c&&(c.unsubscribe(),c=null),e&&(e.dispose(),e=null)},status:"FETCHING"},g={input:{url:b.url},scale:d("WebPixelRatio").get()},h=d("relay-runtime").getRequest(i);h=d("relay-runtime").createOperationDescriptor(h,g);e=a.environment.retain(h);var l=!0;c=d("CometRelay").fetchQuery(a.environment,i,g).subscribe({error:function(){b.dispatch({__type:"MARK_URL_FAILED_DETECTION",url:b.url})},next:function(a){a=(a=a.link_preview)==null?void 0:a.composer_post_confirmation_renderer;l?f.confirmationRenderer=a:b.dispatch({__type:"SET_DETECTION_RESULT",confirmationRenderer:a,url:b.url})}});l=!1;return babelHelpers["extends"]({},j(a,b.url),{misinformationRecords:babelHelpers["extends"]({},a.misinformationRecords,(h={},h[b.url]=f,h))});case"UNTRACK_COMPOSED_URL":return k(a,b.url);default:return b.__type}}g["default"]=a}),98);
__d("useMisinformationState",["CometRelay","cometMisinformationLinkDetectorPluginInternalStateReducer","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useReducer,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),e=d("CometRelay").useRelayEnvironment(),f;b[0]!==a?(f=new Set(a==null?void 0:a.values()),b[0]=a,b[1]=f):f=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[2]=a):a=b[2];b[3]!==e||b[4]!==f?(a={composedURLs:f,environment:e,misinformationRecords:a},b[3]=e,b[4]=f,b[5]=a):a=b[5];e=a;f=e;a=i(c("cometMisinformationLinkDetectorPluginInternalStateReducer"),f);e=a[0];f=a[1];a=e.composedURLs;e=e.misinformationRecords;var g=j("COMPOSING"),h=g[0];g=g[1];b[6]!==a||b[7]!==h||b[8]!==e?(f={composedURLs:a,composerPhase:h,dispatch:f,misinformationRecords:e,setComposerPhase:g},b[6]=a,b[7]=h,b[8]=e,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("CometComposerMisinformationLinkDetectorPluginForDraftJS.react",["JSResourceForInteraction","handleNewLinks","handlePendingMisinformationOnComposerSubmit","hasNoLinksToAnalyze","maybeTriggerMisinformationDialog","react","react-compiler-runtime","useCometLazyDialog","useComposerPreSubmitHook","useMisinformationState","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=c("JSResourceForInteraction")("CometMisinformationLinkComposerConfirmationDialog.react").__setRef("CometComposerMisinformationLinkDetectorPluginForDraftJS.react");function a(a){var b=d("react-compiler-runtime").c(29),e=a.composerType,f=a.editorState,g=a.linkAttachment;a=c("useMisinformationState")();var h=a.composedURLs,m=a.composerPhase,n=a.dispatch,o=a.misinformationRecords,p=a.setComposerPhase,q=j(null);a=c("useCometLazyDialog")(k);var r=a[0],s=j(!1),t;b[0]!==h||b[1]!==m||b[2]!==e||b[3]!==n||b[4]!==o||b[5]!==r?(a=function(){if(e==="share")return;q.current=o;var a=function(){s.current=!0},b=function(){s.current=!1};c("maybeTriggerMisinformationDialog")({composedURLs:h,composerPhase:m,composerType:e,dialogIsOpen:s,dispatch:n,misinformationRecords:o},{onCloseDialog:b,onTriggerDialog:a,openConfirmationDialog:r})},t=[h,m,e,n,o,r],b[0]=h,b[1]=m,b[2]=e,b[3]=n,b[4]=o,b[5]=r,b[6]=a,b[7]=t):(a=b[6],t=b[7]);i(a,t);b[8]!==h||b[9]!==n||b[10]!==f||b[11]!==g?(a=function(){c("handleNewLinks")(f,g,n,h)},b[8]=h,b[9]=n,b[10]=f,b[11]=g,b[12]=a):a=b[12];b[13]!==h||b[14]!==f||b[15]!==g?(t=[h,f,g],b[13]=h,b[14]=f,b[15]=g,b[16]=t):t=b[16];i(a,t);b[17]===Symbol["for"]("react.memo_cache_sentinel")?(a=[],b[17]=a):a=b[17];var u=j(a);b[18]!==h||b[19]!==o?(t=function(){var a=Array.from(h);c("handlePendingMisinformationOnComposerSubmit")(a,o,u)},a=[h,o],b[18]=h,b[19]=o,b[20]=t,b[21]=a):(t=b[20],a=b[21]);i(t,a);b[22]!==h||b[23]!==n||b[24]!==o||b[25]!==p?(t=function(a){var b=a.onContinue,d=a.onHalt;p("COMMITTING");u.current.push({onContinue:function(){p("COMPOSING"),b()},onHalt:function(){p("COMPOSING"),d()}});a=c("hasNoLinksToAnalyze")(h,o);if(a){a=[].concat(u.current);u.current.length=0;a.forEach(l)}else n({__type:"EXIT_COOLDOWN_PERIOD"})},b[22]=h,b[23]=n,b[24]=o,b[25]=p,b[26]=t):t=b[26];a=t;c("useComposerPreSubmitHook")(a);b[27]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){return function(){var a=q.current;a!==null&&Object.keys(a).forEach(function(b){b=a[b];b!=null&&b.dispose()})}},a=[],b[27]=a,b[28]=t):(a=b[27],t=b[28]);i(t,a);return null}function l(a){a=a.onContinue;a()}e=c("withComposerViewStatePart")(a,function(a){return{editorState:a.editorState,linkAttachment:a.linkAttachment}});g["default"]=e}),98);
__d("CometComposerPushPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometComposerSATPContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({emojiPickerIsHidden:!1,satpContainerIsResponsive:!1,satpExploreIsDisabled:!1,satpFontSize:30,satpMaxNewLines:3,satpRemovalIsDisabled:!1,satpTextVerticalAlignment:"top"});g["default"]=b}),98);
__d("CometMediaOptionsClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743381");b=d("FalcoLoggerInternal").create("comet_media_options_click",a);e=b;g["default"]=e}),98);
__d("CometMediaTagFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743383");b=d("FalcoLoggerInternal").create("comet_media_tag",a);e=b;g["default"]=e}),98);
__d("CometMediaViewerComposer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerComposer_media",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoViewerTaggedProductsSection_photo"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerComposer_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],d={kind:"InlineFragment",selections:c,type:"User",abstractKey:null},e={kind:"InlineFragment",selections:c,type:"Page",abstractKey:null},f={kind:"InlineFragment",selections:c,type:"Group",abstractKey:null},g={kind:"InlineFragment",selections:c,type:"Event",abstractKey:null},h={kind:"InlineFragment",selections:c,type:"PageWhatsAppNumber",abstractKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerComposer_textWithEntities",selections:[{kind:"InlineDataFragmentSpread",name:"reformCometComposerTextWithEntities_textWithEntities",selections:[a,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[b,d,e,f,g,h],storageKey:null},i,j,k],storageKey:null}],args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"reformCometComposerTextWithEntitiesForLexical_textWithEntities",selections:[a,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[b,d,e,f,g,{kind:"InlineFragment",selections:c,type:"Hashtag",abstractKey:null},h],storageKey:null},j,k,i],storageKey:null}],args:null,argumentDefinitions:[]}],type:"TextWithEntities",abstractKey:null}}();e.exports=a}),null);
__d("CometMediaViewerVideoActionsDeleteViewerTagMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25038055619196014"}),null);
__d("CometMediaViewerVideoActionsDeleteViewerTagMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometMediaViewerVideoActionsDeleteViewerTagMutation_facebookRelayOperation","GHLShouldChangeSponsoredDataFieldName.relayprovider","TestPilotShouldIncludeDemoAdUseCase.relayprovider","CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feed_location"},c={defaultValue:null,kind:"LocalArgument",name:"feed_menu_icon_variant"},d={defaultValue:null,kind:"LocalArgument",name:"input"},e={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={defaultValue:null,kind:"LocalArgument",name:"serialized_frtp_identifiers"},i={defaultValue:null,kind:"LocalArgument",name:"story_debug_info"},j=[{kind:"Variable",name:"data",variableName:"input"}],k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},n={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[m],storageKey:null},o=[l];return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"CometMediaViewerVideoActionsDeleteViewerTagMutation",selections:[{alias:null,args:j,concreteType:"VideoDeleteViewerTagResponsePayload",kind:"LinkedField",name:"video_delete_viewer_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorPhotoSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMetadataSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryTitleSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerTitleSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerSuffixSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMenu_story"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,g,i,h,e,f,a,c,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"}],kind:"Operation",name:"CometMediaViewerVideoActionsDeleteViewerTagMutation",selections:[{alias:null,args:j,concreteType:"VideoDeleteViewerTagResponsePayload",kind:"LinkedField",name:"video_delete_viewer_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"31PGhD"}],concreteType:null,kind:"LinkedField",name:"actor_photo",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorCommunityAttributionStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorCommunityAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryDualActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryDualActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedDraftForStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryCoAuthorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedStoryCoAuthorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorPhotoStrategy",abstractKey:null}],storageKey:'actor_photo(supported:"31PGhD")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3qagX9"}],concreteType:null,kind:"LinkedField",name:"metadata",plural:!0,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryCommunityAttributionGroupPostByStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryCommunityAttributionGroupPostByStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPostTopicsStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryPostTopicsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryUserSignalsStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryUserSignalsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryIdentityBadgeStrategy_identityBadge",fragmentPropName:"identityBadge",kind:"ModuleImport"}],type:"CometStoryIdentityBadgeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStorySponsoredLabelStrategy_sponsoredLabel",fragmentPropName:"sponsoredLabel",kind:"ModuleImport"}],type:"CometStorySponsoredLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStorySponsoredPoliticalLabelStrategy_sponsoredLabel",fragmentPropName:"sponsoredLabel",kind:"ModuleImport"}],type:"CometStorySponsoredPoliticalLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryGenAITransparencyStrategy_genAITransparency",fragmentPropName:"genAITransparency",kind:"ModuleImport"}],type:"CometFeedStoryGenAITransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryGenAIContentTransparencyStrategy_genAIContentTransparency",fragmentPropName:"genAIContentTransparency",kind:"ModuleImport"}],type:"CometFeedStoryGenAIContentTransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLocationTransparencyStrategy_locationTransparency",fragmentPropName:"locationTransparency",kind:"ModuleImport"}],type:"CometStoryLocationTransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPostLevelAuthenticityStrategy_postLevelAuthenticity",fragmentPropName:"postLevelAuthenticity",kind:"ModuleImport"}],type:"CometStoryPostLevelAuthenticityStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPageAdminAttributionStrategy_adminAttribution",fragmentPropName:"adminAttribution",kind:"ModuleImport"}],type:"CometStoryPageAdminAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPaidPartnershipLabelStrategy_paidPartnershipLabel",fragmentPropName:"paidPartnershipLabel",kind:"ModuleImport"}],type:"CometStoryPaidPartnershipLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometStoriesSingleBucketFeedUnitLabelStrategy_storiesFeedUnitLabel",fragmentPropName:"storiesFeedUnitLabel",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryBackdatedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryBackdatedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryScheduledTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryScheduledTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLongerTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryLongerTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMinimizedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryMinimizedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternLiveEventStrategy_internLiveEvent",fragmentPropName:"internLiveEvent",kind:"ModuleImport"}],type:"GeminiStoryInternLiveEventStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternTaskStrategy_internTask",fragmentPropName:"internTask",kind:"ModuleImport"}],type:"GeminiStoryInternTaskStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternIESCaseStrategy_internIESCase",fragmentPropName:"internIESCase",kind:"ModuleImport"}],type:"GeminiStoryInternIESCaseStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternESHCaseStrategy_internESHCase",fragmentPropName:"internESHCase",kind:"ModuleImport"}],type:"GeminiStoryInternESHCaseStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLocationStrategy_location",fragmentPropName:"location",kind:"ModuleImport"}],type:"CometFeedStoryLocationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryApplicationLinkStrategy_location",fragmentPropName:"location",kind:"ModuleImport"}],type:"CometFeedStoryApplicationLinkStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPrivacySelectorStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryPrivacySelectorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryAudienceStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoriesSingleBucketAudienceStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoriesSingleBucketAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryConfidentialityStrategy_confidentiality",fragmentPropName:"confidentiality",kind:"ModuleImport"}],type:"CometFeedStoryConfidentialityStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryFTEOnlyPostLabelStrategy_fteOnlyPost",fragmentPropName:"fteOnlyPost",kind:"ModuleImport"}],type:"CometStoryFTEOnlyPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryKeyUpdateStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryKeyUpdateStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPollEndtimeStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryPollEndtimeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryRecommendationLabelStrategy_recommendationLabel",fragmentPropName:"recommendationLabel",kind:"ModuleImport"}],type:"CometStoryRecommendationLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryRecentlyViewedLabelStrategy_recentlyViewedLabel",fragmentPropName:"recentlyViewedLabel",kind:"ModuleImport"}],type:"CometStoryRecentlyViewedLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMusicPostLevelAttributionStrategy_musicPostLevelAttribution",fragmentPropName:"musicPostLevelAttribution",kind:"ModuleImport"}],type:"CometStoryMusicPostLevelAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMetaAiPostLevelAttributionStrategy_metaAiPostLevelAttribution",fragmentPropName:"metaAiPostLevelAttribution",kind:"ModuleImport"}],type:"CometFeedStoryMetaAiPostLevelAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryIGReelsXARAudienceStrategy_label",fragmentPropName:"label",kind:"ModuleImport"}],type:"CometFeedStoryIGReelsXARAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryUGCMetadataStrategy_UGCMetadata",fragmentPropName:"UGCMetadata",kind:"ModuleImport"}],type:"CometStoryUGCMetadataStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryFailedScheduledPostMetadataStrategy_failedScheduledPost",fragmentPropName:"failedScheduledPost",kind:"ModuleImport"}],type:"CometFeedStoryFailedScheduledPostMetadataStrategy",abstractKey:null}],storageKey:'metadata(supported:"3qagX9")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"40erBm"}],concreteType:null,kind:"LinkedField",name:"title",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedDraftForStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryCommunityAttributionTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryCommunityAttributionTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupsTabDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryGroupsTabDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryViaTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryViaTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryTitleWithActorStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryTitleWithActorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDefaultTitleStrategy",abstractKey:null}],storageKey:'title(supported:"40erBm")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l,{kind:"TypeDiscriminator",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],storageKey:null},l,{alias:null,args:[{kind:"Literal",name:"location",value:"comet_media_viewer"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"suffix",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:'suffix(location:"comet_media_viewer")'},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feed_location"},{kind:"Variable",name:"serialized_frtp_identifiers",variableName:"serialized_frtp_identifiers"}],concreteType:null,kind:"LinkedField",name:"nfx_action_menu_items",plural:!0,selections:[k,{kind:"TypeDiscriminator",abstractKey:"__isNFXActionMenuItem"},{kind:"TypeDiscriminator",abstractKey:"__isStoryMenuItem"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryOpenInIDDMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryOpenInIDDMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedHairlineMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"HairlineMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoRightsManagerAttributionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBPhotoRightsManagerAttributionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDownloadPhotoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoDownloadMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerEditLocationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaLocationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerAltTextMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaChangeAltTextMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDownloadVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoDownloadMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerTransferVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoTransferStoryMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryDeleteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryDeleteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDeleteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaDeleteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryDownloadCommentsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryDownloadCommentsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiMovePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMovePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryCopyQuestionsMenuItem_copyQuestionsMenuItem",fragmentPropName:"copyQuestionsMenuItem",kind:"ModuleImport"}],type:"XFBStoryCopyQuestionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryStoreInMementoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkStoreInMementoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkWhyAmISeeingThisMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryWorkEmbedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkEmbedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryRemindMeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemindMeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryTLDRMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkTLDRMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryManageVideoChaptersMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageVideoChaptersMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryOpenLiveStudioMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryOpenLiveStudioMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryManageVideoCaptionsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageVideoCaptionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryRevokeDrafterPermissionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRevokeDrafterPermissionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStorySaveToKnowledgeHubMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySaveToKnowledgeHubMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStorySaveMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySavableMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometGroupsTabHideUnconnectedGroupMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupsTabHideUnconnectedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedEditHistoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditHistoryMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryRefreshShareMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"RefreshShareMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometPinPostStoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryPinProfilePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiManageMSTeamsLiveVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageMSTeamsLiveVideoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiCanNotEditForPostMenuItem_canNotEditForPostMenuItem",fragmentPropName:"canNotEditForPostMenuItem",kind:"ModuleImport"}],type:"XFBStoryCanNoLongerEditPostForMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiConvertQAPollWithRegularPollMenuItem_convertQAPollWithRegularPollMenuItem",fragmentPropName:"convertQAPollWithRegularPollMenuItem",kind:"ModuleImport"}],type:"XFBStoryConvertPollAndCompanyQAPollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiClosePollMenuItem_closePollMenuItem",fragmentPropName:"closePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryClosePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiChangeEndTimeMenuItem_changeEndtimePollMenuItem",fragmentPropName:"changeEndtimePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryChangeEndTimePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupStoryManagePollMenuItem_managePollMenuItem",fragmentPropName:"managePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryManagePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditSalePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditSalePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"PagesCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryPagePostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiGroupStoryEditDisabledByPollMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"WorkStoryGroupPostEditDisabledToPollHasVoteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CrisisCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCrisisPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CrisisCometListingStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCrisisListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CoronavirusCommunityHelpCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCoronavirusCommunityHelpListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"FundraiserStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryFundraiserPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiEditWorkMajorEventMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupWorkMajorEventEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryAddOrEditPostAdminHashtagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupAddOrEditPostAdminHashtagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometLifeEventsEditStoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryLifeEventsEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"EventCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEventPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"EventCometStoryPinOrUnpinStatusMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEventPinOrUnpinStatusMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditLiveVideoPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryLiveVideoEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryManageMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditPrivacyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditPrivacyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditDirectedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditDirectedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometBackdateMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTimelineBackdateMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBrandedContentLookupToolMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBrandedContentLookupToolMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryInspectToolMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryInspectToolMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryIFRFunnelInspectMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryIFRFunnelInspectMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBumperDebuggerMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBumperDebuggerMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWhyAmISeeingThisMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWhyAmISeeingThisAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGenAITransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGenAITransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGenAIInfoTransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGenAIInfoTransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupsUGCPostGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGroupsUGCGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupsUGCManageAISettingsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGroupsUGCManageAISettingsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryOpenAdsRankingTransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryAdsRankingTransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPostMarkOrRemoveAnnouncementMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMarkOrRemoveAnnouncementMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryReportListingMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportListingMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryQuickInjectMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryQuickInjectMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCommentModerationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCommentModerationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryUpdateScheduleTimeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryUpdateScheduleTimeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBulkHideCommentsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBulkHideCommentsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCopyDemoLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCopyDemoLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"PagesCometCreateClipMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTimelineCreateClipMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEndAMASessionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEndAMASessionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupReportToAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupReportToAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddScreenshotsToReportedContent_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostAddScreenshotsToReportedContent",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometHideStoryFromFeedMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupsHideStoryFromFeed",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometMakeUserExpertMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMakeUserExpertMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometRemovePostAsAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupRemovePostAsAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometToggleCustomReactionsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleCustomReactionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupToggleCommentingMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleCommentingMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleNotificationsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleNotificationsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleAdPartnershipCodeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleAdPartnershipCodeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryFollowAllMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleFollowAllMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleTranslationsBlockedMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleTranslationsBlockedMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryNFXActionMenuItem_nfxActionMenuItem",fragmentPropName:"nfxActionMenuItem",kind:"ModuleImport"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feed_unit",plural:!1,selections:[k,{kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:o,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:o,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:o,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:o,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:o,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:o,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:o,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[k,m,l],storageKey:null}],type:"StoryNFXActionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoViewerUnfollowMenuItem_nfxActionMenuItem",fragmentPropName:"nfxActionMenuItem",kind:"ModuleImport"}],type:"MediaViewerNFXActionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerReportMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaReportMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoViewerRemoveTagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRemoveTagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoMoveToOtherAlbumMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMoveToOtherAlbumMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometVideoViewerRemoveTagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoRemoveTagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPinOrUnpinAnnouncementAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPinOrUnpinAnnouncementAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupChangePostApprovalAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupChangePostApprovalAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPostScheduledPostNowMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostScheduledPostNowMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupReschedulePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupReschedulePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometCrisisListingEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupCrisisListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometDraftPostNowMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostDraftPostNowMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometScheduleDraftPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupScheduleDraftPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiDraftMakeShareableMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"WorkStoryGroupPostDraftMakeShareableMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerRotateLeftMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRotateLeftMediaItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerRotateRightMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRotateRightMediaItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMakeProfilePictureMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMakeProfilePictureMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMakeCoverPhotoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMakeCoverPhotoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerFullscreenMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaFullscreenMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"MemorializationCometPinPostMenuItem_storyMemorialPinPostMenuItem",fragmentPropName:"storyMemorialPinPostMenuItem",kind:"ModuleImport"}],type:"StoryMemorialPinPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMemorializedDateOfDeathAppealMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryMemorializedProfileDateOfDeathAppealMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEmbedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEmbedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryReportToFeedTeamMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportToFeedTeam",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryRemoveFromFavoritesMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemoveFromFavoritesMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddPostToUnitMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupAddPostToUnitMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SocialLearningEditPostTitleMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySocialLearningEditPostTitleMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningMakeModuleOptionalMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningMakeModuleOptionalMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningRemovePostFromUnitMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningRemovePostFromUnitMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningEditSyncedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningEditSyncedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiPromoteOrDemotePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPromoteOrDemotePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningDeleteSyncedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningDeleteSyncedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningQuizEditAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningEditQuizMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningDownloadQuizResultsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningDownloadQuizResultsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddPostToCampaignMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostAddToCampaignMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSeeUnifiedPostInsightsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkInsightsUnifiedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryViewUnformattedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryViewUnformattedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryTurnOffForSaleFormatMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTurnOffForSaleFormatMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryListInMorePlacesSalePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryListInMorePlacesSalePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometArchivePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryArchivePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometTrashPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTrashPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupDeletePostAndRemoveMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupDeletePostAndRemoveMemberMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupMuteMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostMuteMemberItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupUnmuteMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostUnmuteMemberItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryPendingPostDeclineAndGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPendingPostDeclineAndGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryPendingPostCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPendingPostCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupEnableCommentSlowdownMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupEnableCommentSlowdownMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupDisableCommentSlowdownMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupDisableCommentSlowdownMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupSetMemberContentControlsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSetMemberContentControlsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTMenuItems_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWAISTMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCivicSettingsWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCivicSettingsWAISTMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryTransparencyAdInfoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTransparencyAdInfoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsReportBug_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsReportBug",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsHideReelInViewer_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsHideReelInViewer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsDeleteReelMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"DeleteReelMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsReportReelMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsReportReel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometCreatorCollaborationsManageCollaborationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CreatorCollaborationsManageCollaborationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometCreatorCollaborationsRemoveYourselfAsCollaboratorMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CreatorCollaborationsRemoveYourselfAsCollaboratorMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsCopyCollaborationInviteLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CopyCollaborationInviteLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsRemoveCollaboratorMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"RemoveCollaboratorMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsCancelCollaborationInviteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CancelCollaborationInviteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsEditPrivacyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsEditPrivacyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupPostGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupPostSeeFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostSeeFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometReportRoleMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportRoleMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoriesSingleBucketFeedUnitViewProfileMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoriesSingleBucketFeedUnitViewProfileMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoriesSingleBucketFeedUnitMuteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoriesSingleBucketFeedUnitMuteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryCreateLocalAlertMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCreateLocalAlertMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleStarsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryToggleStarsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchIrrelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportIrrelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchRelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportRelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchSomewhatRelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportSomewhatRelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchLowQualityMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportLowQualityResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryShowMoreMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"ShowMoreMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryShowLessMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"ShowLessMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryInterestedAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"InterestedAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryNotInterestedAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"NotInterestedAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCommunityNotesMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCommunityNotesMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedRemixAndOAManagementMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemixAndOAManagementMenuItem",abstractKey:null}],storageKey:null}],type:"FeedUnitWithNFXActions",abstractKey:"__isFeedUnitWithNFXActions"}],storageKey:null},l],storageKey:null}],storageKey:null}]},params:{id:b("CometMediaViewerVideoActionsDeleteViewerTagMutation_facebookRelayOperation"),metadata:{},name:"CometMediaViewerVideoActionsDeleteViewerTagMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider:b("TestPilotShouldIncludeDemoAdUseCase.relayprovider"),__relay_internal__pv__CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabledrelayprovider:b("CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider")}}}}();e.exports=a}),null);
__d("CometMediaViewerVideoActionsEditMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="31596419733337363"}),null);
__d("CometMediaViewerVideoActionsEditMessageMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometMediaViewerVideoActionsEditMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},g={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[f],storageKey:null},h={alias:null,args:[{kind:"Literal",name:"supported",value:"GVdL5"}],concreteType:null,kind:"LinkedField",name:"message_preferred_body",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'message_preferred_body(supported:"GVdL5")'};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerVideoActionsEditMessageMutation",selections:[{alias:null,args:c,concreteType:"VideoEditMessageResponsePayload",kind:"LinkedField",name:"video_edit_message",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelayDEPRECATED_textWithEntities"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaViewerDescriptionSection_media"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerVideoActionsEditMessageMutation",selections:[{alias:null,args:c,concreteType:"VideoEditMessageResponsePayload",kind:"LinkedField",name:"video_edit_message",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{kind:"InlineFragment",selections:[e,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelayDEPRECATED_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelayDEPRECATED_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelayDEPRECATED_textWithEntities",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[g,e],storageKey:null},e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"attached_comment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[d,f],storageKey:null},e],storageKey:null},g,h],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[g,h],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],storageKey:null}]},params:{id:b("CometMediaViewerVideoActionsEditMessageMutation_facebookRelayOperation"),metadata:{},name:"CometMediaViewerVideoActionsEditMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometMediaViewerVideoActions",["fbt","CometFeedStoryMenuEntryPointVariables","CometMediaViewerVideoActionsDeleteViewerTagMutation.graphql","CometMediaViewerVideoActionsEditMessageMutation.graphql","CometRelay","FBLogger","WebPixelRatio","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i!==void 0?i:i=b("CometMediaViewerVideoActionsEditMessageMutation.graphql");function a(a){var b=a.environment,e=a.input,f=a.onCompleted,g=a.onError;a=e.id;e=e.message;var i={message:e,video_id:a};a={video_edit_message:{video:{id:a,message:e}}};d("CometRelay").commitMutation(b,{mutation:k,onCompleted:f,onError:function(a){g();d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Unable to edit video")},4e3);c("FBLogger")("facebook_desktop_web_media_viewer").catching(a).mustfix("Unable to edit video");return},optimisticResponse:a,variables:{input:i}})}var l=j!==void 0?j:j=b("CometMediaViewerVideoActionsDeleteViewerTagMutation.graphql");function e(a){var b=a.environment,e=a.extraData;e=e===void 0?null:e;var f=a.input,g=a.onError;d("CometRelay").commitMutation(b,{mutation:l,onCompleted:function(){d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"Tag Removed"),4e3)},onError:function(){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Unable to delete tag")},4e3),g()},variables:{feed_location:"COMET_MEDIA_VIEWER",feed_menu_icon_variant:c("CometFeedStoryMenuEntryPointVariables").iconVariant,input:f,privacySelectorRenderLocation:"COMET_MEDIA_VIEWER",scale:d("WebPixelRatio").get(),serialized_frtp_identifiers:e==null?void 0:e.serialized_frtp_identifiers,story_debug_info:e==null?void 0:e.story_debug_info}})}g.edit=a;g.deleteViewerTag=e}),226);
__d("ComposerFbtStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Bad result");b=h._(/*BTDS*/"Good result");c=h._(/*BTDS*/"Good result option");d=h._(/*BTDS*/"Add to post");e=h._(/*BTDS*/"Styles");f=h._(/*BTDS*/"Ideas");var i=h._(/*BTDS*/"AI images"),j=h._(/*BTDS*/"Describe edits..."),k=h._(/*BTDS*/"Generate images using AI"),l=h._(/*BTDS*/"AI Images"),m=h._(/*BTDS*/"Edit suggestion"),n="Create with Meta AI",o=h._(/*BTDS*/"Thanks for your feedback."),p=h._(/*BTDS*/"Imagine with Meta AI"),q=h._(/*BTDS*/"Create any image you can imagine for your post."),r=h._(/*BTDS*/"Meta AI can analyze photos to help you create images. Others can see your image was created with AI."),s=h._(/*BTDS*/"Describe an image"),t=h._(/*BTDS*/"Not relevant"),u=h._(/*BTDS*/"Not visually appealing"),v=h._(/*BTDS*/"Harmful or offensive"),w=h._(/*BTDS*/"Something else"),x=h._(/*BTDS*/"Help us understand what's wrong"),y=h._(/*BTDS*/"Suggestion pill"),z=h._(/*BTDS*/"Undo last action"),A=h._(/*BTDS*/"Redo last action"),B=h._(/*BTDS*/"Continue"),C=h._(/*BTDS*/"Re-edit image"),D=h._(/*BTDS*/"Feedback button"),E=h._(/*BTDS*/"Switch to this image");h=h._(/*BTDS*/"Instruction icon");g.BAD_RESULT_TITLE=a;g.GOOD_RESULT_TITLE=b;g.GOOD_RESULT_MENU_LABEL=c;g.ADD_TO_POST=d;g.STYLES_TITLE=e;g.IDEAS_TITLE=f;g.TOOL_TIP=i;g.PLACEHOLDER_FOR_DESCRIBE_EDIT=j;g.PUSH_PAGE_LABEL_IMAGINE_WITH_AI=k;g.PUSH_PAGE_ARIA_LABEL_IMAGINE_WITH_AI=l;g.EDIT_SUGGESTION_LABEL=m;g.PUSH_PAGE_TITLE_IMAGINE_WITH_AI=n;g.MESSAGE_TO_USER_FEEDBACK=o;g.PUSH_PAGE_TITLE_FOR_ACKNOWLEDGEMENT=p;g.INSTRUCTION_FOR_USER_OF_IMAGINE_WITH_AI_1=q;g.INSTRUCTION_FOR_USER_OF_IMAGINE_WITH_AI_2=r;g.PLACEHOLDER_FOR_DESCRIBE_IMAGE=s;g.NOT_RELEVANT=t;g.NOT_VISUALLY_APPEALING=u;g.HARMFUL_OR_OFFENSIVE=v;g.SOMETHING_ELSE=w;g.BAD_RESULT_SMALL_HEADER=x;g.SUGGESTION_PILL_LABEL=y;g.UNDO_BUTTON_LABEL=z;g.REDO_BUTTON_LABEL=A;g.CONTINUE_BUTTON_LABEL=B;g.RE_EDIT_BUTTON_LABEL=C;g.FEEDBACK_BUTTON_LABEL=D;g.SWITCH_TO_CURRENT_IMAGE_BUTTON_LABEL=E;g.INSTRUCTION_LABEL_FOR_ICON=h}),226);
__d("ComposeImagineFooter.react",["fbt","ix","CometComponentWithKeyCommands.react","CometKeys","FDSCircleButton.react","FDSRoundedTextInput.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useId;b.useMemo;var m=b.useState,n={footer:{boxSizing:"x9f619",paddingBottom:"xwib8y2",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(31),e=a.handleMutation,f=a.isImageLoading,g=a.lastValue;a=a.placeholder;var j=l(),o=m(g!=null?g:""),p=o[0],q=o[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){q(a)},b[0]=o):o=b[0];o=o;g=m(g);var r=g[0],s=g[1];b[1]!==r||b[2]!==p?(g=function(){return r===p&&p!==""},b[1]=r,b[2]=p,b[3]=g):g=b[3];var t=g;b[4]!==t||b[5]!==e||b[6]!==p?(g=function(){s(p),e(p,!1,t())},b[4]=t,b[5]=e,b[6]=p,b[7]=g):g=b[7];var u=g;b[8]!==u||b[9]!==f||b[10]!==p?(g=function(a){if(!p||!p.trim()||f){a&&(a.preventDefault(),a.stopPropagation());return}a&&(a.preventDefault(),a.stopPropagation());u()},b[8]=u,b[9]=f,b[10]=p,b[11]=g):g=b[11];g=g;var v,w;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(v={key:c("CometKeys").ENTER},w=h._(/*BTDS*/"Submit prompt"),b[12]=v,b[13]=w):(v=b[12],w=b[13]);b[14]!==g?(v=[{command:v,description:w,handler:g,triggerFromInputs:!0}],b[14]=g,b[15]=v):v=b[15];w=v;g=w;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(v=d("fbicon")._(i("725885"),20),b[16]=v):v=b[16];w=v;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v=d("fbicon")._(i("495568"),20),b[17]=v):v=b[17];v=v;b[18]!==t||b[19]!==u||b[20]!==f||b[21]!==p?(v=p?k.jsx(c("FDSCircleButton.react"),{"aria-label":h._(/*BTDS*/"Search"),color_DEPRECATED:"highlight",disabled:f,icon:t()?v:w,onPress:u,size:24}):null,b[18]=t,b[19]=u,b[20]=f,b[21]=p,b[22]=v):v=b[22];b[23]!==j||b[24]!==a||b[25]!==v||b[26]!==p?(w=k.jsx(c("FDSRoundedTextInput.react"),{addOnEnd:v,"aria-labelledby":j,onValueChange:o,placeholder:a,placeholderFontUse:"placeholder",value:p}),b[23]=j,b[24]=a,b[25]=v,b[26]=p,b[27]=w):w=b[27];b[28]!==g||b[29]!==w?(o=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:g,xstyle:n.footer,children:w}),b[28]=g,b[29]=w,b[30]=o):o=b[30];return o}g["default"]=a}),226);
__d("ComposerImaginePreShowCase.react",["CometImage.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{aspectRatio:"x1y5e3q9",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.landPagePrompt;a=a.src;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1y5e3q9 x1ljdsv x1n2onr6 xujvbdb"},b[0]=f):f=b[0];var g;b[1]!==a?(g=i.jsx(c("CometImage.react"),{alt:"Image",src:a,xstyle:j.image}),b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x19v49a x1dm3dyd x1pv694p x1ey2m1c xtijo5x x1o0tod xsag5q8 x1g0dm76 x1cnzs8 x10l6tqk"},b[3]=a):a=b[3];b[4]!==e?(a=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"bodyLink3",children:e})})),b[4]=e,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(e=i.jsxs("div",babelHelpers["extends"]({},f,{children:[g,a]})),b[6]=g,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("useCometImagineLandingPageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23982995928054760"}),null);
__d("useCometImagineLandingPageMutation.graphql",["useCometImagineLandingPageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"icebreaker_intent_filter"},c={defaultValue:null,kind:"LocalArgument",name:"icebreaker_orientation"},d={defaultValue:null,kind:"LocalArgument",name:"icebreaker_type"},e={defaultValue:null,kind:"LocalArgument",name:"num_icebreakers"},f={defaultValue:null,kind:"LocalArgument",name:"supported_unit_types"},g={defaultValue:null,kind:"LocalArgument",name:"surface"},h=[{kind:"Variable",name:"icebreaker_intent_filter",variableName:"icebreaker_intent_filter"},{kind:"Variable",name:"icebreaker_orientation",variableName:"icebreaker_orientation"},{kind:"Variable",name:"icebreaker_type",variableName:"icebreaker_type"},{kind:"Variable",name:"num_icebreakers",variableName:"num_icebreakers"},{kind:"Variable",name:"supported_unit_types",variableName:"supported_unit_types"},{kind:"Variable",name:"surface",variableName:"surface"}],i={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImaginePromptSuggestion",kind:"LinkedField",name:"icebreakers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"short_prompt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null}],storageKey:null}],type:"XFBGenAIImagineIntentsLandingPageIcebreakerUnit",abstractKey:null},j={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"strong_id__",storageKey:null}]};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useCometImagineLandingPageMutation",selections:[{alias:null,args:h,concreteType:"XFBGenAIImagineIntentsLandingPageData",kind:"LinkedField",name:"xfb_genai_imagine_intents_landing_page_data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"units",plural:!0,selections:[i],storageKey:null}],storageKey:null},j],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[g,f,e,a,c,d],kind:"Operation",name:"useCometImagineLandingPageMutation",selections:[{alias:null,args:h,concreteType:"XFBGenAIImagineIntentsLandingPageData",kind:"LinkedField",name:"xfb_genai_imagine_intents_landing_page_data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"units",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i],storageKey:null}],storageKey:null},j]},params:{id:b("useCometImagineLandingPageMutation_facebookRelayOperation"),metadata:{},name:"useCometImagineLandingPageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useCometImagineLandingPageMutation",["RelayHooks","react-compiler-runtime","useCometImagineLandingPageMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i="FB_FEED",j=6,k="SQUARE",l=h!==void 0?h:h=b("useCometImagineLandingPageMutation.graphql");function a(a){var b=d("react-compiler-runtime").c(7),c=a.onCompleted,e=a.onError;a=d("RelayHooks").useMutation(l);var f=a[0];a=a[1];var g;b[0]!==f||b[1]!==c||b[2]!==e?(g=function(){f({onCompleted:function(a){var b;if((b=a.xfb_genai_imagine_intents_landing_page_data)!=null&&b.units){c(a);return}},onError:function(a){return e(a.message)},variables:{icebreaker_orientation:k,num_icebreakers:j,supported_unit_types:["ICEBREAKER","MEMU_SPOTLIGHT_ONBOARDED"],surface:{surface:i,surface_string_override:"FB_FEED"}}})},b[0]=f,b[1]=c,b[2]=e,b[3]=g):g=b[3];var h;b[4]!==a||b[5]!==g?(h={isMutationInFlight:a,triggerLandingPageMutation:g},b[4]=a,b[5]=g,b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("ComposeImagineLandingPage.react",["CometPressable.react","ComposerImaginePreShowCase.react","FBLogger","isEmpty","react","useCometImagineLandingPageMutation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useState,n=18,o={pressable:{display:"x1lliihq",$$css:!0},transparentOverlay:{backgroundColor:"xjbqb8w",$$css:!0}};function a(a){var b=a.handleMutation;a=m([]);var d=a[0],e=a[1];a=m([]);var f=a[0],g=a[1];a=m([]);var j=a[0],p=a[1];a=m(!1);var q=a[0],r=a[1];a=c("useCometImagineLandingPageMutation")({onCompleted:function(a){a=a==null?void 0:a.xfb_genai_imagine_intents_landing_page_data;a=(a==null?void 0:a.units)||[];a=a.filter(function(a){return"icebreakers"in a&&Array.isArray(a.icebreakers)});a=((a=a[0])==null?void 0:a.icebreakers)||[];var b=a.map(function(a){return a==null?void 0:a.image_uri}).filter(Boolean).slice(0,n),c=a.map(function(a){return a==null?void 0:a.short_prompt}).filter(Boolean).slice(0,n);a=a.map(function(a){return a==null?void 0:a.prompt}).filter(Boolean).slice(0,n);p(a);e(b);g(c)},onError:function(a){c("FBLogger")("ctx_adoption").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to download image: ",""])),a),r(!0)}});var s=a.isMutationInFlight,t=a.triggerLandingPageMutation;l(function(){(i||(i=c("isEmpty")))(d)&&!s&&!q&&t()},[q,s,d,t]);var u=function(a){b(a,!0)};return k.jsx("div",{className:"xfex06f x78zum5 x1a02dak x1qughib x9ybwvh x1odjw0f x1l90r2v xv54qhq xf7dkkf xyamay9 xgpatz3",children:d.map(function(a,b){return k.jsx(c("CometPressable.react"),{onPress:function(){return u(j[b])},overlayDisabled:!1,overlayRadius:10,overlayXStyle:o.transparentOverlay,xstyle:o.pressable,children:k.jsx(c("ComposerImaginePreShowCase.react"),{landPagePrompt:f[b],src:a},b)},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("addImageToMainFeed",["promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){if(!a)return;c("promiseDone")(window.fetch(a).then(function(a){return a.blob()}).then(function(a){d({files:[new File([a],"generatedImage.png",{type:"image/png"})],type:"ADD_MEDIA_ATTACHMENT_ITEMS"}),d({attachmentType:"MEDIA",type:"ACTIVATE_ATTACHMENT_TYPE"}),b()}))}g["default"]=a}),98);
__d("ComposerImagineSelectionFooter.react",["ComposeImagineFooter.react","ComposerFbtStrings","FDSButton.react","addImageToMainFeed","isTruthy","react","react-compiler-runtime","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e=a.chosenImage,f=a.handleMutation,g=a.isMainImageLoading,h=a.lastValue,j=a.returnToMainFeedPage,k=c("useComposerViewStateDispatcher")();b[0]!==e.uri||b[1]!==k||b[2]!==j?(a=function(){c("addImageToMainFeed")(e.uri,j,k)},b[0]=e.uri,b[1]=k,b[2]=j,b[3]=a):a=b[3];a=a;var l,m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x8cjs6t x13fuv20 x178xt8z x40hh3e x78zum5 xwib8y2 xf7dkkf xyamay9"},m={className:"xktia5q"},b[4]=l,b[5]=m):(l=b[4],m=b[5]);b[6]!==f||b[7]!==g||b[8]!==h?(m=i.jsx("div",babelHelpers["extends"]({},m,{children:i.jsx(c("ComposeImagineFooter.react"),{handleMutation:f,isImageLoading:g,lastValue:h,placeholder:d("ComposerFbtStrings").PLACEHOLDER_FOR_DESCRIBE_IMAGE})})),b[6]=f,b[7]=g,b[8]=h,b[9]=m):m=b[9];b[10]!==g?(f=c("isTruthy")(g),b[10]=g,b[11]=f):f=b[11];b[12]!==a||b[13]!==f?(h=i.jsx("div",{children:i.jsx(c("FDSButton.react"),{disabled:f,label:d("ComposerFbtStrings").ADD_TO_POST,onPress:a,type:"primary"})}),b[12]=a,b[13]=f,b[14]=h):h=b[14];b[15]!==m||b[16]!==h?(g=i.jsxs("div",babelHelpers["extends"]({},l,{children:[m,h]})),b[15]=m,b[16]=h,b[17]=g):g=b[17];return g}g["default"]=a}),98);
__d("ComposerImagineIdeas.react",["fbt","CometImage.react","CometPressable.react","FDSGlimmer.react","FDSText.react","isTruthy","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={image:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"x1ck2h3a",width:"xh8yej3",$$css:!0},imageSelected:{borderTopColor:"x1m19zbm",borderInlineEndColor:"x7516sk",borderBottomColor:"xgsy3ew",borderInlineStartColor:"xkn8pfy",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",boxSizing:"x9f619",height:"x1ck2h3a",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",width:"xh8yej3",$$css:!0},textGlimmer:{alignSelf:"xamitd3",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x5yr21d",marginBottom:"xu06os2",width:"x3hqpx7",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.handleCanvasClick,f=a.imageUrl,g=a.isMainImageLoading,i=a.isQueryLoading,l=a.isSelected;a=a.promptToUser;var m;b[0]!==a?(m=h._(/*BTDS*/"{title}",[h._param("title",a)]),b[0]=a,b[1]=m):m=b[1];a=m;var n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x6s0dn4 x1nn3v0j x14vy60q x1120s5i xyiysdx"},n={className:"x2b8uid"},b[2]=m,b[3]=n):(m=b[2],n=b[3]);b[4]!==a||b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==i||b[9]!==l?(m=j.jsx("div",babelHelpers["extends"]({},m,{children:j.jsx("div",babelHelpers["extends"]({},n,{children:c("isTruthy")(i)?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"x1y5e3q9 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xu06os2 x1n2onr6 xh8yej3"}),j.jsx("div",{className:"x78zum5 xdt5ytf x18gnavp",children:j.jsx(c("FDSGlimmer.react"),{index:2,xstyle:k.textGlimmer})})]}):j.jsxs("div",{children:[j.jsx(c("CometPressable.react"),{disabled:c("isTruthy")(g),onPress:function(){e&&e()},overlayDisabled:!1,overlayRadius:c("isTruthy")(l)?8:10,children:j.jsx(c("CometImage.react"),{alt:"This is the image for the Styles/Ideas section",src:f!=null?f:"",xstyle:c("isTruthy")(l)?k.imageSelected:k.image})}),j.jsx("div",{className:"xzsf02u xz3x1om x1e6qi8l",children:j.jsx(c("FDSText.react"),{type:"meta4",children:a})})]})}))})),b[4]=a,b[5]=e,b[6]=f,b[7]=g,b[8]=i,b[9]=l,b[10]=m):m=b[10];return m}g["default"]=a}),226);
__d("ComposerImagineSideSection.react",["ComposerImagineIdeas.react","FDSText.react","isTruthy","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=12;function a(a){var b=d("react-compiler-runtime").c(9),e=a.canvasContent,f=a.canvasType,g=a.handleGlobalCanvasClick,h=a.isMainImageLoading,l=a.isQueryLoading,m=a.selectedIndex;a=a.title;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1h0vfkc x78zum5 xdt5ytf xw5ewwj x1jzhcrs x6ikm8r xsag5q8 x1g0dm76 xz9dl7a x1d6wnjt"},b[0]=n):n=b[0];b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==l||b[6]!==m||b[7]!==a?(n=i.jsx("div",babelHelpers["extends"]({},n,{children:c("isTruthy")(l)?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"xsag5q8 xmzvs34 xz9dl7a",children:i.jsx(c("FDSText.react"),{type:"bodyLink3",children:a})}),i.jsx("div",{className:"xfex06f x78zum5 x1a02dak",children:Array(j).fill(null).map(k)})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"xsag5q8 xmzvs34 xz9dl7a",children:i.jsx(c("FDSText.react"),{type:"bodyLink3",children:a})}),i.jsx("div",{className:"xfex06f x78zum5 x1a02dak",children:e==null?void 0:e.map(function(a,b){return i.jsx("div",{className:"x9f619 x6ikm8r x10wlt62 xpfhh1 xmibyj0",children:i.jsx(c("ComposerImagineIdeas.react"),{handleCanvasClick:function(){return g(b,f)},imageUrl:a.imageUri,isMainImageLoading:h,isQueryLoading:l,isSelected:m===b,promptToUser:a.short_prompt})},b)})})]})})),b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=l,b[6]=m,b[7]=a,b[8]=n):n=b[8];return n}function k(a,b){return i.jsx("div",{className:"x9f619 x6ikm8r x10wlt62 xpfhh1 xmibyj0",children:i.jsx(c("ComposerImagineIdeas.react"),{isQueryLoading:!0})},b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerImagineSidesQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24607771068880888"}),null);
__d("ComposerImagineSidesQuery.graphql",["ComposerImagineSidesQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"prompt"},{defaultValue:null,kind:"LocalArgument",name:"surface"}],c=[{kind:"Variable",name:"prompt",variableName:"prompt"},{kind:"Variable",name:"surface",variableName:"surface"}],d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e=[{alias:null,args:null,concreteType:"XFBGenAIImagineCanvasTemplatePromptsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBGenAIImaginePromptSuggestion",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"short_prompt",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ComposerImagineSidesQuery",selections:[{alias:null,args:c,concreteType:"XFBGenAIImagineCanvasContentResponse",kind:"LinkedField",name:"xfb_genai_imagine_canvas_content",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineCanvasTemplate",kind:"LinkedField",name:"suggestions",plural:!0,selections:[d,{alias:null,args:null,concreteType:"XFBGenAIImagineCanvasTemplatePromptsConnection",kind:"LinkedField",name:"prompts",plural:!1,selections:[{kind:"Stream",selections:e}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ComposerImagineSidesQuery",selections:[{alias:null,args:c,concreteType:"XFBGenAIImagineCanvasContentResponse",kind:"LinkedField",name:"xfb_genai_imagine_canvas_content",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineCanvasTemplate",kind:"LinkedField",name:"suggestions",plural:!0,selections:[d,{alias:null,args:null,concreteType:"XFBGenAIImagineCanvasTemplatePromptsConnection",kind:"LinkedField",name:"prompts",plural:!1,selections:[{"if":null,kind:"Stream",label:"ComposerImagineSidesQuery$stream$",selections:e}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("ComposerImagineSidesQuery_facebookRelayOperation"),metadata:{},name:"ComposerImagineSidesQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ComposerImagineTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({IDEAS:"Ideas",STYLES:"Styles"});f.SuggestionType=a}),66);
__d("ComposerImagineSides.react",["ComposerFbtStrings","ComposerImagineSideSection.react","ComposerImagineSidesQuery.graphql","ComposerImagineTypes","FBLogger","RelayHooks","isEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useEffect,m=e.useState,n=h!==void 0?h:h=b("ComposerImagineSidesQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(47),e=a.handleMutation,f=a.isImageReload,g=a.isMainImageLoading,h=a.prompt,j=a.setIsCanvasMode;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=[],b[0]=a):a=b[0];a=m(a);var q=a[0],r=a[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=[],b[1]=a):a=b[1];a=m(a);var s=a[0],t=a[1],u=d("RelayHooks").useRelayEnvironment();a=m(null);var v=a[0],w=a[1],x;b[2]!==f?(a=function(){f&&w(null)},x=[f],b[2]=f,b[3]=a,b[4]=x):(a=b[3],x=b[4]);l(a,x);a=m(!1);x=a[0];var y=a[1];b[5]!==u||b[6]!==h?(a=function(){var a={surface:"FB_FEED"};a={prompt:h,surface:a};y(!0);d("RelayHooks").fetchQuery(u,n,a).toPromise().then(function(a){var b;if(a!=null&&(b=a.xfb_genai_imagine_canvas_content)!=null&&b.suggestions){var e=function(b){var c;return(((c=a.xfb_genai_imagine_canvas_content)==null?void 0:c.suggestions)||[]).filter(function(a){return a.name===String(b)}).flatMap(p).filter(Boolean)},f=e(d("ComposerImagineTypes").SuggestionType.STYLES);e=e(d("ComposerImagineTypes").SuggestionType.IDEAS);((i||(i=c("isEmpty")))(f)||(i||(i=c("isEmpty")))(e))&&c("FBLogger")("ctx_adoption").mustfix("Failed to fetch canvas content: %s","No styles or ideas returned");r(f);t(e)}})["catch"](o)["finally"](function(){y(!1)})},b[5]=u,b[6]=h,b[7]=a):a=b[7];var z=a;b[8]!==z?(a=function(){z()},b[8]=z,b[9]=a):a=b[9];var A;b[10]!==z||b[11]!==h?(A=[z,h],b[10]=z,b[11]=h,b[12]=A):A=b[12];l(a,A);b[13]!==s||b[14]!==q||b[15]!==e||b[16]!==v||b[17]!==j?(a=function(a,b){if(v&&v.type===b&&v.index===a)w(null),j(!1);else{w({index:a,type:b!=null?b:d("ComposerImagineTypes").SuggestionType.STYLES});b=b===d("ComposerImagineTypes").SuggestionType.STYLES?q[a].prompt:s[a].prompt;e(b,!0)}},b[13]=s,b[14]=q,b[15]=e,b[16]=v,b[17]=j,b[18]=a):a=b[18];var B=a;b[19]!==(v==null?void 0:v.index)||b[20]!==(v==null?void 0:v.type)?(A=function(a){return(v==null?void 0:v.type)===a?v==null?void 0:v.index:null},b[19]=v==null?void 0:v.index,b[20]=v==null?void 0:v.type,b[21]=A):A=b[21];a=A;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1h0vfkc xdt5ytf xx6bls6"},b[22]=A):A=b[22];var C;b[23]!==B?(C=function(a){return B(a,d("ComposerImagineTypes").SuggestionType.STYLES)},b[23]=B,b[24]=C):C=b[24];var D;b[25]!==a?(D=a(d("ComposerImagineTypes").SuggestionType.STYLES),b[25]=a,b[26]=D):D=b[26];var E;b[27]!==q||b[28]!==g||b[29]!==x||b[30]!==C||b[31]!==D?(E=k.jsx(c("ComposerImagineSideSection.react"),{canvasContent:q,canvasType:d("ComposerImagineTypes").SuggestionType.STYLES,handleGlobalCanvasClick:C,isMainImageLoading:g,isQueryLoading:x,selectedIndex:D,title:d("ComposerFbtStrings").STYLES_TITLE}),b[27]=q,b[28]=g,b[29]=x,b[30]=C,b[31]=D,b[32]=E):E=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(C=k.jsx("hr",{className:"x1wsgfga xm6i5cn"}),b[33]=C):C=b[33];b[34]!==B?(D=function(a){return B(a,d("ComposerImagineTypes").SuggestionType.IDEAS)},b[34]=B,b[35]=D):D=b[35];var F;b[36]!==a?(F=a(d("ComposerImagineTypes").SuggestionType.IDEAS),b[36]=a,b[37]=F):F=b[37];b[38]!==s||b[39]!==g||b[40]!==x||b[41]!==D||b[42]!==F?(a=k.jsx(c("ComposerImagineSideSection.react"),{canvasContent:s,canvasType:d("ComposerImagineTypes").SuggestionType.IDEAS,handleGlobalCanvasClick:D,isMainImageLoading:g,isQueryLoading:x,selectedIndex:F,title:d("ComposerFbtStrings").IDEAS_TITLE}),b[38]=s,b[39]=g,b[40]=x,b[41]=D,b[42]=F,b[43]=a):a=b[43];b[44]!==E||b[45]!==a?(g=k.jsxs("div",babelHelpers["extends"]({},A,{children:[E,C,a]})),b[44]=E,b[45]=a,b[46]=g):g=b[46];return g}function o(a){c("FBLogger")("ctx_adoption").mustfix("Error fetching canvas content: %s",String(a))}function p(a){return(a=a.prompts)==null?void 0:a.edges.map(q)}function q(a){var b;return{imageUri:(b=(b=a.node)==null?void 0:b.image_uri)!=null?b:"",prompt:(b=(b=a.node)==null?void 0:b.prompt)!=null?b:"",short_prompt:(a=(b=a.node)==null?void 0:b.short_prompt)!=null?a:""}}g["default"]=a}),98);
__d("ComposerEditHeadBar.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"xkidn6p xrv8gga x10l6tqk x1nc2wqw x1vjfegm"},b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",babelHelpers["extends"]({},c,{children:a})),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("ComposerEditPageRender.react",["CometImage.react","JSResourceForInteraction","bx","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{borderStartStartRadius:"x1rgw4pv",borderStartEndRadius:"x1vjm0to",borderEndEndRadius:"xnqoqkk",borderEndStartRadius:"x16lu3ki",width:"xh8yej3",$$css:!0}},k=c("lazyLoadComponent")(c("JSResourceForInteraction")("ViewportAwareKeyframes.react").__setRef("ComposerEditPageRender.react"));function a(a){var b=d("react-compiler-runtime").c(8),e=a.imageUrl;a=a.isLoading;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1sy10c2 x1n2onr6"},b[0]=f):f=b[0];var g;b[1]!==a?(g=a&&i.jsx("div",{className:"x6s0dn4 xgv0goc x5v4r1h x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x78zum5 xl56j7k x1us19tq xgqtt45 x10l6tqk",children:i.jsx(k,{projectName:"messenger_armadillo_web",source:c("bx").getURL(c("bx")("25350"))})}),b[1]=a,b[2]=g):g=b[2];b[3]!==e?(a=i.jsx(c("CometImage.react"),{src:e,xstyle:j.image}),b[3]=e,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsxs("div",babelHelpers["extends"]({},f,{children:[g,a]})),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("ComposerEditPushPageEditSuggestionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9964378546948713"}),null);
__d("ComposerEditPushPageEditSuggestionMutation.graphql",["ComposerEditPushPageEditSuggestionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"params"},{defaultValue:null,kind:"LocalArgument",name:"surface"},{defaultValue:null,kind:"LocalArgument",name:"surface_string_override"}],c=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"params"},{kind:"Variable",name:"surface",variableName:"surface"},{kind:"Variable",name:"surface_string_override",variableName:"surface_string_override"}],concreteType:"XFBGenAIIntentUserPhotoEditSuggestionResponse",kind:"LinkedField",name:"xfb_genai_imagine_edit_suggestions_for_intents",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"suggestions",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"strong_id__",storageKey:null}]}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ComposerEditPushPageEditSuggestionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ComposerEditPushPageEditSuggestionMutation",selections:c},params:{id:b("ComposerEditPushPageEditSuggestionMutation_facebookRelayOperation"),metadata:{},name:"ComposerEditPushPageEditSuggestionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ComposerEditPushPageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24042695412047204"}),null);
__d("ComposerEditPushPageMutation.graphql",["ComposerEditPushPageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"entrypoint_params"},c={defaultValue:null,kind:"LocalArgument",name:"params"},d={defaultValue:null,kind:"LocalArgument",name:"surface"},e=[{kind:"Variable",name:"entrypoint_params",variableName:"entrypoint_params"},{kind:"Variable",name:"params",variableName:"params"},{kind:"Variable",name:"surface",variableName:"surface"}],f={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineMedia",kind:"LinkedField",name:"imagine_result_success",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response_id",storageKey:null}],storageKey:null}],type:"XFBGenAIImagineResultSuccess",abstractKey:null},g={alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},h={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"strong_id__",storageKey:null}]};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"ComposerEditPushPageMutation",selections:[{alias:null,args:e,concreteType:"XFBGenAIImagineResponse",kind:"LinkedField",name:"xfb_genai_imagine_edit_for_intents",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!0,selections:[f],storageKey:null},g],storageKey:null},h],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"ComposerEditPushPageMutation",selections:[{alias:null,args:e,concreteType:"XFBGenAIImagineResponse",kind:"LinkedField",name:"xfb_genai_imagine_edit_for_intents",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f],storageKey:null},g],storageKey:null},h]},params:{id:b("ComposerEditPushPageMutation_facebookRelayOperation"),metadata:{},name:"ComposerEditPushPageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ComposerEditSuggestionPill.react",["fbt","FDSGlimmer.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={bodyGlimmer:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x170jfvy",marginBottom:"x12nagc",$$css:!0},bodyGlimmerFirst:{marginTop:"x1gslohp",width:"xh8yej3",$$css:!0},bodyGlimmerLast:{marginTop:"x1xmf6yo",width:"x3hqpx7",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.description;a=a.isSelected;a=a===void 0?!1:a;var f;b[0]!==e?(f=h._(/*BTDS*/"{description}",[h._param("description",e)]),b[0]=e,b[1]=f):f=b[1];f=f;var g;b[2]!==a?(g={0:{className:"x6s0dn4 x12ol6y4 x180vkcf x1khw62d x709u02 xe4z6p8 x78zum5 x10wjd1d xz9dl7a xsag5q8 xbmws1g x1hwfens x1yc453h x642log"},1:{className:"x6s0dn4 x12ol6y4 x180vkcf x1khw62d x709u02 x78zum5 x10wjd1d xz9dl7a xsag5q8 xbmws1g x1hwfens x1yc453h x642log x1sq2vv"}}[!!a<<0],b[2]=a,b[3]=g):g=b[3];b[4]!==e||b[5]!==f?(a=e?j.jsx(c("FDSText.react"),{numberOfLines:2,type:"bodyLink4",children:f}):j.jsxs("div",{className:"x78zum5 xdt5ytf xh8yej3",children:[j.jsx(c("FDSGlimmer.react"),{index:1,xstyle:[k.bodyGlimmer,k.bodyGlimmerFirst]}),j.jsx(c("FDSGlimmer.react"),{index:2,xstyle:[k.bodyGlimmer,k.bodyGlimmerLast]})]}),b[4]=e,b[5]=f,b[6]=a):a=b[6];b[7]!==g||b[8]!==a?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[7]=g,b[8]=a,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("ComposerEditSuggestionHScroll.react",["CometPressable.react","ComposerEditSuggestionPill.react","ComposerFbtStrings","FDSCard.react","FDSHScroll.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=200;function a(a){var b=d("react-compiler-runtime").c(12),e=a.accessibilityLabel,f=a.handlePress,g=a.pillData,h=a.selectedIndex;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x12ol6y4 x180vkcf x1khw62d x709u02 xpdmqnj x1g0dm76"},b[0]=a):a=b[0];var k;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(k={type:"fixed",width:j},b[1]=k):k=b[1];if(b[2]!==f||b[3]!==g||b[4]!==h){var l;b[6]!==f||b[7]!==h?(l=function(a,b){return i.jsx(d("FDSHScroll.react").Child,{children:i.jsx(c("CometPressable.react"),{"aria-label":d("ComposerFbtStrings").SUGGESTION_PILL_LABEL,onPress:function(){return f(b)},overlayDisabled:!1,overlayRadius:20,children:i.jsx("div",{className:"x1iyjqo2 x1n2onr6 x14atkfc",children:i.jsx(c("FDSCard.react"),{background:"transparent",children:i.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k",children:i.jsx(c("ComposerEditSuggestionPill.react"),{description:a,isSelected:h===b})})})})})},b)},b[6]=f,b[7]=h,b[8]=l):l=b[8];l=g.map(l);b[2]=f;b[3]=g;b[4]=h;b[5]=l}else l=b[5];b[9]!==e||b[10]!==l?(g=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(d("FDSHScroll.react").Container,{accessibilityLabel:e,cardWidth:k,gap:8,hideArrows:!1,reduceArrowSize:!0,children:l})})),b[9]=e,b[10]=l,b[11]=g):g=b[11];return g}g.CometComposerImaginePhotoHScroll=a}),98);
__d("ComposerImagineEditFooter.react",["ComposeImagineFooter.react","ComposerFbtStrings","FDSButton.react","addImageToMainFeed","react","react-compiler-runtime","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={buttonWrapper:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",marginBottom:"x1e56ztr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.chosenImageUri,f=a.handleMutation,g=a.isEditImageLoading,h=a.lastValue,k=a.returnToMainFeedPage,l=c("useComposerViewStateDispatcher")();b[0]!==e||b[1]!==l||b[2]!==k?(a=function(){c("addImageToMainFeed")(e,k,l)},b[0]=e,b[1]=l,b[2]=k,b[3]=a):a=b[3];a=a;var m,n;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x9f619 x1vg3z9j x78zum5 x1q0g3np xl56j7k xwib8y2 xpdmqnj x1g0dm76 xm83of2"},n={className:"x1iyjqo2 xh8yej3"},b[4]=m,b[5]=n):(m=b[4],n=b[5]);b[6]!==f||b[7]!==g||b[8]!==h?(n=i.jsx("div",babelHelpers["extends"]({},n,{children:i.jsx(c("ComposeImagineFooter.react"),{handleMutation:f,isImageLoading:g,lastValue:h,placeholder:d("ComposerFbtStrings").PLACEHOLDER_FOR_DESCRIBE_EDIT})})),b[6]=f,b[7]=g,b[8]=h,b[9]=n):n=b[9];b[10]!==a||b[11]!==g?(f=i.jsx("div",{style:j.buttonWrapper,children:i.jsx(c("FDSButton.react"),{disabled:g,label:d("ComposerFbtStrings").ADD_TO_POST,onPress:a,type:"primary"})}),b[10]=a,b[11]=g,b[12]=f):f=b[12];b[13]!==n||b[14]!==f?(h=i.jsxs("div",babelHelpers["extends"]({},m,{children:[n,f]})),b[13]=n,b[14]=f,b[15]=h):h=b[15];return h}g["default"]=a}),98);
__d("ComposerImagineFeedbackSectionEntrypoint.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("ComposerImagineFeedbackSection.react").__setRef("ComposerImagineFeedbackSectionEntrypoint.entrypoint")};g["default"]=a}),98);
__d("FBNucleusArrowsCircleOutline24Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M2.5 12a9.5 9.5 0 0 1 16.866-6H18a1 1 0 1 0 0 2h3.5A1.5 1.5 0 0 0 23 6.5V3a1 1 0 1 0-2 0v1.84A11.48 11.48 0 0 0 12 .5C5.649.5.5 5.649.5 12a1 1 0 1 0 2 0zm21 0a1 1 0 1 0-2 0 9.5 9.5 0 0 1-16.866 6H6a1 1 0 1 0 0-2H2.5A1.5 1.5 0 0 0 1 17.5V21a1 1 0 1 0 2 0v-1.84a11.48 11.48 0 0 0 9 4.34c6.351 0 11.5-5.149 11.5-11.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=24;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusRedoOutline24Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M16.293 3.707a1 1 0 0 1 1.414-1.414l2.94 2.94a2.5 2.5 0 0 1 0 3.535l-2.94 2.94a1 1 0 0 1-1.414-1.415L18.586 8H9a5 5 0 0 0 0 10h9a1 1 0 1 1 0 2H9A7 7 0 1 1 9 6h9.586l-2.293-2.293z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=24;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusUndoOutline24Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.707 3.707a1 1 0 0 0-1.414-1.414l-2.94 2.94a2.5 2.5 0 0 0 0 3.535l2.94 2.94a1 1 0 0 0 1.414-1.415L5.414 8H15a5 5 0 0 1 0 10H6a1 1 0 1 0 0 2h9a7 7 0 1 0 0-14H5.414l2.293-2.293z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=24;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("EditPageBar.react",["ComposerFbtStrings","ComposerImagineFeedbackSectionEntrypoint.entrypoint","FBNucleusArrowsCircleOutline24Icon.react","FBNucleusDots3HorizontalOutline24Icon.react","FBNucleusRedoOutline24Icon.react","FBNucleusUndoOutline24Icon.react","FDSCircleButton.react","FDSEntryPointPopoverTrigger.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.handleRedo,f=a.handleReEdit,g=a.handleUndo,h=a.hasRedoHistory,k=a.hasUndoHistory;a=a.response_id;var l,m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"xtqikln x78zum5 x1qughib"},m="xtqikln x78zum5 x1q0g3np",b[0]=l,b[1]=m):(l=b[0],m=b[1]);k=!k;var n;b[2]!==g||b[3]!==k?(n=i.jsx(c("FDSCircleButton.react"),{"aria-label":d("ComposerFbtStrings").UNDO_BUTTON_LABEL,disabled:k,icon:c("FBNucleusUndoOutline24Icon.react"),onPress:g,size:36,type:"secondary-on-media"}),b[2]=g,b[3]=k,b[4]=n):n=b[4];b[5]!==e||b[6]!==h?(g=h&&i.jsx(c("FDSCircleButton.react"),{"aria-label":d("ComposerFbtStrings").REDO_BUTTON_LABEL,icon:c("FBNucleusRedoOutline24Icon.react"),onPress:e,size:36,type:"secondary-on-media"}),b[5]=e,b[6]=h,b[7]=g):g=b[7];b[8]!==f||b[9]!==h?(k=!h&&i.jsx(c("FDSCircleButton.react"),{"aria-label":d("ComposerFbtStrings").RE_EDIT_BUTTON_LABEL,icon:c("FBNucleusArrowsCircleOutline24Icon.react"),onPress:f,size:36,type:"secondary-on-media"}),b[8]=f,b[9]=h,b[10]=k):k=b[10];b[11]!==n||b[12]!==g||b[13]!==k?(e=i.jsxs("div",{className:m,children:[n,g,k]}),b[11]=n,b[12]=g,b[13]=k,b[14]=e):e=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[15]=f):f=b[15];b[16]!==a?(h=i.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:f,otherProps:{response_id:a},popoverEntryPoint:c("ComposerImagineFeedbackSectionEntrypoint.entrypoint"),preloadTrigger:"button",children:j}),b[16]=a,b[17]=h):h=b[17];b[18]!==e||b[19]!==h?(m=i.jsxs("div",babelHelpers["extends"]({},l,{children:[e,h]})),b[18]=e,b[19]=h,b[20]=m):m=b[20];return m}function j(a,b,e,f,g,h){return i.jsx(c("FDSCircleButton.react"),{"aria-label":d("ComposerFbtStrings").FEEDBACK_BUTTON_LABEL,icon:c("FBNucleusDots3HorizontalOutline24Icon.react"),onHoverIn:f,onHoverOut:g,onPress:b,onPressIn:h,ref:a,size:36,type:"secondary-on-media"})}j.displayName=j.name+" [from "+f.id+"]";g.EditPageBar=a}),98);
__d("ComposerEditPushPage.react",["ComposerEditHeadBar.react","ComposerEditPageRender.react","ComposerEditPushPageEditSuggestionMutation.graphql","ComposerEditPushPageMutation.graphql","ComposerEditSuggestionHScroll.react","ComposerFbtStrings","ComposerImagineEditFooter.react","EditPageBar.react","FBLogger","RelayHooks","gkx","isEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useEffect,n=e.useState,o=h!==void 0?h:h=b("ComposerEditPushPageMutation.graphql"),p=i!==void 0?i:i=b("ComposerEditPushPageEditSuggestionMutation.graphql");f=2;var q=Array(f).fill(""),r=c("gkx")("2762");function a(a){var b=d("react-compiler-runtime").c(68),e=a.chosenImage;a=a.returnToMainFeedPage;var f=n(e),g=f[0],h=f[1];f=n(null);var i=f[0],k=f[1];f=d("RelayHooks").useMutation(o);var t=f[0];f=f[1];var u;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(u=[],b[0]=u):u=b[0];u=n(u);var v=u[0],w=u[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(u=[],b[1]=u):u=b[1];u=n(u);var x=u[0],y=u[1];u=d("RelayHooks").useMutation(p);var z=u[0],A=u[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(u=[],b[2]=u):u=b[2];u=n(u);var B=u[0],C=u[1];u=n(!1);var D=u[0],E=u[1];u=!f;var F;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(F=function(a,b){a=a.xfb_genai_imagine_edit_for_intents;if((a==null?void 0:a.success)===!0){var d,e,f,g,i=a==null||(d=a.response[0])==null||(d=d.imagine_result_success)==null?void 0:d.uri;e=(e=a==null||(f=a.response[0])==null||(f=f.imagine_result_success)==null?void 0:f.response_id)!=null?e:"";a=a==null||(g=a.response[0])==null||(g=g.imagine_result_success)==null?void 0:g.image_id;if(i!=null&&a!=null){var j={image_id:a,response_id:e,uri:i};h(j);w(function(a){return[].concat(a,[{image:j,prompt:b}])});y([])}else c("FBLogger")("ctx_adoption").mustfix("Received an empty image data from mutation")}},b[3]=F):F=b[3];var G=F;b[4]!==z?(F=function(a){z({onCompleted:function(a){a=Array.from((a=(a=a.xfb_genai_imagine_edit_suggestions_for_intents)==null?void 0:a.suggestions)!=null?a:[]);a.length>0&&C(a)},onError:function(a){c("FBLogger")("ctx_adoption").mustfix("Failed to fetch edit suggestions from mutation: %s",a.message),E(!0)},variables:{params:{imagine_image_ent:a},surface:"FB_FEED"}})},b[4]=z,b[5]=F):F=b[5];var H=F;b[6]!==t||b[7]!==g.image_id?(F=function(a){var b={previous_image_id:g.image_id,prompt:a};t({onCompleted:function(b){G(b,a)},onError:s,variables:{entrypoint_params:{surface:"INTENTS"},params:b,surface:"FB_FEED"}})},b[6]=t,b[7]=g.image_id,b[8]=F):F=b[8];var I=F;b[9]!==e||b[10]!==v?(F=function(){if((j||(j=c("isEmpty")))(v)){c("FBLogger")("ctx_adoption").warn("Unexpected empty history stack in handleUndo");return}var a=v.at(-1);a&&y(function(b){return[].concat(b,[a])});var b=v.slice(0,-1);w(b);h((b=(b=b.at(-1))==null?void 0:b.image)!=null?b:e)},b[9]=e,b[10]=v,b[11]=F):F=b[11];F=F;var J;b[12]!==x?(J=function(){if((j||(j=c("isEmpty")))(x)){c("FBLogger")("ctx_adoption").warn("Unexpected empty redo stack in handleRedo");return}var a=x.at(-1);a&&(w(function(b){return[].concat(b,[a])}),h(a.image));var b=x.slice(0,-1);y(b)},b[12]=x,b[13]=J):J=b[13];J=J;var K;b[14]!==H||b[15]!==e.image_id||b[16]!==D||b[17]!==A||b[18]!==B?(K=function(){if(!r)return;!D&&(j||(j=c("isEmpty")))(B)&&!A&&H(e.image_id)},b[14]=H,b[15]=e.image_id,b[16]=D,b[17]=A,b[18]=B,b[19]=K):K=b[19];var L;b[20]!==H||b[21]!==e.image_id||b[22]!==z||b[23]!==D||b[24]!==A||b[25]!==B?(L=[e.image_id,A,z,D,B,H],b[20]=H,b[21]=e.image_id,b[22]=z,b[23]=D,b[24]=A,b[25]=B,b[26]=L):L=b[26];m(K,L);b[27]!==I||b[28]!==v?(K=function(){var a;if((j||(j=c("isEmpty")))(v)){c("FBLogger")("ctx_adoption").warn("Unexpected empty historyStack in handleReEdit");return}I((a=(a=v.at(-1))==null?void 0:a.prompt)!=null?a:"")},b[27]=I,b[28]=v,b[29]=K):K=b[29];L=K;b[30]!==I||b[31]!==B?(K=function(a){var b=B[a];if(b==null)return;k(a);I(b)},b[30]=I,b[31]=B,b[32]=K):K=b[32];var M=K,N;b[33]===Symbol["for"]("react.memo_cache_sentinel")?(K={className:"x6s0dn4 x8cjs6t x178xt8z x78zum5 xdt5ytf xu9qebc"},N={className:"x1ik882q x1kqw5pp xl56j7k x13eb2wx"},b[33]=K,b[34]=N):(K=b[33],N=b[34]);var O;b[35]!==g.response_id||b[36]!==L||b[37]!==J||b[38]!==F||b[39]!==v||b[40]!==x||b[41]!==u?(O=u&&l.jsx(c("ComposerEditHeadBar.react"),{children:l.jsx(d("EditPageBar.react").EditPageBar,{handleReEdit:L,handleRedo:J,handleUndo:F,hasRedoHistory:!(j||(j=c("isEmpty")))(x),hasUndoHistory:!(j||(j=c("isEmpty")))(v),response_id:g.response_id})}),b[35]=g.response_id,b[36]=L,b[37]=J,b[38]=F,b[39]=v,b[40]=x,b[41]=u,b[42]=O):O=b[42];b[43]!==g.uri||b[44]!==f?(L=l.jsx(c("ComposerEditPageRender.react"),{imageUrl:g.uri,isLoading:f}),b[43]=g.uri,b[44]=f,b[45]=L):L=b[45];b[46]!==O||b[47]!==L?(J=l.jsxs("div",babelHelpers["extends"]({},N,{children:[O,L]})),b[46]=O,b[47]=L,b[48]=J):J=b[48];b[49]===Symbol["for"]("react.memo_cache_sentinel")?(F=l.jsx("hr",{className:"x14nfmen xh8yej3"}),u={className:"x1iyjqo2 xrgej4m xwib8y2 xh8yej3"},b[49]=F,b[50]=u):(F=b[49],u=b[50]);b[51]!==M||b[52]!==A||b[53]!==B||b[54]!==i?(N=r&&l.jsx(d("ComposerEditSuggestionHScroll.react").CometComposerImaginePhotoHScroll,{accessibilityLabel:d("ComposerFbtStrings").EDIT_SUGGESTION_LABEL,handlePress:function(a){return M(a)},pillData:A?q:B,selectedIndex:i}),b[51]=M,b[52]=A,b[53]=B,b[54]=i,b[55]=N):N=b[55];b[56]!==N?(O=l.jsx("div",babelHelpers["extends"]({},u,{children:N})),b[56]=N,b[57]=O):O=b[57];b[58]===Symbol["for"]("react.memo_cache_sentinel")?(L={className:"x1ve1bff xh8yej3"},b[58]=L):L=b[58];b[59]!==g.uri||b[60]!==I||b[61]!==f||b[62]!==a?(i=l.jsx("div",babelHelpers["extends"]({},L,{children:l.jsx(c("ComposerImagineEditFooter.react"),{chosenImageUri:g.uri,handleMutation:I,isEditImageLoading:f,lastValue:"",returnToMainFeedPage:a})})),b[59]=g.uri,b[60]=I,b[61]=f,b[62]=a,b[63]=i):i=b[63];b[64]!==J||b[65]!==O||b[66]!==i?(u=l.jsxs("div",babelHelpers["extends"]({},K,{children:[J,F,O,i]})),b[64]=J,b[65]=O,b[66]=i,b[67]=u):u=b[67];return u}function s(a){c("FBLogger")("ctx_adoption").mustfix("Failed to fetch edited image from mutation: %s",a.message)}g["default"]=a}),98);
__d("EditSelectionBar.react",["fbt","CometPressable.react","ComposerFbtStrings","ComposerImagineFeedbackSectionEntrypoint.entrypoint","FBNucleusDots3HorizontalOutline24Icon.react","FDSCircleButton.react","FDSEntryPointPopoverTrigger.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.handleMoveToEditPage;a=a.response_id;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xtqikln x78zum5 x1q0g3np x1qughib"},b[0]=f):f=b[0];var g,i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 xatbrnm x12ol6y4 x180vkcf x1khw62d x709u02 x78zum5 xl56j7k x1rj1pf4 x1hxoosp xexx8yu x11lfxj5 x18d9i69 x135b78x",i={className:"x1y1aw1k xpdmqnj xwib8y2 x1g0dm76"},b[1]=g,b[2]=i):(g=b[1],i=b[2]);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx("div",{className:g,children:j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("FDSText.react"),{align:"end",color:"white",type:"bodyLink3",children:h._(/*BTDS*/"Edit")})}))}),b[3]=g):g=b[3];b[4]!==e?(i=j.jsx(c("CometPressable.react"),{onPress:e,overlayDisabled:!1,overlayRadius:20,children:g}),b[4]=e,b[5]=i):i=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[6]=g):g=b[6];b[7]!==a?(e=j.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:g,otherProps:{response_id:a},popoverEntryPoint:c("ComposerImagineFeedbackSectionEntrypoint.entrypoint"),preloadTrigger:"button",children:k}),b[7]=a,b[8]=e):e=b[8];b[9]!==i||b[10]!==e?(g=j.jsxs("div",babelHelpers["extends"]({},f,{children:[i,e]})),b[9]=i,b[10]=e,b[11]=g):g=b[11];return g}function k(a,b,e,f,g,h){return j.jsx(c("FDSCircleButton.react"),{"aria-label":d("ComposerFbtStrings").FEEDBACK_BUTTON_LABEL,icon:c("FBNucleusDots3HorizontalOutline24Icon.react"),onFocusOut:g,onHoverIn:f,onPress:b,onPressIn:h,ref:a,size:36,type:"secondary-on-media"})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useCometComposerPushPage",["CometComposerPushPageContext","JSResourceForInteraction","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useRef,k=c("JSResourceForInteraction")("missingNavigationErrorHandler").__setRef("useCometComposerPushPage");function a(){var a,b=d("react-compiler-runtime").c(1);a=(a=i(c("CometComposerPushPageContext")))==null?void 0:a.pushPageHandler;var e=j(null);if(a==null){var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){c("promiseDone")(k.load().then(function(b){return b(e,a)}))},b[0]=f):f=b[0];return f}return a}g["default"]=a}),98);
__d("ComposerImagineWithAIImagineContentRender.react",["fbt","ix","CometImage.react","CometPressable.react","ComposerEditHeadBar.react","ComposerEditPushPage.react","ComposerFbtStrings","EditSelectionBar.react","JSResourceForInteraction","bx","lazyLoadComponent","react","react-compiler-runtime","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=4,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("ViewportAwareKeyframes.react").__setRef("ComposerImagineWithAIImagineContentRender.react")),n=h._(/*BTDS*/"{title}",[h._param("title",d("ComposerFbtStrings").PUSH_PAGE_TITLE_IMAGINE_WITH_AI)]),o={mainImage:{borderStartStartRadius:"x1rgw4pv",borderStartEndRadius:"x1vjm0to",borderEndEndRadius:"xnqoqkk",borderEndStartRadius:"x16lu3ki",maxWidth:"x193iq5w",$$css:!0},thumbnail:{borderStartStartRadius:"x1rgw4pv",borderStartEndRadius:"x1vjm0to",borderEndEndRadius:"xnqoqkk",borderEndStartRadius:"x16lu3ki",height:"xng8ra",objectFit:"xl1xv1r",opacity:"x1ks1olk",width:"x1247r65",$$css:!0},thumbnailSelected:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xng8ra",objectFit:"xl1xv1r",opacity:"x1hc1fzr",outline:"x8l51k7",outlineOffset:"x1y3gkto",width:"x1247r65",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.isEditLoading,f=a.isMainImageLoading,g=a.passedResultsMedia,h=a.returnToMainFeedPage,j=a.selectedIndex,q=a.setSelectedIndex;b[0]!==q?(a=function(a){q(a)},b[0]=q,b[1]=a):a=b[1];var r=a,s=g.slice(0,l),t=c("useCometComposerPushPage")(),u=function(){var a=s[j];t(n,function(b){return k.jsx(c("ComposerEditPushPage.react"),{chosenImage:a,returnToMainFeedPage:h})},!1,{titleIconAddOn:k.jsx(c("CometImage.react"),{height:20,src:i("912428"),width:20}),titleIconScale:.75})};a=function(){var a,b;if(e&&f){var d;return k.jsxs("div",{className:"x6s0dn4 x1h0vfkc x12ol6y4 x180vkcf x1khw62d x709u02 x78zum5 x7v15sj xl56j7k xkr2gcc x4s9nme",children:[k.jsx("div",{className:"x6s0dn4 xgv0goc x5v4r1h x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x78zum5 x5yr21d xl56j7k x4hzcap x1fmlzrv x10l6tqk xh8yej3",children:k.jsx(m,{projectName:"messenger_armadillo_web",source:c("bx").getURL(c("bx")("25350"))})}),k.jsx(c("CometImage.react"),{src:s==null||(d=s[j])==null?void 0:d.uri,xstyle:o.mainImage})]})}return f?k.jsx("div",{className:"x6s0dn4 x1h0vfkc x12ol6y4 x180vkcf x1khw62d x709u02 x78zum5 x7v15sj xl56j7k xkr2gcc x4s9nme",children:k.jsx(m,{projectName:"messenger_armadillo_web",source:c("bx").getURL(c("bx")("25350"))})}):k.jsxs("div",{className:"x6s0dn4 x1h0vfkc x12ol6y4 x180vkcf x1khw62d x709u02 x78zum5 x7v15sj xl56j7k xkr2gcc x4s9nme",children:[k.jsx("div",{className:"xl56j7k x17dxqf0 x10l6tqk x1jzctok",children:k.jsx(c("ComposerEditHeadBar.react"),{children:k.jsx(c("EditSelectionBar.react"),{handleMoveToEditPage:u,response_id:s==null||(a=s[j])==null?void 0:a.response_id})})}),k.jsx(c("CometImage.react"),{src:s==null||(b=s[j])==null?void 0:b.uri,xstyle:o.mainImage})]})};g=function(){return f&&!e?Array(l).fill().map(p):s.map(function(a,b){return k.jsx(c("CometPressable.react"),{"aria-label":d("ComposerFbtStrings").SWITCH_TO_CURRENT_IMAGE_BUTTON_LABEL,onPress:function(){return r(b)},overlayDisabled:!1,overlayRadius:b===j?8:15,children:k.jsx(c("CometImage.react"),{src:a.uri,xstyle:b===j?o.thumbnailSelected:o.thumbnail},b)},b)})};var v;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x18hwk67 x78zum5 xl56j7k x1cnzs8 xw8kemb xx6bls6 x1j1r7yx"},b[2]=v):v=b[2];var w;b[3]!==a?(w=a(),b[3]=a,b[4]=w):w=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x78zum5 xdt5ytf xl56j7k xgpatz3"},b[5]=a):a=b[5];g=g();var x;b[6]!==a||b[7]!==g?(x=k.jsx("div",babelHelpers["extends"]({},a,{children:g})),b[6]=a,b[7]=g,b[8]=x):x=b[8];b[9]!==v||b[10]!==w||b[11]!==x?(a=k.jsx("div",{children:k.jsxs("div",babelHelpers["extends"]({},v,{children:[w,x]}))}),b[9]=v,b[10]=w,b[11]=x,b[12]=a):a=b[12];return a}function p(a,b){return k.jsx("div",{className:"x1h0vfkc x1obq294 x5a5i1n xde0f50 x15x8krk x879a55 xfvyar9 x1n2onr6"},b)}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useCometComposerImagineMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="31268047996127235"}),null);
__d("useCometComposerImagineMutation.graphql",["useCometComposerImagineMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"params"},{defaultValue:null,kind:"LocalArgument",name:"surface"}],c=[{kind:"Variable",name:"params",variableName:"params"},{kind:"Variable",name:"surface",variableName:"surface"}],d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineMedia",kind:"LinkedField",name:"imagine_result_success",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"image_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response_id",storageKey:null}],storageKey:null}],type:"XFBGenAIImagineResultSuccess",abstractKey:null},e={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_visible_message",storageKey:null}],type:"XFBGenAIImagineResultGenericError",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometComposerImagineMutation",selections:[{alias:null,args:c,concreteType:"XFBGenAIImagineResponse",kind:"LinkedField",name:"xfb_genai_imagine_for_intents",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!0,selections:[d,e],storageKey:null},f],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometComposerImagineMutation",selections:[{alias:null,args:c,concreteType:"XFBGenAIImagineResponse",kind:"LinkedField",name:"xfb_genai_imagine_for_intents",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"response",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e],storageKey:null},f],storageKey:null}]},params:{id:b("useCometComposerImagineMutation_facebookRelayOperation"),metadata:{},name:"useCometComposerImagineMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useCometComposerImagineMutation",["CometRelay","react-compiler-runtime","useCometComposerImagineMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=6,j="SQUARE",k=h!==void 0?h:h=b("useCometComposerImagineMutation.graphql");function a(a){var b=d("react-compiler-runtime").c(7),c=a.onCompleted,e=a.onError;a=d("CometRelay").useMutation(k);var f=a[0];a=a[1];var g;b[0]!==f||b[1]!==c||b[2]!==e?(g=function(a){f({onCompleted:function(a){var b;if(((b=a.xfb_genai_imagine_for_intents)==null?void 0:b.success)===!0){c(a);return}a=(b=a.xfb_genai_imagine_for_intents)==null||(b=b.response)==null?void 0:b.find(l);e(a==null?void 0:a.user_visible_message)},onError:function(a){return e(a.message)},variables:{params:{blocked_intents:["MEMU"],num_images:i,orientation:j,prompt:a},surface:"FB_FEED"}})},b[0]=f,b[1]=c,b[2]=e,b[3]=g):g=b[3];var h;b[4]!==a||b[5]!==g?(h={isMutationInFlight:a,triggerMutation:g},b[4]=a,b[5]=g,b[6]=h):h=b[6];return h}function l(a){return a.user_visible_message!=null&&a.user_visible_message.trim().length>0}g["default"]=a}),98);
__d("ComposerImagineSelectionPushPage.react",["ComposerImagineSelectionFooter.react","ComposerImagineSides.react","ComposerImagineWithAIImagineContentRender.react","FBLogger","isEmpty","react","react-compiler-runtime","useCometComposerImagineMutation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=d("react-compiler-runtime").c(56),e=a.prompt;a=a.returnToMainFeedPage;var f=m(0),g=f[0];f=f[1];e=m(e);var i=e[0],o=e[1];e=m(!1);var q=e[0],r=e[1];e=m(!1);var s=e[0],t=e[1];e=m(!1);var u=e[0],v=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={canvas:[],regular:[]},b[0]=e):e=b[0];e=m(e);var w=e[0],x=e[1],y=l(u);e=m(!1);var z=e[0],A=e[1],B;b[1]!==u?(e=function(){y.current=u},B=[u],b[1]=u,b[2]=e,b[3]=B):(e=b[2],B=b[3]);k(e,B);var C=p,D=n;if(b[4]===Symbol["for"]("react.memo_cache_sentinel")){var E=function(a){x(function(b){if(y.current){r(!0);return babelHelpers["extends"]({},b,{canvas:a})}else{r(!1);return babelHelpers["extends"]({},b,{regular:a})}})};e=function(a){a=C(a);if((h||(h=c("isEmpty")))(a)){c("FBLogger")("ctx_adoption").mustfix("Failed to download image: %s","No images returned");t(!0);return}D(a);E(a)};b[4]=e}else e=b[4];B=e;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e={onCompleted:B,onError:function(a){c("FBLogger")("ctx_adoption").mustfix("Failed to download image: %s",a),t(!0)}},b[5]=e):e=b[5];B=c("useCometComposerImagineMutation")(e);var F=B.isMutationInFlight,G=B.triggerMutation;b[6]!==i||b[7]!==G?(e=function(a,b,c){A(c!=null?c:!1);v(!!b&&!c);if(b){a.includes("{subject}")?c=a.replace("{subject}",i):c=i+a;G(c)}else o(a),G(a)},b[6]=i,b[7]=G,b[8]=e):e=b[8];B=e;b[9]!==s||b[10]!==F||b[11]!==w.regular||b[12]!==i||b[13]!==G?(e=function(){!F&&(h||(h=c("isEmpty")))(w.regular)&&!s&&G(i)},b[9]=s,b[10]=F,b[11]=w.regular,b[12]=i,b[13]=G,b[14]=e):e=b[14];var H;b[15]!==s||b[16]!==F||b[17]!==w||b[18]!==i||b[19]!==G?(H=[s,F,w,i,G],b[15]=s,b[16]=F,b[17]=w,b[18]=i,b[19]=G,b[20]=H):H=b[20];k(e,H);b[21]!==q||b[22]!==w.canvas||b[23]!==w.regular?(e=function(){return q?w.canvas:w.regular},b[21]=q,b[22]=w.canvas,b[23]=w.regular,b[24]=e):e=b[24];H=e;b[25]!==H?(e=H(),b[25]=H,b[26]=e):e=b[26];H=e;var I;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x8cjs6t x178xt8z x78zum5 x1q0g3np xnk6bfk xh8yej3"},I={className:"x78zum5 xmz0i5r x1odjw0f"},b[27]=e,b[28]=I):(e=b[27],I=b[28]);b[29]!==B||b[30]!==z||b[31]!==F||b[32]!==i?(I=j.jsx("div",babelHelpers["extends"]({},I,{children:j.jsx(c("ComposerImagineSides.react"),{handleMutation:B,isImageReload:z,isMainImageLoading:F,prompt:i,setIsCanvasMode:r})})),b[29]=B,b[30]=z,b[31]=F,b[32]=i,b[33]=I):I=b[33];b[34]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"xadellk x78zum5 xdt5ytf x1qughib"},b[34]=z):z=b[34];b[35]!==H||b[36]!==u||b[37]!==F||b[38]!==a||b[39]!==g?(f=j.jsx(c("ComposerImagineWithAIImagineContentRender.react"),{isEditLoading:u,isMainImageLoading:F,passedResultsMedia:H,returnToMainFeedPage:a,selectedIndex:g,setSelectedIndex:f}),b[35]=H,b[36]=u,b[37]=F,b[38]=a,b[39]=g,b[40]=f):f=b[40];if(b[41]!==H||b[42]!==g){var J;J=(J=H[g])!=null?J:{image_id:"",response_id:"",uri:""};b[41]=H;b[42]=g;b[43]=J}else J=b[43];b[44]!==B||b[45]!==F||b[46]!==i||b[47]!==a||b[48]!==J?(H=j.jsx(c("ComposerImagineSelectionFooter.react"),{chosenImage:J,handleMutation:B,isMainImageLoading:F,lastValue:i,returnToMainFeedPage:a}),b[44]=B,b[45]=F,b[46]=i,b[47]=a,b[48]=J,b[49]=H):H=b[49];b[50]!==f||b[51]!==H?(g=j.jsxs("div",babelHelpers["extends"]({},z,{children:[f,H]})),b[50]=f,b[51]=H,b[52]=g):g=b[52];b[53]!==I||b[54]!==g?(B=j.jsxs("div",babelHelpers["extends"]({},e,{children:[I,g]})),b[53]=I,b[54]=g,b[55]=B):B=b[55];return B}function n(a){a.forEach(o)}function o(a,b){(!a.image_id||!a.uri||!a.response_id)&&c("FBLogger")("ctx_adoption").mustfix("Invalid media item at index %d: %s",b,JSON.stringify(a))}function p(a){var b;return(a==null||(b=a.xfb_genai_imagine_for_intents)==null?void 0:b.response.map(q))||[]}function q(a){var b;a=a.imagine_result_success;return{image_id:(b=a==null?void 0:a.image_id)!=null?b:"",response_id:(b=a==null?void 0:a.response_id)!=null?b:"",uri:(b=a==null?void 0:a.uri)!=null?b:""}}g["default"]=a}),98);
__d("ComposerImagineWithAIShowCasePushPage.react",["fbt","ix","CometImage.react","ComposeImagineFooter.react","ComposeImagineLandingPage.react","ComposerImagineSelectionPushPage.react","react","react-compiler-runtime","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function a(a){var b=d("react-compiler-runtime").c(17),e=a.returnToMainFeedPage,f=c("useCometComposerPushPage")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Describe an image"),b[0]=a):a=b[0];a=a;var g=l(""),i=g[0],j=g[1];b[1]!==e?(g=function(a){return function(b){return k.jsx(c("ComposerImagineSelectionPushPage.react"),{prompt:a,returnToMainFeedPage:e})}},b[1]=e,b[2]=g):g=b[2];var n=g,o=m;b[3]!==n||b[4]!==f?(g=function(a){j(a),f(h._(/*BTDS*/"Create with Meta AI"),n(a),!1,o())},b[3]=n,b[4]=f,b[5]=g):g=b[5];g=g;var p,q;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x8cjs6t x178xt8z x78zum5 xdt5ytf x1iyjqo2 x1qughib"},q={className:"x78zum5 xdt5ytf x1iyjqo2 xmp0uow x1mpsny7"},b[6]=p,b[7]=q):(p=b[6],q=b[7]);b[8]!==g?(q=k.jsx("div",babelHelpers["extends"]({},q,{children:k.jsx(c("ComposeImagineLandingPage.react"),{handleMutation:g})})),b[8]=g,b[9]=q):q=b[9];var r;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1ve1bff x15mokao x1ga7v0g x16uus16 xbiv7yw x1ey2m1c x2lah0s xpdmqnj x1g0dm76 x1y1aw1k xixxii4 xe20zfg"},b[10]=r):r=b[10];b[11]!==g||b[12]!==i?(r=k.jsx("div",babelHelpers["extends"]({},r,{children:k.jsx(c("ComposeImagineFooter.react"),{handleMutation:g,isImageLoading:!1,lastValue:i,placeholder:a})})),b[11]=g,b[12]=i,b[13]=r):r=b[13];b[14]!==q||b[15]!==r?(a=k.jsxs("div",babelHelpers["extends"]({},p,{children:[q,r]})),b[14]=q,b[15]=r,b[16]=a):a=b[16];return a}function m(){return{titleIconAddOn:k.jsx(c("CometImage.react"),{height:20,src:i("912428"),width:20}),titleIconScale:.75}}g["default"]=a}),226);
__d("ComposerImagineWithAIBottomSection.react",["fbt","ix","CometImage.react","CometLink.react","ComposerFbtStrings","ComposerImagineWithAIShowCasePushPage.react","FDSButton.react","FDSText.react","react","react-compiler-runtime","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.href;var f;b[0]!==e||b[1]!==a?(f=k.jsx(c("CometLink.react"),{href:a,target:"_blank",children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}var l=h._(/*BTDS*/"By using Meta AI, you agree to the {aiTermsLink} Your interactions with AIs will be used to improve {aiAtMetaLink} .",[h._param("aiTermsLink",k.jsx(a,{href:"https://www.facebook.com/legal/ai-terms",children:"AI terms."})),h._param("aiAtMetaLink",k.jsx(a,{href:"https://www.facebook.com/privacy/genai",children:"AI at Meta"}))]);function b(a){var b=d("react-compiler-runtime").c(8),e=a.returnToMainFeedPage,f=c("useCometComposerPushPage")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"{title}",[h._param("title",d("ComposerFbtStrings").PUSH_PAGE_TITLE_IMAGINE_WITH_AI)]),b[0]=a):a=b[0];var g=a;b[1]!==f||b[2]!==e?(a=function(){f(g,function(){return k.jsx(c("ComposerImagineWithAIShowCasePushPage.react"),{returnToMainFeedPage:e})},!1,{titleIconAddOn:k.jsx(c("CometImage.react"),{height:20,src:i("912428"),width:20}),titleIconScale:.75})},b[1]=f,b[2]=e,b[3]=a):a=b[3];a=a;var j,m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 xdt5ytf x1qughib x1d0ri9u x1hwfens x1ug4tga xbmws1g xh8yej3"},m=k.jsx("div",{className:"x78zum5 xyorhqc x2b8uid",children:k.jsx(c("FDSText.react"),{type:"body4",children:l})}),b[4]=j,b[5]=m):(j=b[4],m=b[5]);b[6]!==a?(j=k.jsxs("div",babelHelpers["extends"]({},j,{children:[m,k.jsx("div",{children:k.jsx(c("FDSButton.react"),{label:d("ComposerFbtStrings").CONTINUE_BUTTON_LABEL,onPress:a,type:"primary"})})]})),b[6]=a,b[7]=j):j=b[7];return j}g["default"]=b}),226);
__d("ComposerImagineWithAIInstructionDescription.react",["ix","ComposerFbtStrings","FDSIcon.react","FDSText.react","FDSTextWithIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=d("fbicon")._(h("377221"),24),l=d("fbicon")._(h("403029"),24);function a(){var a=d("react-compiler-runtime").c(7),b,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1amjocr x78zum5 xdt5ytf"},e={className:"x6s0dn4 x1amjocr x78zum5 x1q0g3np x123j3cw x1gabggj xs9asl8 xaso8d8"},a[0]=b,a[1]=e):(b=a[0],e=a[1]);var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx("div",{style:{alignItems:"center",display:"flex",gap:8},children:j.jsx(c("FDSIcon.react"),{"aria-label":d("ComposerFbtStrings").INSTRUCTION_LABEL_FOR_ICON,icon:l,size:24})}),a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsx(c("FDSTextWithIcon.react"),{iconBefore:f,observeDirectionality:!1,children:j.jsx(c("FDSText.react"),{type:"bodyLink3",children:d("ComposerFbtStrings").INSTRUCTION_FOR_USER_OF_IMAGINE_WITH_AI_1})})})),f={className:"x6s0dn4 x1amjocr x78zum5 x1q0g3np x123j3cw x1gabggj xs9asl8 xaso8d8"},a[3]=e,a[4]=f):(e=a[3],f=a[4]);var g;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx("div",{style:{alignItems:"center",display:"flex",gap:8},children:j.jsx(c("FDSIcon.react"),{"aria-label":d("ComposerFbtStrings").INSTRUCTION_LABEL_FOR_ICON,icon:k,size:24})}),a[5]=g):g=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs("div",babelHelpers["extends"]({},b,{children:[e,j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("FDSTextWithIcon.react"),{iconBefore:g,observeDirectionality:!1,children:j.jsx(c("FDSText.react"),{type:"bodyLink3",children:d("ComposerFbtStrings").INSTRUCTION_FOR_USER_OF_IMAGINE_WITH_AI_2})})}))]})),a[6]=b):b=a[6];return b}g["default"]=a}),98);
__d("ComposerImagineWithAIPushPage.react",["ComposerImagineWithAIBottomSection.react","ComposerImagineWithAIInstructionDescription.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.onReturn;var e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x78zum5 xdt5ytf x65f84u"},f=i.jsx("div",{className:"x78zum5 x1dgoarg xz9dl7a xpdmqnj xsag5q8 x1g0dm76",children:i.jsx(c("ComposerImagineWithAIInstructionDescription.react"),{})}),g={className:"x78zum5"},b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs("div",babelHelpers["extends"]({},e,{children:[f,i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("ComposerImagineWithAIBottomSection.react"),{returnToMainFeedPage:a})}))]})),b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("ComposerImagineWithAIPopoverButton.react",["ix","CometContextualLayerAnchorRoot.react","CometImage.react","CometPressable.react","CometPressableChildrenWithOverlay_DEPRECATED.react","ComposerFbtStrings","ComposerImagineWithAIPushPage.react","ComposerImagineWithAIShowCasePushPage.react","FDSTooltip.react","WebStorage","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useState,m={pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0}},n="composer_imagine_ai_push_page_shown";function a(a){var b=a.children,e=c("useCometComposerPushPage")();a=l(!1);var f=a[0],g=a[1];a=l(!1);var j=a[0],o=a[1],p=function(){try{var a=(i||(i=c("WebStorage"))).getLocalStorage();return(a==null?void 0:a.getItem(n))==="true"}catch(a){return!1}},q=function(){try{var a=(i||(i=c("WebStorage"))).getLocalStorage();a==null||a.setItem(n,"true")}catch(a){}};a=function(){o(!0)};var r=function(){o(!1)},s=function(){!p()?(q(),e(d("ComposerFbtStrings").PUSH_PAGE_TITLE_FOR_ACKNOWLEDGEMENT,function(a){a=a.onReturn;return k.jsx(c("ComposerImagineWithAIPushPage.react"),{onReturn:a})},!1)):e(d("ComposerFbtStrings").PUSH_PAGE_TITLE_IMAGINE_WITH_AI,function(a){a=a.onReturn;return k.jsx(c("ComposerImagineWithAIShowCasePushPage.react"),{returnToMainFeedPage:a})},!1,{onBack:function(){},titleIconAddOn:k.jsx(c("CometImage.react"),{height:20,src:h("912428"),width:20}),titleIconScale:.75})},t=function(){g(!0),s(),g(!1)};return k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ks1olk"},1:{className:"x1hc1fzr"}}[!!(f||j)<<0],{children:k.jsx(c("FDSTooltip.react"),{align:"middle",position:"above",tooltip:d("ComposerFbtStrings").TOOL_TIP,children:k.jsx(c("CometPressable.react"),{"aria-label":d("ComposerFbtStrings").PUSH_PAGE_LABEL_IMAGINE_WITH_AI,label:d("ComposerFbtStrings").PUSH_PAGE_ARIA_LABEL_IMAGINE_WITH_AI,onHoverIn:a,onHoverOut:r,onPress:t,overlayDisabled:!0,xstyle:function(a){a=a.pressed;return[m.pressable,a!==!0&&m.pressed]},children:function(a){a=a.overlay;return k.jsx("div",{children:k.jsx(c("CometContextualLayerAnchorRoot.react"),{children:k.jsx("div",{children:k.jsx("div",{className:"xc9qbxq x1n2onr6 x14qfxbe x1c9tyrk xeusxvb x1pahc9y x1ertn4p",children:k.jsx(c("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:a,children:k.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6 x5yr21d xh8yej3",children:b(null,j)})})})})})})}})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComposerInlineEditingOptionIcon.react",["FDSIcon.react","ImageIconSource","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.darkIcon,f=a.disabled,g=a.isLightIcon,h=a.label,j=a.lightIcon,k=a.ref;a=a.size;g=g?j:e;b[0]!==a||b[1]!==g?(j=new(c("ImageIconSource"))(g,a,a),b[0]=a,b[1]=g,b[2]=j):j=b[2];e=j;g=a!==20||f?"disabled":"tertiary";b[3]!==e||b[4]!==g||b[5]!==h||b[6]!==k?(j=i.jsx(c("FDSIcon.react"),{"aria-label":h,color:g,icon:e,ref:k}),b[3]=e,b[4]=g,b[5]=h,b[6]=k,b[7]=j):j=b[7];return j}g["default"]=a}),98);
__d("useCometComposerSATPConfig",["CometComposerSATPContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometComposerSATPContext"))}g["default"]=a}),98);
__d("useCometStatusAreaTextData_formattedTextPreset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometStatusAreaTextData_formattedTextPreset",selections:[{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_font_size",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null}],type:"TextFormatMetadata",abstractKey:null};e.exports=a}),null);
__d("useCometStatusAreaTextData",["CometRelay","emptyObject","react-compiler-runtime","useCometComposerSATPConfig","useCometStatusAreaTextData_formattedTextPreset.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e,f,g=d("react-compiler-runtime").c(9),i=c("useCometComposerSATPConfig")(),j=i.satpFontSize;i=i.satpLineHeightInPx;var k=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometStatusAreaTextData_formattedTextPreset.graphql"),a),l=k==null?void 0:k.inspirations_custom_font_object;e=(e=l==null?void 0:l.font_name)!=null?e:"";f=(f=k==null?void 0:k.color)!=null?f:"00000000";j=(l=(l=l==null?void 0:l.preferred_font_size)!=null?l:j)!=null?l:30;l=(k==null?void 0:k.avatar_story_text_format_id)!=null;k="#"+f.substring(2)+f.substring(0,2);g[0]!==k||g[1]!==e||g[2]!==a||g[3]!==l||g[4]!==i||g[5]!==j?(f=a!=null?{caretColor:k,color:k,fontFamily:e,fontSize:j,fontWeight:700,lineHeight:i,marginBottom:l?150:void 0}:c("emptyObject"),g[0]=k,g[1]=e,g[2]=a,g[3]=l,g[4]=i,g[5]=j,g[6]=f):f=g[6];k=f;if(a!=null){g[7]!==k?(e={formattedTextStyling:k,textAlignment:"center"},g[7]=k,g[8]=e):e=g[8];return e}}g["default"]=a}),98);
__d("useIsInlineEditingOptionsIconLight",["useCometStatusAreaTextData","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=c("useCometStatusAreaTextData")(a))==null?void 0:a.formattedTextStyling;var b=c("useCurrentDisplayMode")();a=a==null?void 0:a.color;if(a!=null)try{var d=parseInt(a.substring(1,3),16),e=parseInt(a.substring(3,5),16);a=parseInt(a.substring(5,7),16);d=Math.min(d,e,a);return d>128}catch(a){return!1}return b==="dark"}g["default"]=a}),98);
__d("ComposerInlineEditingOptionsRow.react",["fbt","ix","CometRowItem.react","ComposerImagineWithAIPopoverButton.react","ComposerInlineEditingOptionIcon.react","FDSText.react","cr:2014","nux:326","react","react-compiler-runtime","useEmptyFunction","useIsInlineEditingOptionsIconLight"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=(f=(e=b("nux:326"))==null?void 0:e("COMPOSER_IMAGINE_WITH_AI_WEB_TOOLTIP"))!=null?f:c("useEmptyFunction");function a(a){var e=d("react-compiler-runtime").c(23),f=a.emojiIconOverride,g=a.formattedTextPreset,j=a.isEmojiButtonVisible,m=a.isRowDisabled,n=a.showImagineAI;a=a.size;j=j===void 0?!0:j;var o=m===void 0?!1:m;m=n===void 0?!1:n;var p=a===void 0?24:a;n=[];var q=c("useIsInlineEditingOptionsIconLight")(g);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Imagine with AI tooltip"),e[0]=a):a=e[0];e[1]===Symbol["for"]("react.memo_cache_sentinel")?(a={align:"end","aria-label":a,arrowStyle:"inset",content:k.jsx(c("FDSText.react"),{color:"white",type:"bodyLink3",children:h._(/*BTDS*/"Create any image with Meta AI")}),position:"above",type:"accent"},e[1]=a):a=e[1];a=l(a);if(m===!0){e[2]!==g?(m={0:{},1:{className:"xsag5q8"}}[!!(g!=null)<<0],e[2]=g,e[3]=m):m=e[3];var r;e[4]!==q||e[5]!==o||e[6]!==p?(r=k.jsx(c("ComposerImagineWithAIPopoverButton.react"),{children:function(a,b){return k.jsx(c("ComposerInlineEditingOptionIcon.react"),{darkIcon:i("877803"),disabled:b||o,isLightIcon:q,label:h._(/*BTDS*/"gen-ai-photo-square"),lightIcon:i("430987"),ref:a,size:p})}}),e[4]=q,e[5]=o,e[6]=p,e[7]=r):r=e[7];var s;e[8]!==a||e[9]!==m||e[10]!==r?(s=k.jsx(c("CometRowItem.react"),{children:k.jsx("div",babelHelpers["extends"]({},m,{ref:a,children:r}))},"ComposerImagineWithAIPopoverButton"),e[8]=a,e[9]=m,e[10]=r,e[11]=s):s=e[11];n.push(s)}if(b("cr:2014")!=null&&j){e[12]!==g?(a={0:{},1:{className:"xsag5q8"}}[!!(g!=null)<<0],e[12]=g,e[13]=a):a=e[13];e[14]!==(f==null?void 0:f.darkIcon)||e[15]!==(f==null?void 0:f.lightIcon)||e[16]!==q||e[17]!==o||e[18]!==p?(m=k.jsx(b("cr:2014"),{children:function(a,b){var d;return k.jsx(c("ComposerInlineEditingOptionIcon.react"),{darkIcon:(d=f==null?void 0:f.darkIcon)!=null?d:i("615750"),disabled:b||o,isLightIcon:q,label:h._(/*BTDS*/"Emoji"),lightIcon:(d=f==null?void 0:f.lightIcon)!=null?d:i("792304"),ref:a,size:p})}}),e[14]=f==null?void 0:f.darkIcon,e[15]=f==null?void 0:f.lightIcon,e[16]=q,e[17]=o,e[18]=p,e[19]=m):m=e[19];e[20]!==a||e[21]!==m?(r=k.jsx(c("CometRowItem.react"),{children:k.jsx("div",babelHelpers["extends"]({},a,{children:m}))},"ComposerEmojiPopoverButton"),e[20]=a,e[21]=m,e[22]=r):r=e[22];n.push(r)}return n}g["default"]=a}),226);
__d("getDeferredComposerTransformer",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b,c,d,e){a.loadImmediately(function(a){a(b,c,d,e)})}}f["default"]=a}),66);
__d("transformComposerViewStateToCreationData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){function f(d,g){var h=c[g];if(h!=null){var i=function(a){f(a,g+1)};h(a,d,i,b)}else e(d)}f(d,0)}f["default"]=a}),66);
__d("CometMediaViewerComposer.react",["fbt","CometComposer.react","CometMediaViewerComposer_media.graphql","CometMediaViewerComposer_textWithEntities.graphql","CometMediaViewerPhotoActions","CometMediaViewerVideoActions","CometRelay","ComposerInlineEditingOptionsRow.react","FDSButton.react","FDSText.react","LexicalText","MLCInstrumentationCommands","cr:4120","cr:4121","cr:838","createComposerDeferredPlugin","getDeferredComposerTransformer","react","react-compiler-runtime","requireDeferred","transformComposerViewStateToCreationData"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useState;f=c("requireDeferred")("composerMessageMediaViewerTransform").__setRef("CometMediaViewerComposer.react");var n=c("createComposerDeferredPlugin")(c("requireDeferred")("CometPhotoViewerTaggedProductsSection.react").__setRef("CometMediaViewerComposer.react")),o=[c("getDeferredComposerTransformer")(f)];function a(a){var e=d("react-compiler-runtime").c(23),f=m(!1),g=f[0],k=f[1],p=d("CometRelay").useRelayEnvironment();f=m(null);var q=f[0],r=f[1];f=a.media;var s=a.mediaType,t=a.message,u=a.nodeID,v=a.setIsEditing,w=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaViewerComposer_media.graphql"),f);f=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMediaViewerComposer_textWithEntities.graphql"),t);e[0]!==f?(t=f!=null?b("cr:838")(f,{}):{editorState:{__type:"plain-text",hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}},e[0]=f,e[1]=t):t=e[1];f=t;e[2]!==p||e[3]!==s||e[4]!==u||e[5]!==v?(t=function(a,b){var e=s==="video"?d("CometMediaViewerVideoActions"):d("CometMediaViewerPhotoActions"),f="",g=a.editorState,h=a.lexicalEditor;h!=null?f=h.getEditorState().read(d("LexicalText").$rootTextContent):g!=null&&(g.__type==="editor-state-based"?f=g.draftEditorState.getCurrentContent().getPlainText():f=g.text);c("transformComposerViewStateToCreationData")(a,b,o,{id:u,message:{text:f}},function(a){h!=null&&h.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"edit"),r(null),k(!0),e.edit({environment:p,input:{id:u,message:a.message},onCompleted:function(){v!=null&&v(!1)},onError:function(){v!=null&&v(!1)}})})},e[2]=p,e[3]=s,e[4]=u,e[5]=v,e[6]=t):t=e[6];t=t;var x;e[7]!==q?(x=q!=null?Object.keys(q):[],e[7]=q,e[8]=x):x=e[8];var y=x;e[9]!==f?(x=babelHelpers["extends"]({__CAN_USE_LEXICAL_RUNTIME_CHECK__:!0,emojiSizeOverride:16},f),e[9]=f,e[10]=x):x=e[10];e[11]!==y||e[12]!==q||e[13]!==u||e[14]!==w||e[15]!==a||e[16]!==v||e[17]!==g?(f=function(d){return l.jsxs(l.Fragment,{children:[q&&y.length>0?l.jsx("div",{children:y.map(function(a,b){return l.jsx(c("FDSText.react"),{color:"negative",type:"body3",children:q[a]},b)})}):null,l.jsxs("div",{className:"xzsf02u x78zum5 xdt5ytf x1qughib xod5an3 x879a55 x1n2onr6",children:[b("cr:4121")!=null?l.jsx(b("cr:4121"),{photoID:u}):l.jsx(l.Fragment,{children:b("cr:4120")!=null&&l.jsx(b("cr:4120"),{nodeID:u,submitted:g})}),l.jsx("div",{className:"x78zum5 x13a6bvl",children:l.jsx(c("ComposerInlineEditingOptionsRow.react"),{})}),l.jsx(n,{isEditMode:!0,photo:w})]}),l.jsxs("div",{className:"x78zum5",children:[l.jsx("div",{children:a.submitButton({disabled:g,submitForm:d})}),l.jsx("div",{className:"x135b78x",children:l.jsx(c("FDSButton.react"),{"aria-label":h._(/*BTDS*/"Cancel editing description"),disabled:g,label:h._(/*BTDS*/"Cancel"),onPress:function(){v!=null&&v(!1)},type:"secondary"})})]})]})},e[11]=y,e[12]=q,e[13]=u,e[14]=w,e[15]=a,e[16]=v,e[17]=g,e[18]=f):f=e[18];var z;e[19]!==t||e[20]!==x||e[21]!==f?(z=l.jsx("div",{children:l.jsx(c("CometComposer.react"),{beginningViewState:x,onSubmitCommit:t,children:f})}),e[19]=t,e[20]=x,e[21]=f,e[22]=z):z=e[22];return z}g["default"]=a}),226);
__d("CometMediaViewerComposerPluginsForDraftJS.react",["cr:2235","createComposerDeferredPlugin","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerMisinformationLinkDetectorPluginForDraftJS.react").__setRef("CometMediaViewerComposerPluginsForDraftJS.react")),k=c("createComposerDeferredPlugin")(c("requireDeferred")("CometMediaViewerComposerMentionsPlugin.react").__setRef("CometMediaViewerComposerPluginsForDraftJS.react")),l=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerLinksPluginForDraftJS.react").__setRef("CometMediaViewerComposerPluginsForDraftJS.react"));function a(a){var c=d("react-compiler-runtime").c(7);a=a.nodeID;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(j,{composerType:"feed"},"misinformationLinkDetectorPlugin"),c[0]=e):e=c[0];var f;c[1]!==a?(f=i.jsx(k,{nodeID:a,position:"below"},"mentionsPlugin"),c[1]=a,c[2]=f):f=c[2];var g;c[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(b("cr:2235"),{},"hashtagPlugin"),g=i.jsx(l,{},"linksPlugin"),c[3]=a,c[4]=g):(a=c[3],g=c[4]);c[5]!==f?(e=i.jsxs(i.Fragment,{children:[e,f,a,g]}),c[5]=f,c[6]=e):e=c[6];return e}g["default"]=a}),98);
__d("CometMediaViewerComposerDraftJSEditor.react",["CometComposerEditor.react","CometMediaViewerComposerPluginsForDraftJS.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.nodeID;a=a.submitted;var f;b[0]!==a?(f=i.jsx(c("CometComposerEditor.react"),{placeholder:"Add a description",readOnly:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=i.jsx(c("CometMediaViewerComposerPluginsForDraftJS.react"),{nodeID:e}),b[2]=e,b[3]=a):a=b[3];b[4]!==f||b[5]!==a?(e=i.jsxs(i.Fragment,{children:[f,a]}),b[4]=f,b[5]=a,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("createCometComposerMentionsEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.createEntity("MENTION","SEGMENTED",{id:a})}f["default"]=a}),66);
__d("getCometComposerMentionsSearch",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}function a(a){var b=a.getSelection();a=a.getCurrentContent();var c=b.getAnchorKey();a=a.getBlockForKey(c);return g(a,b.getAnchorOffset())}f["default"]=a}),66);
__d("useCometMediaViewerComposerMentionsBootstrapDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23953418530936378"}),null);
__d("useCometMediaViewerComposerMentionsBootstrapDataSourceQuery.graphql",["useCometMediaViewerComposerMentionsBootstrapDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"existing_ids"},c={defaultValue:null,kind:"LocalArgument",name:"options"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:null,kind:"LocalArgument",name:"types"},f=[{kind:"Variable",name:"existing_ids",variableName:"existing_ids"},{kind:"Literal",name:"include_viewer",value:!0},{kind:"Variable",name:"options",variableName:"options"},{kind:"Literal",name:"typeahead_context",value:"comet_media_viewer_mentions_limited"},{kind:"Variable",name:"types",variableName:"types"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},k={kind:"Variable",name:"scale",variableName:"scale"},l={alias:"photo",args:[{kind:"Literal",name:"height",value:40},k,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},m={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},n=[h,i,l];m={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g,{kind:"InlineFragment",selections:[h,i,j,l,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[m],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:n,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[h,i,{alias:"thumbnail_link",args:[k],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[h,i,j,l],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[h,l],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:n,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:n,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"useCometMediaViewerComposerMentionsBootstrapDataSourceQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[m],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,c,a],kind:"Operation",name:"useCometMediaViewerComposerMentionsBootstrapDataSourceQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[g,m],storageKey:null}]},params:{id:b("useCometMediaViewerComposerMentionsBootstrapDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useCometMediaViewerComposerMentionsBootstrapDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometMediaViewerComposerMentionsBootstrapDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","react-compiler-runtime","useCometMediaViewerComposerMentionsBootstrapDataSourceQuery.graphql","useCometTypeaheadCompositeBootstrapDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useCometMediaViewerComposerMentionsBootstrapDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(10),e=a.existingIDs,f=a.firstDegreeFinderOptions,g=a.limit;a=a.mentionTypes;var h;b[0]!==e?(h=e.map(j),b[0]=e,b[1]=h):h=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("WebPixelRatio").get(),b[2]=e):e=b[2];b[3]!==f||b[4]!==a||b[5]!==h?(e={existing_ids:h,options:f,scale:e,types:a},b[3]=f,b[4]=a,b[5]=h,b[6]=e):e=b[6];b[7]!==g||b[8]!==e?(f={gqlQuery:i,limit:g,normalize:k,queryVariables:e},b[7]=g,b[8]=e,b[9]=f):f=b[9];return c("useCometTypeaheadCompositeBootstrapDataSource")(f)}function j(a){return parseInt(a,10)}function k(a){a=a==null?void 0:a.comet_composer_typeahead_bootload;return a==null?[]:a.map(function(a){if(a==null)return;return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})}).filter(Boolean)}g["default"]=a}),98);
__d("useCometMediaViewerComposerMentionsNetworkDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23909607565299061"}),null);
__d("useCometMediaViewerComposerMentionsNetworkDataSourceQuery.graphql",["useCometMediaViewerComposerMentionsNetworkDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"existing_ids"},d={defaultValue:null,kind:"LocalArgument",name:"photo_id"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"search"},g={defaultValue:null,kind:"LocalArgument",name:"types"},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},l={kind:"Variable",name:"scale",variableName:"scale"},m={alias:"photo",args:[{kind:"Literal",name:"height",value:40},l,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},n={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},o=[i,j,m];h=[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Literal",name:"exclude_memorialized_users",value:!0},{kind:"Variable",name:"existing_ids",variableName:"existing_ids"},{kind:"Literal",name:"include_viewer",value:!0},{kind:"Variable",name:"photo_id",variableName:"photo_id"},{kind:"Variable",name:"query",variableName:"search"},{kind:"Literal",name:"typeahead_context",value:"comet_media_viewer_mentions"},{kind:"Variable",name:"types",variableName:"types"}],concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[h,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h,{kind:"InlineFragment",selections:[i,j,k,m,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[n],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[i,j,{alias:"thumbnail_link",args:[l],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[i,j,k,m],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[i,m],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:o,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:o,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:o,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useCometMediaViewerComposerMentionsNetworkDataSourceQuery",selections:h,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[f,e,a,g,d,c],kind:"Operation",name:"useCometMediaViewerComposerMentionsNetworkDataSourceQuery",selections:h},params:{id:b("useCometMediaViewerComposerMentionsNetworkDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useCometMediaViewerComposerMentionsNetworkDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometMediaViewerComposerMentionsNetworkDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","react-compiler-runtime","useCometMediaViewerComposerMentionsNetworkDataSourceQuery.graphql","useCometTypeaheadGraphQLDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useCometMediaViewerComposerMentionsNetworkDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(8),e=a.existingIDs,f=a.limit,g=a.mentionTypes,h=a.photoID;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h?(a=function(a){a=a.query;return{count:f,existing_ids:e.map(j),photo_id:h,scale:d("WebPixelRatio").get(),search:a,types:g}},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a):a=b[4];var l;b[5]!==f||b[6]!==a?(l={gqlQuery:i,limit:f,normalize:k,queryVariablesBuilderFunction:a},b[5]=f,b[6]=a,b[7]=l):l=b[7];return c("useCometTypeaheadGraphQLDataSource")(l)}function j(a){return parseInt(a,10)}function k(a){a=a==null?void 0:a.comet_composer_typeahead_search;return a==null?[]:a.map(function(a){return a.__typename==="CometComposerTypeaheadResultEntry"?c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"}):null}).filter(Boolean)}g["default"]=a}),98);
__d("useCometMediaViewerComposerMentionsNullstateDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23986986040906558"}),null);
__d("useCometMediaViewerComposerMentionsNullstateDataSourceQuery.graphql",["useCometMediaViewerComposerMentionsNullstateDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"existing_ids"},c={defaultValue:null,kind:"LocalArgument",name:"options"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:null,kind:"LocalArgument",name:"types"},f=[{kind:"Variable",name:"existing_ids",variableName:"existing_ids"},{kind:"Literal",name:"include_viewer",value:!0},{kind:"Variable",name:"options",variableName:"options"},{kind:"Literal",name:"typeahead_context",value:"comet_media_viewer_mentions_limited"},{kind:"Variable",name:"types",variableName:"types"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},k={kind:"Variable",name:"scale",variableName:"scale"},l={alias:"photo",args:[{kind:"Literal",name:"height",value:40},k,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},m={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},n=[h,i,l];m={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g,{kind:"InlineFragment",selections:[h,i,j,l,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[m],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:n,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[h,i,{alias:"thumbnail_link",args:[k],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[h,i,j,l],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[h,l],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:n,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:n,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"useCometMediaViewerComposerMentionsNullstateDataSourceQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[m],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,c,a],kind:"Operation",name:"useCometMediaViewerComposerMentionsNullstateDataSourceQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[g,m],storageKey:null}]},params:{id:b("useCometMediaViewerComposerMentionsNullstateDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useCometMediaViewerComposerMentionsNullstateDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometMediaViewerComposerMentionsNullstateDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","react-compiler-runtime","useCometMediaViewerComposerMentionsNullstateDataSourceQuery.graphql","useCometTypeaheadGraphQLDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useCometMediaViewerComposerMentionsNullstateDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(7),e=a.existingIDs,f=a.firstDegreeFinderOptions,g=a.limit,h=a.mentionTypes;b[0]!==e||b[1]!==f||b[2]!==h?(a=function(){return{existing_ids:e.map(j),options:f,scale:d("WebPixelRatio").get(),types:h}},b[0]=e,b[1]=f,b[2]=h,b[3]=a):a=b[3];var l;b[4]!==g||b[5]!==a?(l={gqlQuery:i,limit:g,normalize:k,queryVariablesBuilderFunction:a},b[4]=g,b[5]=a,b[6]=l):l=b[6];return c("useCometTypeaheadGraphQLDataSource")(l)}function j(a){return parseInt(a,10)}function k(a){a=a==null?void 0:a.comet_composer_typeahead_bootload;return a==null?[]:a.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})}).filter(Boolean)}g["default"]=a}),98);
__d("useCometMediaViewerComposerMentionsDataSource",["Actor","react-compiler-runtime","useCometMediaViewerComposerMentionsBootstrapDataSource","useCometMediaViewerComposerMentionsNetworkDataSource","useCometMediaViewerComposerMentionsNullstateDataSource","useCometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(31),e=a.config,f=a.existingIDs,g=a.hideCurrentUserFromDefaultSuggestions,h=a.isDefaultTypeaheadCacheEnabled,i=a.limit,j=a.photoID;a=a.showExistingTagsInTypeahead;g=g===void 0?!1:g;h=h===void 0?!1:h;a=a===void 0?!1:a;var k=d("Actor").useActor();k=k[0];var l=e.bootstrap.firstDegreeFinderOptions,m=Math.floor(i/2);b[0]!==e.bootstrap.firstDegreeFinderOptions||b[1]!==e.bootstrap.mentionTypes||b[2]!==f||b[3]!==j||b[4]!==m?(l={existingIDs:f,firstDegreeFinderOptions:l,limit:m,mentionTypes:e.bootstrap.mentionTypes,photoID:j},b[0]=e.bootstrap.firstDegreeFinderOptions,b[1]=e.bootstrap.mentionTypes,b[2]=f,b[3]=j,b[4]=m,b[5]=l):l=b[5];m=c("useCometMediaViewerComposerMentionsBootstrapDataSource")(l);b[6]!==h?(l=h?{type:"media_tag_intentful_datasource_cache_key"}:void 0,b[6]=h,b[7]=l):l=b[7];b[8]!==f||b[9]!==a?(h=a?[]:f!=null?f:[],b[8]=f,b[9]=a,b[10]=h):h=b[10];b[11]!==e.network.mentionTypes||b[12]!==i||b[13]!==j||b[14]!==h?(a={existingIDs:h,limit:i,mentionTypes:e.network.mentionTypes,photoID:j},b[11]=e.network.mentionTypes,b[12]=i,b[13]=j,b[14]=h,b[15]=a):a=b[15];e=c("useCometMediaViewerComposerMentionsNetworkDataSource")(a);b[16]!==k||b[17]!==f||b[18]!==g?(j=g?[].concat(f,[k]):f,b[16]=k,b[17]=f,b[18]=g,b[19]=j):j=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(h=["FRIENDS_ONLY"],b[20]=h):h=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(a=["USER"],b[21]=a):a=b[21];b[22]!==i||b[23]!==j?(k={existingIDs:j,firstDegreeFinderOptions:h,limit:i,mentionTypes:a},b[22]=i,b[23]=j,b[24]=k):k=b[24];f=c("useCometMediaViewerComposerMentionsNullstateDataSource")(k);b[25]!==i||b[26]!==e||b[27]!==f||b[28]!==m||b[29]!==l?(g={bootstrapDataSource:m,cacheKey_SEARCH_ONLY:l,limit:i,networkDataSource:e,nullstateDataSource:f},b[25]=i,b[26]=e,b[27]=f,b[28]=m,b[29]=l,b[30]=g):g=b[30];return c("useCometTypeaheadCompositeDataSource")(g)}g["default"]=a}),98);
__d("useCometMediaViewerComposerMentionsStrategyResolverConfig",["MentionsCommonWordsBlocklist","createCometAtSignComposerMentionsMatchStrategy","createCometMentionsNameMatchStrategy","react","react-compiler-runtime","useCometMediaViewerComposerMentionsDataSource","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(21),e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user","page"]}},f=[],b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e={config:e,existingIDs:f,limit:5,photoID:a},b[2]=a,b[3]=e):e=b[3];f=c("useCometMediaViewerComposerMentionsDataSource")(e);var g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user"]}},g=[],b[4]=e,b[5]=g):(e=b[4],g=b[5]);b[6]!==a?(e={config:e,existingIDs:g,limit:10,photoID:a},b[6]=a,b[7]=e):e=b[7];g=c("useCometMediaViewerComposerMentionsDataSource")(e);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:1}),b[8]=a):a=b[8];b[9]!==f?(e={dataSource:f,matchStrategy:a},b[9]=f,b[10]=e):e=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:[],minMatchLength:3,nameCase:"capitalized"}),b[11]=a):a=b[11];b[12]!==g?(f={dataSource:g,matchStrategy:a},b[12]=g,b[13]=f):f=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:4,nameCase:"lower-case"}),b[14]=a):a=b[14];b[15]!==g?(a={dataSource:g,matchStrategy:a},b[15]=g,b[16]=a):a=b[16];b[17]!==f||b[18]!==a||b[19]!==e?(g=[e,f,a],b[17]=f,b[18]=a,b[19]=e,b[20]=g):g=b[20];f=g;a=f;e=a;return c("useCometMentionsDataSourceResolverConfig")(e,!0)}g["default"]=a}),98);
__d("CometMentionsModalLoggingProvider",["CometMentionsLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=new(c("CometMentionsLoggingProvider"))(a),this.$1=a,this.$3=!1}var b=a.prototype;b.maybeEndSession=function(a,b,c){if(this.$3)return;if(c==null){this.abandonSession(a,b);return}var d=c.rawData;if(d.type!=="SEE_ALL_ENTRY"){this.$2.maybeEndSession(a,b,c);return}if(a==null)return;b!=null?JSON.stringify(b.map(function(a){a=a.key;return{id:a}})):null;var e=c.key;(d=b==null?void 0:b.findIndex(function(a){a=a.key;return a===e}))!=null?d:null;this.$3=!0};b.getSessionID=function(){return this.$2.getSessionID()};b.isSessionActive=function(){return this.$2.isSessionActive()};b.startSession=function(a){return this.$2.startSession(a)};b.logSelectedEntriesFromModal=function(a,b){if(a.length===0)this.abandonSession(b,[]);else if(a.length===1)this.$2.maybeEndSession(b,[],a[0]);else{var c=a.splice(0,a.length-1);c.forEach(function(a){});this.$2.maybeEndSession(b,[],a[a.length-1])}this.$3=!1};b.abandonSession=function(a,b){this.$2.maybeEndSession(a,b);return};return a}();g["default"]=a}),98);
__d("useCometMentionsModalLoggingProvider",["CometMentionsModalLoggingProvider","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){var b=d("react-compiler-runtime").c(2);a=a===void 0?i:a;var e;b[0]!==a?(e=new(c("CometMentionsModalLoggingProvider"))(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;a={add:function(a,b,c){return h(a,b,c,!0)},remove:function(a,b,c){return h(a,b,c,!1)}};function h(a,c,d,e){var f=a.getBlockMap(),h=c.getStartKey(),i=c.getStartOffset(),j=c.getEndKey(),k=c.getEndOffset(),l=f.skipUntil(function(a,b){return b===h}).takeUntil(function(a,b){return b===j}).concat(g([[j,f.get(j)]])).map(function(a,c){var f,g;h===j?(f=i,g=k):(f=c===h?i:0,g=c===j?k:a.getLength());c=a.getCharacterList();var l;while(f<g)l=c.get(f),c=c.set(f,e?b("CharacterMetadata").applyStyle(l,d):b("CharacterMetadata").removeStyle(l,d)),f++;return a.set("characterList",c)});return a.merge({blockMap:f.merge(l),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("applyEntityToContentBlock",["CharacterMetadata"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c=c;var f=a.getCharacterList();while(c<d)f=f.set(c,b("CharacterMetadata").applyEntity(f.get(c),e)),c++;return a.set("characterList",f)}e.exports=a}),null);
__d("applyEntityToContentState",["applyEntityToContentBlock","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=a.getBlockMap(),f=c.getStartKey(),g=c.getStartOffset(),h=c.getEndKey(),i=c.getEndOffset(),j=e.skipUntil(function(a,b){return b===f}).takeUntil(function(a,b){return b===h}).toOrderedMap().merge(b("immutable").OrderedMap([[h,e.get(h)]])).map(function(a,c){var e=c===f?g:0;c=c===h?i:a.getLength();return b("applyEntityToContentBlock")(a,e,c,d)});return a.merge({blockMap:e.merge(j),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("DraftEntitySegments",[],(function(a,b,c,d,e,f){"use strict";a={getRemovalRange:function(a,b,c,d,e){var f=c.split(" ");f=f.map(function(a,b){if(e==="forward"){if(b>0)return" "+a}else if(b<f.length-1)return a+" ";return a});var g=d,h,i=null,j=null;for(var k=0;k<f.length;k++){h=f[k];h=g+h.length;if(a<h&&g<b)i!==null?j=h:(i=g,j=h);else if(i!==null)break;g=h}h=d+c.length;k=i===d;g=j===h;(!k&&g||k&&!g)&&(e==="forward"?j!==h&&j++:i!==d&&i--);return{start:i,end:j}}};e.exports=a}),null);
__d("getRangesForDraftEntity",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=[];a.findEntityRanges(function(a){return a.getEntity()===b},function(a,b){c.push({start:a,end:b})});!c.length&&g(0,1817);return c}e.exports=a}),null);
__d("getCharacterRemovalRange",["invariant","DraftEntitySegments","getRangesForDraftEntity"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){var f=d.getStartOffset(),g=d.getEndOffset();f=b.getEntityAt(f);g=c.getEntityAt(g-1);if(!f&&!g)return d;d=d;if(f&&f===g)d=h(a,b,d,e,f,!0,!0);else if(f&&g){var i=h(a,b,d,e,f,!1,!0),j=h(a,c,d,e,g,!1,!1);d=d.merge({anchorOffset:i.getAnchorOffset(),focusOffset:j.getFocusOffset(),isBackward:!1})}else if(f){i=h(a,b,d,e,f,!1,!0);d=d.merge({anchorOffset:i.getStartOffset(),isBackward:!1})}else if(g){j=h(a,c,d,e,g,!1,!1);d=d.merge({focusOffset:j.getEndOffset(),isBackward:!1})}return d}function h(a,c,d,e,f,h,i){var j=d.getStartOffset(),k=d.getEndOffset();a=a.get(f);a=a.getMutability();var l=i?j:k;if(a==="MUTABLE")return d;f=b("getRangesForDraftEntity")(c,f).filter(function(a){return l<=a.end&&l>=a.start});f.length==1||g(0,5779);f=f[0];if(a==="IMMUTABLE")return d.merge({anchorOffset:f.start,focusOffset:f.end,isBackward:!1});h||(i?k=f.end:j=f.start);a=b("DraftEntitySegments").getRemovalRange(j,k,c.getText().slice(f.start,f.end),f.start,e);return d.merge({anchorOffset:a.start,focusOffset:a.end,isBackward:!1})}e.exports=a}),null);
__d("randomizeBlockMapKeys",["ContentBlockNode","generateRandomKey","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h=function(a){var c={},d;return g(a.withMutations(function(a){a.forEach(function(e,f){var g=e.getKey();f=e.getNextSiblingKey();var h=e.getPrevSiblingKey(),i=e.getChildKeys(),j=e.getParentKey(),k=b("generateRandomKey")();c[g]=k;if(f){var l=a.get(f);l?a.setIn([f,"prevSibling"],k):a.setIn([g,"nextSibling"],null)}if(h){l=a.get(h);l?a.setIn([h,"nextSibling"],k):a.setIn([g,"prevSibling"],null)}if(j&&a.get(j)){f=a.get(j);l=f.getChildKeys();a.setIn([j,"children"],l.set(l.indexOf(e.getKey()),k))}else a.setIn([g,"parent"],null),d&&(a.setIn([d.getKey(),"nextSibling"],k),a.setIn([g,"prevSibling"],c[d.getKey()])),d=a.get(g);i.forEach(function(b){var c=a.get(b);c?a.setIn([b,"parent"],k):a.setIn([g,"children"],e.getChildKeys().filter(function(a){return a!==b}))})})}).toArray().map(function(a){return[c[a.getKey()],a.set("key",c[a.getKey()])]}))},i=function(a){return g(a.toArray().map(function(a){var c=b("generateRandomKey")();return[c,a.set("key",c)]}))};a=function(a){var c=a.first()instanceof b("ContentBlockNode");return!c?i(a):h(a)};e.exports=a}),null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","findRangesImmutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.getBlockMap(),d={},e=b.getStartKey(),f=b.getStartOffset(),g=c.get(e);f=i(a,g,f);f!==g&&(d[e]=f);g=b.getEndKey();var h=b.getEndOffset(),j=c.get(g);e===g&&(j=f);e=i(a,j,h);e!==j&&(d[g]=e);return!Object.keys(d).length?a.setSelectionAfter(b):a.merge({blockMap:c.merge(d),selectionAfter:b})}function h(a,c,d){var e;b("findRangesImmutable")(a,function(a,b){return a.getEntity()===b.getEntity()},function(a){return a.getEntity()===c},function(a,b){a<=d&&b>=d&&(e={start:a,end:b})});typeof e==="object"||g(0,6015);return e}function i(a,c,d){var e=c.getCharacterList(),f=d>0?e.get(d-1):void 0,g=d<e.count()?e.get(d):void 0;f=f?f.getEntity():void 0;g=g?g.getEntity():void 0;if(g&&g===f){f=a.getEntity(g);if(f.getMutability()!=="MUTABLE"){a=h(e,g,d);f=a.start;g=a.end;while(f<g)d=e.get(f),e=e.set(f,b("CharacterMetadata").applyEntity(d,null)),f++;return c.set("characterList",e)}}return c}e.exports=a}),null);
__d("getContentStateFragment",["randomizeBlockMapKeys","removeEntitiesAtEdges"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=c.getStartKey(),e=c.getStartOffset(),f=c.getEndKey(),g=c.getEndOffset();a=b("removeEntitiesAtEdges")(a,c);c=a.getBlockMap();a=c.keySeq();var h=a.indexOf(d);a=a.indexOf(f)+1;return b("randomizeBlockMapKeys")(c.slice(h,a).map(function(a,b){var c=a.getText(),h=a.getCharacterList();if(d===f)return a.merge({text:c.slice(e,g),characterList:h.slice(e,g)});if(b===d)return a.merge({text:c.slice(e),characterList:h.slice(e)});return b===f?a.merge({text:c.slice(0,g),characterList:h.slice(0,g)}):a}))};e.exports=a}),null);
__d("insertIntoList",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a;if(c===d.count())b.forEach(function(a){d=d.push(a)});else if(c===0)b.reverse().forEach(function(a){d=d.unshift(a)});else{a=d.slice(0,c);c=d.slice(c);d=a.concat(b,c).toList()}return d}e.exports=a}),null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","ContentBlockNode","immutable","insertIntoList","randomizeBlockMapKeys"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=function(a,c,d,e,f,g,h){h===void 0&&(h="REPLACE_WITH_NEW_DATA");var i=d.get(f),j=i.getText(),k=i.getCharacterList(),l=f,m=g+e.getText().length,n=null;switch(h){case"MERGE_OLD_DATA_TO_NEW_DATA":n=e.getData().merge(i.getData());break;case"REPLACE_WITH_NEW_DATA":n=e.getData();break}h=i.getType();j&&h==="unstyled"&&(h=e.getType());i=i.merge({text:j.slice(0,g)+e.getText()+j.slice(g),characterList:b("insertIntoList")(k,e.getCharacterList(),g),type:h,data:n});return a.merge({blockMap:d.set(f,i),selectionBefore:c,selectionAfter:c.merge({anchorKey:l,anchorOffset:m,focusKey:l,focusOffset:m,isBackward:!1})})},j=function(a,b,c){var d=a.getText(),e=a.getCharacterList();d=d.slice(0,b);e=e.slice(0,b);b=c.first();return a.merge({text:d+b.getText(),characterList:e.concat(b.getCharacterList()),type:d?a.getType():b.getType(),data:b.getData()})},k=function(a,b,c){var d=a.getText();a=a.getCharacterList();var e=d.length;d=d.slice(b,e);a=a.slice(b,e);b=c.last();return b.merge({text:b.getText()+d,characterList:b.getCharacterList().concat(a),data:b.getData()})},l=function(a,b){var c=a.getKey();a=a;var d=[];b.get(c)&&d.push(c);while(a&&a.getNextSiblingKey()){c=a.getNextSiblingKey();if(!c)break;d.push(c);a=b.get(c)}return d},m=function(a,b,c,d){return a.withMutations(function(b){var e=c.getKey(),f=d.getKey(),g=c.getNextSiblingKey(),i=c.getParentKey(),j=l(d,a),k=j[j.length-1];b.get(f)?(b.setIn([e,"nextSibling"],f),b.setIn([f,"prevSibling"],e)):(b.setIn([e,"nextSibling"],d.getNextSiblingKey()),b.setIn([d.getNextSiblingKey(),"prevSibling"],e));b.setIn([k,"nextSibling"],g);g&&b.setIn([g,"prevSibling"],k);j.forEach(function(a){return b.setIn([a,"parent"],i)});if(i){f=a.get(i);g=f.getChildKeys();k=g.indexOf(e);f=k+1;e=g.toArray();e.splice.apply(e,[f,0].concat(j));b.setIn([i,"children"],h(e))}})},n=function(a,c,d,e,f,g){var h=d.first()instanceof b("ContentBlockNode"),i=[],l=e.size,n=d.get(f),o=e.first(),p=e.last(),q=p.getLength();p=p.getKey();var r=h&&(!n.getChildKeys().isEmpty()||!o.getChildKeys().isEmpty());d.forEach(function(a,b){if(b!==f){i.push(a);return}r?i.push(a):i.push(j(a,g,e));e.slice(r?0:1,l-1).forEach(function(a){return i.push(a)});i.push(k(a,g,e))});var s=b("BlockMapBuilder").createFromArray(i);h&&(s=m(s,d,n,o));return a.merge({blockMap:s,selectionBefore:c,selectionAfter:c.merge({anchorKey:p,anchorOffset:q,focusKey:p,focusOffset:q,isBackward:!1})})};a=function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");c.isCollapsed()||g(0,1903);var f=a.getBlockMap();d=b("randomizeBlockMapKeys")(d);var h=c.getStartKey(),j=c.getStartOffset(),k=f.get(h);k instanceof b("ContentBlockNode")&&(k.getChildKeys().isEmpty()||g(0,1904));return d.size===1?i(a,c,f,d.first(),h,j,e):n(a,c,f,d,h,j)};e.exports=a}),null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Repeat;function a(a,c,d,e){c.isCollapsed()||g(0,2659);var f=null;d!=null&&(f=d.length);if(f==null||f===0)return a;var i=a.getBlockMap(),j=c.getStartKey(),k=c.getStartOffset(),l=i.get(j),m=l.getText();d=l.merge({text:m.slice(0,k)+d+m.slice(k,l.getLength()),characterList:b("insertIntoList")(l.getCharacterList(),h(e,f).toList(),k)});m=k+f;return a.merge({blockMap:i.set(j,d),selectionAfter:c.merge({anchorOffset:m,focusOffset:m})})}e.exports=a}),null);
__d("modifyBlockForContentState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;function a(a,b,c){var d=b.getStartKey(),e=b.getEndKey(),f=a.getBlockMap();c=f.toSeq().skipUntil(function(a,b){return b===d}).takeUntil(function(a,b){return b===e}).concat(g([[e,f.get(e)]])).map(c);return a.merge({blockMap:f.merge(c),selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("getNextDelimiterBlockKey",["ContentBlockNode"],(function(a,b,c,d,e,f){a=function(a,c){var d=a instanceof b("ContentBlockNode");if(!d)return null;d=a.getNextSiblingKey();if(d)return d;d=a.getParentKey();if(!d)return null;a=c.get(d);while(a&&!a.getNextSiblingKey()){d=a.getParentKey();a=d?c.get(d):null}return!a?null:a.getNextSiblingKey()};e.exports=a}),null);
__d("removeRangeFromContentState",["ContentBlockNode","getNextDelimiterBlockKey","immutable"],(function(a,b,c,d,e,f){"use strict";b("immutable").List;var g=b("immutable").Map,h=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},i=function(a,b){var c=[];if(!a)return c;a=b.get(a);while(a&&a.getParentKey()){var d=a.getParentKey();d&&c.push(d);a=d?b.get(d):null}return c},j=function(a,c){var d=[];if(!a)return d;a=b("getNextDelimiterBlockKey")(a,c);while(a&&c.get(a)){var e=c.get(a);d.push(a);a=e.getParentKey()?b("getNextDelimiterBlockKey")(e,c):null}return d},k=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getNextSiblingKey();while(a&&!b.get(a))a=c.get(a).getNextSiblingKey()||null;return a},l=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getPrevSiblingKey();while(a&&!b.get(a))a=c.get(a).getPrevSiblingKey()||null;return a},m=function(a,b,c,d){return a.withMutations(function(e){h(b.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});h(c.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});i(b.getKey(),d).forEach(function(a){return h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});h(b.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:b.getPrevSiblingKey()})});h(b.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:k(a,e,d)})});h(c.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:l(a,e,d)})});h(c.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:c.getNextSiblingKey()})});i(c.getKey(),d).forEach(function(a){h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});j(c,d).forEach(function(a){return h(a,e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});if(a.get(b.getKey())==null&&a.get(c.getKey())!=null&&c.getParentKey()===b.getKey()&&c.getPrevSiblingKey()==null){var f=b.getPrevSiblingKey();h(c.getKey(),e,function(a){return a.merge({prevSibling:f})});h(f,e,function(a){return a.merge({nextSibling:c.getKey()})});var g=f?a.get(f):null,m=g?g.getParentKey():null;b.getChildKeys().forEach(function(a){h(a,e,function(a){return a.merge({parent:m})})});if(m!=null){var n=a.get(m);h(m,e,function(a){return a.merge({children:n.getChildKeys().concat(b.getChildKeys())})})}h(b.getChildKeys().find(function(b){b=a.get(b);return b.getNextSiblingKey()===null}),e,function(a){return a.merge({nextSibling:b.getNextSiblingKey()})})}})};a=function(a,c){if(c.isCollapsed())return a;var d=a.getBlockMap(),e=c.getStartKey(),f=c.getStartOffset(),h=c.getEndKey(),j=c.getEndOffset(),k=d.get(e),l=d.get(h),o=k instanceof b("ContentBlockNode"),p=[];if(o){var q=l.getChildKeys(),r=i(h,d);l.getNextSiblingKey()&&(p=p.concat(r));q.isEmpty()||(p=p.concat(r.concat([h])));p=p.concat(i(b("getNextDelimiterBlockKey")(l,d),d))}k===l?q=n(k.getCharacterList(),f,j):q=k.getCharacterList().slice(0,f).concat(l.getCharacterList().slice(j));var s=k.merge({text:k.getText().slice(0,f)+l.getText().slice(j),characterList:q});r=o&&f===0&&j===0&&l.getParentKey()===e&&l.getPrevSiblingKey()==null;q=r?g([[e,null]]):d.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===h}).filter(function(a,b){return p.indexOf(b)===-1}).concat(g([[h,null]])).map(function(a,b){return b===e?s:null});j=d.merge(q).filter(function(a){return!!a});o&&k!==l&&(j=m(j,k,l,d));return a.merge({blockMap:j,selectionBefore:c,selectionAfter:c.merge({anchorKey:e,anchorOffset:f,focusKey:e,focusOffset:f,isBackward:!1})})};var n=function(a,b,c){if(b===0)while(b<c)a=a.shift(),b++;else if(c===a.count())while(c>b)a=a.pop(),c--;else{b=a.slice(0,b);c=a.slice(c);a=b.concat(c).toList()}return a};e.exports=a}),null);
__d("splitBlockInContentState",["invariant","ContentBlockNode","generateRandomKey","immutable","modifyBlockForContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=b("immutable").Map,j=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},k=function(a,b,c){return a.withMutations(function(a){var d=b.getKey(),e=c.getKey();j(b.getParentKey(),a,function(a){var b=a.getChildKeys(),c=b.indexOf(d)+1;b=b.toArray();b.splice(c,0,e);return a.merge({children:h(b)})});j(b.getNextSiblingKey(),a,function(a){return a.merge({prevSibling:e})});j(d,a,function(a){return a.merge({nextSibling:e})});j(e,a,function(a){return a.merge({prevSibling:d})})})};a=function(a,c){c.isCollapsed()||g(0,5004);var d=c.getAnchorKey(),e=a.getBlockMap(),f=e.get(d),h=f.getText();if(!h){var j=f.getType();if(j==="unordered-list-item"||j==="ordered-list-item")return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:"unstyled",depth:0})})}j=c.getAnchorOffset();var l=f.getCharacterList(),m=b("generateRandomKey")(),n=f instanceof b("ContentBlockNode"),o=f.merge({text:h.slice(0,j),characterList:l.slice(0,j)});h=o.merge({key:m,text:h.slice(j),characterList:l.slice(j),data:i()});l=e.toSeq().takeUntil(function(a){return a===f});j=e.toSeq().skipUntil(function(a){return a===f}).rest();e=l.concat([[d,o],[m,h]],j).toOrderedMap();n&&(f.getChildKeys().isEmpty()||g(0,5005),e=k(e,o,h));return a.merge({blockMap:e,selectionBefore:c,selectionAfter:c.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})};e.exports=a}),null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","immutable","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").OrderedSet,i={replaceText:function(a,c,d,e,f){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);c=b("CharacterMetadata").create({style:e||h(),entity:f||null});return b("insertTextIntoContentState")(a,a.getSelectionAfter(),d,c)},insertText:function(a,b,c,d,e){b.isCollapsed()||g(0,4661);return i.replaceText(a,b,c,d,e)},moveText:function(a,c,d){var e=b("getContentStateFragment")(a,c);a=i.removeRange(a,c,"backward");return i.replaceWithFragment(a,d,e)},replaceWithFragment:function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("insertFragmentIntoContentState")(a,a.getSelectionAfter(),d,e)},removeRange:function(a,c,d){var e,f,g,h;c.getIsBackward()&&(c=c.merge({anchorKey:c.getFocusKey(),anchorOffset:c.getFocusOffset(),focusKey:c.getAnchorKey(),focusOffset:c.getAnchorOffset(),isBackward:!1}));e=c.getAnchorKey();f=c.getFocusKey();g=a.getBlockForKey(e);h=a.getBlockForKey(f);var i=c.getStartOffset(),j=c.getEndOffset();i=g.getEntityAt(i);j=h.getEntityAt(j-1);if(e===f&&(i&&i===j)){e=b("getCharacterRemovalRange")(a.getEntityMap(),g,h,c,d);return b("removeRangeFromContentState")(a,e)}f=b("removeEntitiesAtEdges")(a,c);return b("removeRangeFromContentState")(f,c)},splitBlock:function(a,c){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("splitBlockInContentState")(a,a.getSelectionAfter())},applyInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").add(a,c,d)},removeInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").remove(a,c,d)},setBlockType:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:d,depth:0})})},setBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:d})})},mergeBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:a.getData().merge(d)})})},applyEntity:function(a,c,d){a=b("removeEntitiesAtEdges")(a,c);return b("applyEntityToContentState")(a,c,d)}};e.exports=i}),null);
__d("DraftEntityInstance",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c=a({type:"TOKEN",mutability:"IMMUTABLE",data:Object});d=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.getType=function(){return this.get("type")};c.getMutability=function(){return this.get("mutability")};c.getData=function(){return this.get("data")};return b}(c);e.exports=d}),null);
__d("DraftEntity",["invariant","DraftEntityInstance","immutable","uuidv4"],(function(a,b,c,d,e,f,g){a=b("immutable").OrderedMap;var h=a(),i=b("uuidv4")(),j={__getAll:function(){return h},__loadWithEntities:function(a){h=a,i=b("uuidv4")()},__getLastCreatedEntityKey:function(){return i},__create:function(a,c,d){return j.__add(new(b("DraftEntityInstance"))({type:a,mutability:c,data:d||{}}))},__add:function(a){i=b("uuidv4")();h=h.set(i,a);return i},__get:function(a){var b=h.get(a);!b&&g(0,2105,a);return b},get:function(a){return j.__get(a)},set:function(a,b){h=h.set(a,b);return j},last:function(){return h.last()},__mergeData:function(a,b){var c=j.__get(a);b=babelHelpers["extends"]({},c.getData(),b);c=c.set("data",b);h=h.set(a,c);return c},__replaceData:function(a,b){var c=j.__get(a);c=c.set("data",b);h=h.set(a,c);return c}};e.exports=j}),null);
__d("SelectionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1};d=a(c);f=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())};c.getAnchorKey=function(){return this.get("anchorKey")};c.getAnchorOffset=function(){return this.get("anchorOffset")};c.getFocusKey=function(){return this.get("focusKey")};c.getFocusOffset=function(){return this.get("focusOffset")};c.getIsBackward=function(){return this.get("isBackward")};c.getHasFocus=function(){return this.get("hasFocus")};c.hasEdgeWithin=function(a,b,c){var d=this.getAnchorKey(),e=this.getFocusKey();if(d===e&&d===a){var f=this.getStartOffset(),g=this.getEndOffset();return b<=f&&f<=c||b<=g&&g<=c}if(a!==d&&a!==e)return!1;f=a===d?this.getAnchorOffset():this.getFocusOffset();return b<=f&&c>=f};c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};b.createEmpty=function(a){return new b({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:0,isBackward:!1,hasFocus:!1})};return b}(d);e.exports=f}),null);
__d("sanitizeDraftText",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("\r","g");function a(a){return a.replace(g,"")}e.exports=a}),null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","SelectionState","generateRandomKey","getOwnObjectValues","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Record;var h=a.Repeat,i=a.Map,j=a.OrderedMap;d={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null};f=c(d);var k=b("gkx")("20944")?b("ContentBlockNode"):b("ContentBlock");a=function(a){function c(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.getEntityMap=function(){return b("DraftEntity")};d.getBlockMap=function(){return this.get("blockMap")};d.getSelectionBefore=function(){return this.get("selectionBefore")};d.getSelectionAfter=function(){return this.get("selectionAfter")};d.getBlockForKey=function(a){a=this.getBlockMap().get(a);return a};d.getKeyBefore=function(a){return this.getBlockMap().reverse().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getKeyAfter=function(a){return this.getBlockMap().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getBlockAfter=function(a){return this.getBlockMap().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlockBefore=function(a){return this.getBlockMap().reverse().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlocksAsArray=function(){return this.getBlockMap().toArray()};d.getFirstBlock=function(){return this.getBlockMap().first()};d.getLastBlock=function(){return this.getBlockMap().last()};d.getPlainText=function(a){return this.getBlockMap().map(function(a){return a?a.getText():""}).join(a||"\n")};d.getLastCreatedEntityKey=function(){return b("DraftEntity").__getLastCreatedEntityKey()};d.hasText=function(){var a=this.getBlockMap();return a.size>1||escape(a.first().getText()).replace(/%u200B/g,"").length>0};d.createEntity=function(a,c,d){b("DraftEntity").__create(a,c,d);return this};d.mergeEntityData=function(a,c){b("DraftEntity").__mergeData(a,c);return this};d.replaceEntityData=function(a,c){b("DraftEntity").__replaceData(a,c);return this};d.addEntity=function(a){b("DraftEntity").__add(a);return this};d.getEntity=function(a){return b("DraftEntity").__get(a)};d.getAllEntities=function(){return b("DraftEntity").__getAll()};d.setEntityMap=function(a){b("DraftEntity").__loadWithEntities(a);return this};c.mergeEntityMaps=function(a,b){return a.merge(b.__getAll())};d.replaceEntityMap=function(a){return this.setEntityMap(a.__getAll())};d.setSelectionBefore=function(a){return this.set("selectionBefore",a)};d.setSelectionAfter=function(a){return this.set("selectionAfter",a)};d.setBlockMap=function(a){return this.set("blockMap",a)};c.createFromBlockArray=function(a,d){a=Array.isArray(a)?a:a.contentBlocks;a=b("BlockMapBuilder").createFromArray(a);var e=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new c({blockMap:a,entityMap:d||b("DraftEntity"),selectionBefore:e,selectionAfter:e})};c.createFromText=function(a,d){d===void 0&&(d=/\r\n?|\n/g);a=a.split(d);d=a.map(function(a){a=b("sanitizeDraftText")(a);return new k({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(b("CharacterMetadata").EMPTY,a.length))})});return c.createFromBlockArray(d)};c.fromJS=function(a){return new c(babelHelpers["extends"]({},a,{blockMap:j(a.blockMap).map(c.createContentBlockFromJS),selectionBefore:new(b("SelectionState"))(a.selectionBefore),selectionAfter:new(b("SelectionState"))(a.selectionAfter)}))};c.createContentBlockFromJS=function(a){var c=a.characterList;return new k(babelHelpers["extends"]({},a,{data:i(a.data),characterList:c!=null?g((Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return b("CharacterMetadata").fromJS(a)})):void 0}))};return c}(f);e.exports=a}),null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a){!a?a=c("UnicodeBidiGlobalDirection").getDir():d("UnicodeBidiDirection").isStrong(a)||h(0,3594),this.$1=a,this.reset()}var b=a.prototype;b.reset=function(){this.$2=this.$1};b.getDirection=function(a){this.$2=d("UnicodeBidi").getDirection(a,this.$2);return this.$2};return a}();g["default"]=a}),98);
__d("EditorBidiService",["UnicodeBidiService","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h;a={getDirectionMap:function(a,c){!h?h=new(b("UnicodeBidiService"))():h.reset();a=a.getBlockMap();var d=a.valueSeq().map(function(a){return b("nullthrows")(h).getDirection(a.getText())});a=g(a.keySeq().zip(d));return c!=null&&b("immutable").is(c,a)?c:a}};e.exports=a}),null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","SelectionState","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).OrderedSet;c=a.Record;var h=a.Stack,i=a.OrderedMap,j=a.List;d={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()};var k=c(d),l=function(){function a(a){this.$1=a}a.createEmpty=function(a){return this.createWithText("",a)};a.createWithText=function(c,d){return a.createWithContent(b("ContentState").createFromText(c),d)};a.createWithContent=function(c,d){if(c.getBlockMap().count()===0)return a.createEmpty(d);var e=c.getBlockMap().first().getKey();return a.create({currentContent:c,undoStack:h(),redoStack:h(),decorator:d||null,selection:b("SelectionState").createEmpty(e)})};a.create=function(c){var d=c.currentContent,e=c.decorator;c=babelHelpers["extends"]({},c,{treeMap:n(d,e),directionMap:b("EditorBidiService").getDirectionMap(d)});return new a(new k(c))};a.fromJS=function(c){return new a(new k(babelHelpers["extends"]({},c,{directionMap:c.directionMap!=null?i(c.directionMap):c.directionMap,inlineStyleOverride:c.inlineStyleOverride!=null?g(c.inlineStyleOverride):c.inlineStyleOverride,nativelyRenderedContent:c.nativelyRenderedContent!=null?b("ContentState").fromJS(c.nativelyRenderedContent):c.nativelyRenderedContent,redoStack:c.redoStack!=null?h(c.redoStack.map(function(a){return b("ContentState").fromJS(a)})):c.redoStack,selection:c.selection!=null?new(b("SelectionState"))(c.selection):c.selection,treeMap:c.treeMap!=null?i(c.treeMap).map(function(a){return j(a).map(function(a){return b("BlockTree").fromJS(a)})}):c.treeMap,undoStack:c.undoStack!=null?h(c.undoStack.map(function(a){return b("ContentState").fromJS(a)})):c.undoStack,currentContent:b("ContentState").fromJS(c.currentContent)})))};a.set=function(b,c){var d=b.getImmutable().withMutations(function(a){var d=a.get("decorator"),e=d;c.decorator===null?e=null:c.decorator&&(e=c.decorator);var f=c.currentContent||b.getCurrentContent();if(e!==d){var g=a.get("treeMap");e&&d?g=p(f,f.getBlockMap(),g,e,d):g=n(f,e);a.merge({decorator:e,treeMap:g,nativelyRenderedContent:null});return}d=b.getCurrentContent();f!==d&&a.set("treeMap",o(b,f.getBlockMap(),f.getEntityMap(),e));a.merge(c)});return new a(d)};var c=a.prototype;c.toJS=function(){return this.getImmutable().toJS()};c.getAllowUndo=function(){return this.getImmutable().get("allowUndo")};c.getCurrentContent=function(){return this.getImmutable().get("currentContent")};c.getUndoStack=function(){return this.getImmutable().get("undoStack")};c.getRedoStack=function(){return this.getImmutable().get("redoStack")};c.getSelection=function(){return this.getImmutable().get("selection")};c.getDecorator=function(){return this.getImmutable().get("decorator")};c.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")};c.mustForceSelection=function(){return this.getImmutable().get("forceSelection")};c.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")};c.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")};c.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")};a.setInlineStyleOverride=function(b,c){return a.set(b,{inlineStyleOverride:c})};c.getCurrentInlineStyle=function(){var a=this.getInlineStyleOverride();if(a!=null)return a;a=this.getCurrentContent();var b=this.getSelection();return b.isCollapsed()?r(a,b):s(a,b)};c.getBlockTree=function(a){return this.getImmutable().getIn(["treeMap",a])};c.isSelectionAtStartOfContent=function(){var a=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(a,0,0)};c.isSelectionAtEndOfContent=function(){var a=this.getCurrentContent();a=a.getBlockMap();a=a.last();var b=a.getLength();return this.getSelection().hasEdgeWithin(a.getKey(),b,b)};c.getDirectionMap=function(){return this.getImmutable().get("directionMap")};a.acceptSelection=function(a,b){return m(a,b,!1)};a.forceSelection=function(a,b){b.getHasFocus()||(b=b.set("hasFocus",!0));return m(a,b,!0)};a.moveSelectionToEnd=function(c){var d=c.getCurrentContent();d=d.getLastBlock();var e=d.getKey();d=d.getLength();return a.acceptSelection(c,new(b("SelectionState"))({anchorKey:e,anchorOffset:d,focusKey:e,focusOffset:d,isBackward:!1}))};a.moveFocusToEnd=function(b){b=a.moveSelectionToEnd(b);return a.forceSelection(b,b.getSelection())};a.push=function(c,d,e,f){f===void 0&&(f=!0);if(c.getCurrentContent()===d)return c;var g=b("EditorBidiService").getDirectionMap(d,c.getDirectionMap());if(!c.getAllowUndo())return a.set(c,{currentContent:d,directionMap:g,lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:null});var i=c.getSelection(),j=c.getCurrentContent(),k=c.getUndoStack(),l=d;i!==j.getSelectionAfter()||q(c,e)?(k=k.push(j),l=l.setSelectionBefore(i)):(e==="insert-characters"||e==="backspace-character"||e==="delete-character")&&(l=l.setSelectionBefore(j.getSelectionBefore()));i=c.getInlineStyleOverride();j=["adjust-depth","change-block-type","split-block"];j.indexOf(e)===-1&&(i=null);j={currentContent:l,directionMap:g,undoStack:k,redoStack:h(),lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:i};return a.set(c,j)};a.undo=function(c){if(!c.getAllowUndo())return c;var d=c.getUndoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:d.shift(),redoStack:c.getRedoStack().push(f),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:f.getSelectionBefore()})};a.redo=function(c){if(!c.getAllowUndo())return c;var d=c.getRedoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:c.getUndoStack().push(f),redoStack:d.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:e.getSelectionAfter()})};c.getImmutable=function(){return this.$1};return a}();function m(a,b,c){return l.set(a,{selection:b,forceSelection:c,nativelyRenderedContent:null,inlineStyleOverride:null})}function n(a,c){return a.getBlockMap().map(function(d){return b("BlockTree").generate(a,d,c)}).toOrderedMap()}function o(a,c,d,e){var f=a.getCurrentContent().replaceEntityMap(d),g=f.getBlockMap();d=a.getImmutable().get("treeMap");return d.merge(c.toSeq().filter(function(a,b){return a!==g.get(b)}).map(function(a){return b("BlockTree").generate(f,a,e)}))}function p(a,c,d,e,f){return d.merge(c.toSeq().filter(function(b){return e.getDecorations(b,a)!==f.getDecorations(b,a)}).map(function(c){return b("BlockTree").generate(a,c,e)}))}function q(a,b){a=a.getLastChangeType();return b!==a||b!=="insert-characters"&&b!=="backspace-character"&&b!=="delete-character"}function r(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b>0)return d.getInlineStyleAt(b-1);return d.getLength()?d.getInlineStyleAt(0):t(a,c)}function s(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b<d.getLength())return d.getInlineStyleAt(b);return b>0?d.getInlineStyleAt(b-1):t(a,c)}function t(a,b){a=a.getBlockMap().reverse().skipUntil(function(a,c){return c===b}).skip(1).skipUntil(function(a,b){return a.getLength()}).first();return a?a.getInlineStyleAt(a.getLength()-1):g()}e.exports=l}),null);
__d("cometReplaceMentionedTextInEditorState",["DraftModifier","EditorState"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){g=g(b.getCurrentContent(),a);var h=g.getLastCreatedEntityKey();g=d("DraftModifier").replaceText(g,e,f,b.getCurrentInlineStyle(),h);e=a.decorType;g.mergeEntityData(h,{mentionDecorType:e});return c("EditorState").push(b,g,"insert-fragment")}function a(a,b,c,d,e){var f=b.getSelection(),g=b.getCurrentContent(),k=f.getAnchorKey(),l=f.getAnchorOffset();g=g.getBlockMap().get(k);k=f.getStartOffset();k=g.getText().substr(k-c,c);k=i(a,k);g=l-j(g.getText().substr(0,l),k,c);return h(a,b,f.set("anchorOffset",g),e(a),d)}function i(a,b){b=a.label;return b}function j(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}g["default"]=a}),98);
__d("handleSelectedEntityEntryForMentions",["FBLogger","cometReplaceMentionedTextInEditorState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dataSourceResolver,d=a.deferredEditorState,e=a.entry,f=a.getReplacementString,g=a.getSearchText,h=a.onEditorStateChange;a=a.onMentionsCreateContentState;if(d==null||d.__type!=="editor-state-based")return!1;d=d.draftEditorState;g=g(d);if(g==null){c("FBLogger")("CometComposer").warn("Race condition where the user selected a mention but theres no text in the editor");return!1}b=b(g);g=b.searchResult;if(g==null){c("FBLogger")("CometComposer").mustfix("onPressEntry was called and no search result was found for the query");return!1}b=c("cometReplaceMentionedTextInEditorState")(e,d,g.replaceableString.length,a,f);if(d!==b){h(b);return!0}return!1}g["default"]=a}),98);
__d("useMentionsHandlerForSelectedEntry",["handleSelectedEntityEntryForMentions","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(4),e=a.getReplacementString,f=a.getSearchText,g=a.onMentionsCreateContentState;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(a){var b=a.dataSourceResolver,d=a.deferredEditorState,h=a.entry;a=a.onEditorStateChange;return c("handleSelectedEntityEntryForMentions")({dataSourceResolver:b,deferredEditorState:d,entry:h,getReplacementString:e,getSearchText:f,onEditorStateChange:a,onMentionsCreateContentState:g})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("CometMediaViewerComposerMentionsPlugin.react",["CometComposerMentionsPlugin.react","FeedComposerCometMentionsViewItemResolver.react","createCometComposerMentionsEntity","getCometComposerMentionsSearch","react","react-compiler-runtime","useCometMediaViewerComposerMentionsStrategyResolverConfig","useCometMentionsModalLoggingProvider","useCometTypeaheadViewListStrategy","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a.label}function k(a,b){return c("createCometComposerMentionsEntity")(b.key,a)}function a(a){var b=d("react-compiler-runtime").c(11),e=a.currentBlockKey,f=a.nodeID;a=a.position;a=a===void 0?"above":a;var g=c("useCometMediaViewerComposerMentionsStrategyResolverConfig")(f),h;b[0]!==f?(h={context_id:f,context_type:"undirected",surface:"COMPOSER",typeahead_type:"ENTITY"},b[0]=f,b[1]=h):h=b[1];f=c("useCometMentionsModalLoggingProvider")(h);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h={getReplacementString:j,getSearchText:c("getCometComposerMentionsSearch"),onMentionsCreateContentState:k},b[2]=h):h=b[2];h=c("useMentionsHandlerForSelectedEntry")(h);var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l={viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")},b[3]=l):l=b[3];l=c("useCometTypeaheadViewListStrategy")(l);var m;b[4]!==e||b[5]!==g||b[6]!==f||b[7]!==h||b[8]!==a||b[9]!==l?(m=i.jsx(c("CometComposerMentionsPlugin.react"),{currentBlockKey:e,dataSourceResolverConfig:g,getSearchText:c("getCometComposerMentionsSearch"),loggingProvider:f,mentionsHandlerForSelectedEntry:h,position:a,priority:1,viewStrategyRenderer:l}),b[4]=e,b[5]=g,b[6]=f,b[7]=h,b[8]=a,b[9]=l,b[10]=m):m=b[10];return m}b=c("withComposerViewStatePart")(a,function(a){a=a==null?void 0:a.editorState;a=a!=null&&a.__type==="editor-state-based"?a.draftEditorState:null;return{currentBlockKey:a!=null?a.getSelection().getStartKey():null}});g["default"]=b}),98);
__d("CometPhotoTagExistingTagsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometMediaViewerMentionsTypeaheadContextualLayer.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","CometPhotoTagExistingTagsContext","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","cometTypeaheadKeyboardNavigationUtils","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(50),f=a.ref,g=a.ariaProps,h=a.currentUserEntry,p=a.dataSource,q=a.onAriaChange,r=a.onHighlightEntry,s=a.onResultsLoaded,t=a.onSelectedEntry,u=a.query,v=a.showLoadingIndicator;a=a.viewStrategyRenderer;v=v===void 0?!1:v;var w=(b=j(c("CometPhotoTagExistingTagsContext")))==null?void 0:b.selectedIDs;e[0]!==h||e[1]!==w?(b=h!=null?w==null?void 0:w.has(h==null?void 0:h.key):!1,e[0]=h,e[1]=w,e[2]=b):b=e[2];var x=b;e[3]!==h||e[4]!==x?(b=x===!1&&h!=null?[h]:[],e[3]=h,e[4]=x,e[5]=b):b=e[5];b=n(b);var y=b[0],z=b[1];b=n(null);var A=b[0],B=b[1],C=m(null),D=u.trim().length>0;e[6]!==h||e[7]!==w||e[8]!==x||e[9]!==D?(b=function(a){a=a.entries;if(!D){var b=x===!0?a:h!=null?[h].concat(a):a;z(b.filter(function(a){return!(w!=null&&w.has(a.key))}))}else z(a)},e[6]=h,e[7]=w,e[8]=x,e[9]=D,e[10]=b):b=e[10];b=b;var E;e[11]!==p||e[12]!==b?(E={dataSource:p,onResolvePayload:b},e[11]=p,e[12]=b,e[13]=E):E=e[13];p=c("useBaseTypeaheadDataSourceFetch")(E);b=p[0];var F=p[1];E=b.isLoading;e[14]!==F||e[15]!==u?(p=function(){F({query:u})},b=[F,u],e[14]=F,e[15]=u,e[16]=p,e[17]=b):(p=e[16],b=e[17]);k(p,b);e[18]!==A||e[19]!==t||e[20]!==u||e[21]!==y?(p=function(){return{getNode:function(){return C.current},hasSelection:function(){return o(y,A)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(y,A!=null?A.key:null,B,!1)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(y,A!=null?A.key:null,B,!1)},select:function(){t&&A!=null&&o(y,A)&&t(A,u)}}},b=[A,t,u,y],e[18]=A,e[19]=t,e[20]=u,e[21]=y,e[22]=p,e[23]=b):(p=e[22],b=e[23]);l(f,p,b);e[24]!==r?(f=function(a){r&&r(a),B(a!=null?a:null)},e[24]=r,e[25]=f):f=e[25];p=f;e[26]!==t||e[27]!==u||e[28]!==y?(b=function(a){o(y,a)&&(t&&t(a,u))},e[26]=t,e[27]=u,e[28]=y,e[29]=b):b=e[29];f=b;var G;e[30]!==A||e[31]!==y?(b=function(){!o(y,A)&&y.length>0&&B(y[0])},G=[y,A],e[30]=A,e[31]=y,e[32]=b,e[33]=G):(b=e[32],G=e[33]);k(b,G);e[34]!==s?(b=function(){s&&s()},e[34]=s,e[35]=b):b=e[35];e[36]!==s||e[37]!==y?(G=[s,y],e[36]=s,e[37]=y,e[38]=G):G=e[38];k(b,G);if(y.length>0||v){b=v&&E;e[39]!==g||e[40]!==q||e[41]!==f||e[42]!==A||e[43]!==p||e[44]!==u||e[45]!==y||e[46]!==b||e[47]!==a?(G=i.jsx("div",{ref:C,children:i.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),{ariaProps:g,entries:y,highlightedEntry:A,isLoading:b,isLoadingIndicatorEnabled:!0,onAriaChange:q,onHighlightEntry:p,onPressEntry:f,queryString:u,viewStrategyRenderer:a})}),e[39]=g,e[40]=q,e[41]=f,e[42]=A,e[43]=p,e[44]=u,e[45]=y,e[46]=b,e[47]=a,e[48]=G):G=e[48];return G}else if(y.length===0&&!E)if(!D)return;else{e[49]===Symbol["for"]("react.memo_cache_sentinel")?(v=i.jsx("div",{children:i.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{})}),e[49]=v):v=e[49];return v}return null}function o(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){a=a.key;return a===c})!=null}g["default"]=a}),98);
__d("CometMediaViewerMentionsTypeaheadListItemEntryInfo.react",["CometProfileVerificationBadge.react","FBLogger","FDSProfilePhoto.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.entry;a=a.isDisabled;var f=e.label,g=e.rawData,h=g.type==="MENTION_SEARCH_RESULT"?g.isVerified:!1;g=g.type==="MENTION_SEARCH_RESULT"?g.photoURI:null;var j=null;if(g==null)c("FBLogger")("comet_composer").mustfix("No profile picture found for mentions entry");else{var k;b[0]!==g?(k=i.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:20,source:{uri:g}}),b[0]=g,b[1]=k):k=b[1];j=k}b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5"},b[2]=g):g=b[2];k=j;var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x78zum5 x5yr21d x1diwwjn"},b[3]=l):l=b[3];a=a?"disabled":void 0;var m;b[4]!==f||b[5]!==a?(m=i.jsx(c("FDSText.react"),{color:a,numberOfLines:1,type:"body3",children:f}),b[4]=f,b[5]=a,b[6]=m):m=b[6];b[7]!==e.key||b[8]!==h?(f=h&&i.jsx("div",{className:"x1kpxq89 xdwrcjd",children:i.jsx(c("CometProfileVerificationBadge.react"),{profileID:e.key,size:"small"})}),b[7]=e.key,b[8]=h,b[9]=f):f=b[9];b[10]!==m||b[11]!==f?(a=i.jsxs("div",babelHelpers["extends"]({},l,{children:[m,f]})),b[10]=m,b[11]=f,b[12]=a):a=b[12];b[13]!==j||b[14]!==a?(e=i.jsxs("div",babelHelpers["extends"]({},g,{children:[k,a]})),b[13]=j,b[14]=a,b[15]=e):e=b[15];return e}g["default"]=a}),98);
__d("CometMediaViewerMentionsTypeaheadListItemIcon.react",["FDSCheckmarkCircleOutline20Icon","FDSIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",{className:"xpqajaz x78zum5",children:i.jsx(c("FDSIcon.react"),{disabled:!0,hideHoverOverlay:!0,icon:c("FDSCheckmarkCircleOutline20Icon")})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CometMediaViewerMentionsTypeaheadListItemWithMetadata.react",["CometMediaViewerMentionsTypeaheadListItemEntryInfo.react","CometMediaViewerMentionsTypeaheadListItemIcon.react","CometPhotoTagExistingTagsContext","CometSearchMentionsBaseViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry"],i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(19),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=(a=k(c("CometPhotoTagExistingTagsContext")))==null?void 0:a.selectedIDs;if(b[3]!==e||b[4]!==a){var g;g=(g=a==null?void 0:a.has(e.key))!=null?g:!1;b[3]=e;b[4]=a;b[5]=g}else g=b[5];a=g;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x1qx5ct2 x1qughib"},b[6]=g):g=b[6];var i;b[7]!==e||b[8]!==a?(i=j.jsx(c("CometMediaViewerMentionsTypeaheadListItemEntryInfo.react"),{entry:e,isDisabled:a}),b[7]=e,b[8]=a,b[9]=i):i=b[9];var l;b[10]!==a?(l=a&&j.jsx(c("CometMediaViewerMentionsTypeaheadListItemIcon.react"),{}),b[10]=a,b[11]=l):l=b[11];b[12]!==i||b[13]!==l?(a=j.jsxs("div",babelHelpers["extends"]({},g,{children:[i,l]})),b[12]=i,b[13]=l,b[14]=a):a=b[14];b[15]!==e||b[16]!==f||b[17]!==a?(g=j.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:e,children:a})),b[15]=e,b[16]=f,b[17]=a,b[18]=g):g=b[18];return g}g["default"]=a}),98);
__d("CometMediaViewerPhotoAddTagsActionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24939555885655535"}),null);
__d("CometMediaViewerPhotoAddTagsActionMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometMediaViewerPhotoAddTagsActionMutation_facebookRelayOperation","GHLShouldChangeSponsoredDataFieldName.relayprovider","TestPilotShouldIncludeDemoAdUseCase.relayprovider","CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feed_location"},c={defaultValue:null,kind:"LocalArgument",name:"feed_menu_icon_variant"},d={defaultValue:null,kind:"LocalArgument",name:"input"},e={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={defaultValue:null,kind:"LocalArgument",name:"serialized_frtp_identifiers"},i={defaultValue:null,kind:"LocalArgument",name:"story_debug_info"},j=[{kind:"Variable",name:"data",variableName:"input"}],k={kind:"Variable",name:"scale",variableName:"scale"},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r=[q],s=[{kind:"Literal",name:"height",value:40},k,{kind:"Literal",name:"width",value:40}],t={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},u={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[n,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],y={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},A={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[z],storageKey:null},B=[n],C=[t],D={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},E={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"strikethrough_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},F={alias:null,args:null,concreteType:"CatalogItemUnitPrice",kind:"LinkedField",name:"per_unit_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_text",storageKey:null}],storageKey:null},G={alias:null,args:[{kind:"Literal",name:"height",value:140},{kind:"Literal",name:"width",value:140}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:C,storageKey:"profile_picture(height:140,width:140)"},H=[{kind:"Literal",name:"first",value:10}],I=[y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,p,n],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"CometMediaViewerPhotoAddTagsActionMutation",selections:[{alias:null,args:j,concreteType:"PhotoAddTagsResponsePayload",kind:"LinkedField",name:"photo_add_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagWrapper_photo"},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItemTagFriendsTooltip_photo"},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItemTagFriends_photo"},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItemTagFriendsList_photo"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorPhotoSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMetadataSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryTitleSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerTitleSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerSuffixSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMenu_story"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,g,i,h,e,f,a,c,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"}],kind:"Operation",name:"CometMediaViewerPhotoAddTagsActionMutation",selections:[{alias:null,args:j,concreteType:"PhotoAddTagsResponsePayload",kind:"LinkedField",name:"photo_add_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:[k],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[l,m],storageKey:null},n,{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o,n,p,{kind:"InlineFragment",selections:r,type:"User",abstractKey:null},{kind:"InlineFragment",selections:r,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:r,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[t,m,l,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_nickname",storageKey:null}],type:"GroupAnonAuthorProfile",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},q],type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pages_story_bucket_v2",plural:!1,selections:[o,n,u],storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null},n,u],storageKey:null}],storageKey:"story_bucket(first:1)"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"InstagramUserV2",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[v,w,n],storageKey:null}],type:"Photo",abstractKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:x,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"connection",key:"CometAlbumEditItemTagFriendsList_photo_tags",kind:"LinkedHandle",name:"tags"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[v,w,n,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"31PGhD"}],concreteType:null,kind:"LinkedField",name:"actor_photo",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorCommunityAttributionStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorCommunityAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryDualActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryDualActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedDraftForStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryCoAuthorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedStoryCoAuthorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorPhotoStrategy",abstractKey:null}],storageKey:'actor_photo(supported:"31PGhD")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3qagX9"}],concreteType:null,kind:"LinkedField",name:"metadata",plural:!0,selections:[o,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryCommunityAttributionGroupPostByStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryCommunityAttributionGroupPostByStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPostTopicsStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryPostTopicsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryUserSignalsStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryUserSignalsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryIdentityBadgeStrategy_identityBadge",fragmentPropName:"identityBadge",kind:"ModuleImport"}],type:"CometStoryIdentityBadgeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStorySponsoredLabelStrategy_sponsoredLabel",fragmentPropName:"sponsoredLabel",kind:"ModuleImport"}],type:"CometStorySponsoredLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStorySponsoredPoliticalLabelStrategy_sponsoredLabel",fragmentPropName:"sponsoredLabel",kind:"ModuleImport"}],type:"CometStorySponsoredPoliticalLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryGenAITransparencyStrategy_genAITransparency",fragmentPropName:"genAITransparency",kind:"ModuleImport"}],type:"CometFeedStoryGenAITransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryGenAIContentTransparencyStrategy_genAIContentTransparency",fragmentPropName:"genAIContentTransparency",kind:"ModuleImport"}],type:"CometFeedStoryGenAIContentTransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLocationTransparencyStrategy_locationTransparency",fragmentPropName:"locationTransparency",kind:"ModuleImport"}],type:"CometStoryLocationTransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPostLevelAuthenticityStrategy_postLevelAuthenticity",fragmentPropName:"postLevelAuthenticity",kind:"ModuleImport"}],type:"CometStoryPostLevelAuthenticityStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPageAdminAttributionStrategy_adminAttribution",fragmentPropName:"adminAttribution",kind:"ModuleImport"}],type:"CometStoryPageAdminAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPaidPartnershipLabelStrategy_paidPartnershipLabel",fragmentPropName:"paidPartnershipLabel",kind:"ModuleImport"}],type:"CometStoryPaidPartnershipLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometStoriesSingleBucketFeedUnitLabelStrategy_storiesFeedUnitLabel",fragmentPropName:"storiesFeedUnitLabel",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryBackdatedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryBackdatedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryScheduledTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryScheduledTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLongerTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryLongerTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMinimizedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryMinimizedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternLiveEventStrategy_internLiveEvent",fragmentPropName:"internLiveEvent",kind:"ModuleImport"}],type:"GeminiStoryInternLiveEventStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternTaskStrategy_internTask",fragmentPropName:"internTask",kind:"ModuleImport"}],type:"GeminiStoryInternTaskStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternIESCaseStrategy_internIESCase",fragmentPropName:"internIESCase",kind:"ModuleImport"}],type:"GeminiStoryInternIESCaseStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternESHCaseStrategy_internESHCase",fragmentPropName:"internESHCase",kind:"ModuleImport"}],type:"GeminiStoryInternESHCaseStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLocationStrategy_location",fragmentPropName:"location",kind:"ModuleImport"}],type:"CometFeedStoryLocationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryApplicationLinkStrategy_location",fragmentPropName:"location",kind:"ModuleImport"}],type:"CometFeedStoryApplicationLinkStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPrivacySelectorStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryPrivacySelectorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryAudienceStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoriesSingleBucketAudienceStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoriesSingleBucketAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryConfidentialityStrategy_confidentiality",fragmentPropName:"confidentiality",kind:"ModuleImport"}],type:"CometFeedStoryConfidentialityStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryFTEOnlyPostLabelStrategy_fteOnlyPost",fragmentPropName:"fteOnlyPost",kind:"ModuleImport"}],type:"CometStoryFTEOnlyPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryKeyUpdateStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryKeyUpdateStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPollEndtimeStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryPollEndtimeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryRecommendationLabelStrategy_recommendationLabel",fragmentPropName:"recommendationLabel",kind:"ModuleImport"}],type:"CometStoryRecommendationLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryRecentlyViewedLabelStrategy_recentlyViewedLabel",fragmentPropName:"recentlyViewedLabel",kind:"ModuleImport"}],type:"CometStoryRecentlyViewedLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMusicPostLevelAttributionStrategy_musicPostLevelAttribution",fragmentPropName:"musicPostLevelAttribution",kind:"ModuleImport"}],type:"CometStoryMusicPostLevelAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMetaAiPostLevelAttributionStrategy_metaAiPostLevelAttribution",fragmentPropName:"metaAiPostLevelAttribution",kind:"ModuleImport"}],type:"CometFeedStoryMetaAiPostLevelAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryIGReelsXARAudienceStrategy_label",fragmentPropName:"label",kind:"ModuleImport"}],type:"CometFeedStoryIGReelsXARAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryUGCMetadataStrategy_UGCMetadata",fragmentPropName:"UGCMetadata",kind:"ModuleImport"}],type:"CometStoryUGCMetadataStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryFailedScheduledPostMetadataStrategy_failedScheduledPost",fragmentPropName:"failedScheduledPost",kind:"ModuleImport"}],type:"CometFeedStoryFailedScheduledPostMetadataStrategy",abstractKey:null}],storageKey:'metadata(supported:"3qagX9")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"40erBm"}],concreteType:null,kind:"LinkedField",name:"title",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedDraftForStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryCommunityAttributionTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryCommunityAttributionTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupsTabDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryGroupsTabDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryViaTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryViaTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryTitleWithActorStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryTitleWithActorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDefaultTitleStrategy",abstractKey:null}],storageKey:'title(supported:"40erBm")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[o,p,n,{kind:"TypeDiscriminator",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[A,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[A,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"location",value:"comet_media_viewer"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"suffix",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:'suffix(location:"comet_media_viewer")'},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feed_location"},{kind:"Variable",name:"serialized_frtp_identifiers",variableName:"serialized_frtp_identifiers"}],concreteType:null,kind:"LinkedField",name:"nfx_action_menu_items",plural:!0,selections:[o,{kind:"TypeDiscriminator",abstractKey:"__isNFXActionMenuItem"},{kind:"TypeDiscriminator",abstractKey:"__isStoryMenuItem"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryOpenInIDDMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryOpenInIDDMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedHairlineMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"HairlineMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoRightsManagerAttributionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBPhotoRightsManagerAttributionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDownloadPhotoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoDownloadMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerEditLocationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaLocationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerAltTextMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaChangeAltTextMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDownloadVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoDownloadMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerTransferVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoTransferStoryMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryDeleteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryDeleteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDeleteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaDeleteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryDownloadCommentsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryDownloadCommentsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiMovePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMovePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryCopyQuestionsMenuItem_copyQuestionsMenuItem",fragmentPropName:"copyQuestionsMenuItem",kind:"ModuleImport"}],type:"XFBStoryCopyQuestionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryStoreInMementoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkStoreInMementoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkWhyAmISeeingThisMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryWorkEmbedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkEmbedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryRemindMeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemindMeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryTLDRMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkTLDRMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryManageVideoChaptersMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageVideoChaptersMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryOpenLiveStudioMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryOpenLiveStudioMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryManageVideoCaptionsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageVideoCaptionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryRevokeDrafterPermissionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRevokeDrafterPermissionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStorySaveToKnowledgeHubMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySaveToKnowledgeHubMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStorySaveMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySavableMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometGroupsTabHideUnconnectedGroupMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupsTabHideUnconnectedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedEditHistoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditHistoryMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryRefreshShareMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"RefreshShareMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometPinPostStoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryPinProfilePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiManageMSTeamsLiveVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageMSTeamsLiveVideoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiCanNotEditForPostMenuItem_canNotEditForPostMenuItem",fragmentPropName:"canNotEditForPostMenuItem",kind:"ModuleImport"}],type:"XFBStoryCanNoLongerEditPostForMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiConvertQAPollWithRegularPollMenuItem_convertQAPollWithRegularPollMenuItem",fragmentPropName:"convertQAPollWithRegularPollMenuItem",kind:"ModuleImport"}],type:"XFBStoryConvertPollAndCompanyQAPollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiClosePollMenuItem_closePollMenuItem",fragmentPropName:"closePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryClosePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiChangeEndTimeMenuItem_changeEndtimePollMenuItem",fragmentPropName:"changeEndtimePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryChangeEndTimePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupStoryManagePollMenuItem_managePollMenuItem",fragmentPropName:"managePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryManagePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditSalePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditSalePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"PagesCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryPagePostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiGroupStoryEditDisabledByPollMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"WorkStoryGroupPostEditDisabledToPollHasVoteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CrisisCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCrisisPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CrisisCometListingStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCrisisListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CoronavirusCommunityHelpCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCoronavirusCommunityHelpListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"FundraiserStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryFundraiserPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiEditWorkMajorEventMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupWorkMajorEventEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryAddOrEditPostAdminHashtagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupAddOrEditPostAdminHashtagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometLifeEventsEditStoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryLifeEventsEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"EventCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEventPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"EventCometStoryPinOrUnpinStatusMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEventPinOrUnpinStatusMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditLiveVideoPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryLiveVideoEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryManageMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditPrivacyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditPrivacyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditDirectedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditDirectedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometBackdateMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTimelineBackdateMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBrandedContentLookupToolMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBrandedContentLookupToolMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryInspectToolMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryInspectToolMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryIFRFunnelInspectMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryIFRFunnelInspectMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBumperDebuggerMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBumperDebuggerMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWhyAmISeeingThisMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWhyAmISeeingThisAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGenAITransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGenAITransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGenAIInfoTransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGenAIInfoTransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupsUGCPostGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGroupsUGCGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupsUGCManageAISettingsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGroupsUGCManageAISettingsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryOpenAdsRankingTransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryAdsRankingTransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPostMarkOrRemoveAnnouncementMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMarkOrRemoveAnnouncementMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryReportListingMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportListingMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryQuickInjectMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryQuickInjectMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCommentModerationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCommentModerationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryUpdateScheduleTimeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryUpdateScheduleTimeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBulkHideCommentsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBulkHideCommentsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCopyDemoLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCopyDemoLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"PagesCometCreateClipMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTimelineCreateClipMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEndAMASessionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEndAMASessionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupReportToAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupReportToAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddScreenshotsToReportedContent_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostAddScreenshotsToReportedContent",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometHideStoryFromFeedMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupsHideStoryFromFeed",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometMakeUserExpertMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMakeUserExpertMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometRemovePostAsAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupRemovePostAsAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometToggleCustomReactionsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleCustomReactionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupToggleCommentingMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleCommentingMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleNotificationsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleNotificationsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleAdPartnershipCodeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleAdPartnershipCodeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryFollowAllMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleFollowAllMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleTranslationsBlockedMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleTranslationsBlockedMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryNFXActionMenuItem_nfxActionMenuItem",fragmentPropName:"nfxActionMenuItem",kind:"ModuleImport"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feed_unit",plural:!1,selections:[o,{kind:"InlineFragment",selections:B,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:B,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[o,z,n],storageKey:null}],type:"StoryNFXActionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoViewerUnfollowMenuItem_nfxActionMenuItem",fragmentPropName:"nfxActionMenuItem",kind:"ModuleImport"}],type:"MediaViewerNFXActionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerReportMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaReportMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoViewerRemoveTagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRemoveTagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoMoveToOtherAlbumMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMoveToOtherAlbumMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometVideoViewerRemoveTagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoRemoveTagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPinOrUnpinAnnouncementAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPinOrUnpinAnnouncementAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupChangePostApprovalAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupChangePostApprovalAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPostScheduledPostNowMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostScheduledPostNowMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupReschedulePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupReschedulePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometCrisisListingEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupCrisisListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometDraftPostNowMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostDraftPostNowMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometScheduleDraftPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupScheduleDraftPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiDraftMakeShareableMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"WorkStoryGroupPostDraftMakeShareableMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerRotateLeftMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRotateLeftMediaItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerRotateRightMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRotateRightMediaItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMakeProfilePictureMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMakeProfilePictureMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMakeCoverPhotoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMakeCoverPhotoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerFullscreenMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaFullscreenMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"MemorializationCometPinPostMenuItem_storyMemorialPinPostMenuItem",fragmentPropName:"storyMemorialPinPostMenuItem",kind:"ModuleImport"}],type:"StoryMemorialPinPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMemorializedDateOfDeathAppealMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryMemorializedProfileDateOfDeathAppealMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEmbedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEmbedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryReportToFeedTeamMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportToFeedTeam",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryRemoveFromFavoritesMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemoveFromFavoritesMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddPostToUnitMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupAddPostToUnitMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SocialLearningEditPostTitleMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySocialLearningEditPostTitleMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningMakeModuleOptionalMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningMakeModuleOptionalMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningRemovePostFromUnitMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningRemovePostFromUnitMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningEditSyncedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningEditSyncedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiPromoteOrDemotePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPromoteOrDemotePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningDeleteSyncedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningDeleteSyncedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningQuizEditAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningEditQuizMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningDownloadQuizResultsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningDownloadQuizResultsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddPostToCampaignMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostAddToCampaignMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSeeUnifiedPostInsightsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkInsightsUnifiedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryViewUnformattedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryViewUnformattedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryTurnOffForSaleFormatMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTurnOffForSaleFormatMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryListInMorePlacesSalePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryListInMorePlacesSalePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometArchivePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryArchivePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometTrashPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTrashPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupDeletePostAndRemoveMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupDeletePostAndRemoveMemberMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupMuteMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostMuteMemberItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupUnmuteMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostUnmuteMemberItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryPendingPostDeclineAndGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPendingPostDeclineAndGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryPendingPostCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPendingPostCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupEnableCommentSlowdownMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupEnableCommentSlowdownMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupDisableCommentSlowdownMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupDisableCommentSlowdownMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupSetMemberContentControlsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSetMemberContentControlsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTMenuItems_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWAISTMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCivicSettingsWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCivicSettingsWAISTMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryTransparencyAdInfoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTransparencyAdInfoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsReportBug_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsReportBug",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsHideReelInViewer_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsHideReelInViewer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsDeleteReelMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"DeleteReelMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsReportReelMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsReportReel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometCreatorCollaborationsManageCollaborationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CreatorCollaborationsManageCollaborationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometCreatorCollaborationsRemoveYourselfAsCollaboratorMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CreatorCollaborationsRemoveYourselfAsCollaboratorMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsCopyCollaborationInviteLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CopyCollaborationInviteLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsRemoveCollaboratorMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"RemoveCollaboratorMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsCancelCollaborationInviteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CancelCollaborationInviteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsEditPrivacyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsEditPrivacyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupPostGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupPostSeeFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostSeeFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometReportRoleMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportRoleMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoriesSingleBucketFeedUnitViewProfileMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoriesSingleBucketFeedUnitViewProfileMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoriesSingleBucketFeedUnitMuteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoriesSingleBucketFeedUnitMuteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryCreateLocalAlertMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCreateLocalAlertMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleStarsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryToggleStarsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchIrrelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportIrrelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchRelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportRelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchSomewhatRelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportSomewhatRelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchLowQualityMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportLowQualityResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryShowMoreMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"ShowMoreMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryShowLessMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"ShowLessMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryInterestedAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"InterestedAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryNotInterestedAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"NotInterestedAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCommunityNotesMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCommunityNotesMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedRemixAndOAManagementMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemixAndOAManagementMenuItem",abstractKey:null}],storageKey:null}],type:"FeedUnitWithNFXActions",abstractKey:"__isFeedUnitWithNFXActions"}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null}],storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[o,n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductCatalog",kind:"LinkedField",name:"product_catalog",plural:!1,selections:B,storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_shared_catalog_segments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_affiliate_onboarded_creator",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[o,p,n,{alias:null,args:s,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:C,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[o,n],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:x,storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},n,p,D,E,F,G,q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_on_group_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_have_basic_shops_experience",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMatchData",kind:"LinkedField",name:"product_matches",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"product_box",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[n,p,D,E,F,G,q],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_y",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_tags",plural:!0,selections:[p,n],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},n],storageKey:null},{alias:"first_tags",args:H,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:I,storageKey:"tags(first:10)"},{alias:"first_with_tags",args:H,concreteType:"WithTagsConnection",kind:"LinkedField",name:"with_tags",plural:!1,selections:I,storageKey:"with_tags(first:10)"},{alias:null,args:null,concreteType:"WithTagsConnection",kind:"LinkedField",name:"with_tags",plural:!1,selections:[y],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometMediaViewerPhotoAddTagsActionMutation_facebookRelayOperation"),metadata:{},name:"CometMediaViewerPhotoAddTagsActionMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider:b("TestPilotShouldIncludeDemoAdUseCase.relayprovider"),__relay_internal__pv__CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabledrelayprovider:b("CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider")}}}}();e.exports=a}),null);
__d("CometMediaViewerPhotoAddTagsAction",["fbt","CometFeedStoryMenuEntryPointVariables","CometMediaViewerPhotoAddTagsActionMutation.graphql","CometRelay","WebPixelRatio","cometPushToast","maybeSanitizeXYTag"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=4e3;function a(a){var e=a.environment,f=a.extraData,g=a.input,k=a.onCompleted,l=a.onError;g.renderLocation="comet_media_viewer";g.tags=(a=g.tags)==null?void 0:a.map(function(a){return d("maybeSanitizeXYTag").maybeSanitizeXYTagOnMutation(a)});return d("CometRelay").commitMutation(e,{mutation:i!==void 0?i:i=b("CometMediaViewerPhotoAddTagsActionMutation.graphql"),onCompleted:function(){k?k():d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"Tag successfully submitted"),j)},onError:function(a){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Unable to tag photo")},j);a=g.tags!=null&&g.tags.length>0?g.tags[0]:null;l&&l(a==null?void 0:a.taggee)},variables:{feed_location:"COMET_MEDIA_VIEWER",feed_menu_icon_variant:c("CometFeedStoryMenuEntryPointVariables").iconVariant,input:g,privacySelectorRenderLocation:"COMET_MEDIA_VIEWER",scale:d("WebPixelRatio").get(),serialized_frtp_identifiers:f==null?void 0:f.serialized_frtp_identifiers,story_debug_info:f==null?void 0:f.story_debug_info}})}g["default"]=a}),226);
__d("CometMediaViewerPhotoDeleteTagsActionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="32444299495186061"}),null);
__d("CometMediaViewerPhotoDeleteTagsActionMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometMediaViewerPhotoDeleteTagsActionMutation_facebookRelayOperation","GHLShouldChangeSponsoredDataFieldName.relayprovider","TestPilotShouldIncludeDemoAdUseCase.relayprovider","CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feed_location"},c={defaultValue:null,kind:"LocalArgument",name:"feed_menu_icon_variant"},d={defaultValue:null,kind:"LocalArgument",name:"input"},e={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={defaultValue:null,kind:"LocalArgument",name:"serialized_frtp_identifiers"},i={defaultValue:null,kind:"LocalArgument",name:"story_debug_info"},j=[{kind:"Variable",name:"data",variableName:"input"}],k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"Variable",name:"scale",variableName:"scale"},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},p=[o],q={alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},s=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],t={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},v={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[u],storageKey:null},w=[k],x=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],y={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},z={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"strikethrough_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},A={alias:null,args:null,concreteType:"CatalogItemUnitPrice",kind:"LinkedField",name:"per_unit_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_text",storageKey:null}],storageKey:null},B={alias:null,args:[{kind:"Literal",name:"height",value:140},{kind:"Literal",name:"width",value:140}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:x,storageKey:"profile_picture(height:140,width:140)"},C=[{kind:"Literal",name:"first",value:10}],D=[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[m,n,k],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"CometMediaViewerPhotoDeleteTagsActionMutation",selections:[{alias:null,args:j,concreteType:"PhotoDeleteTagsResponsePayload",kind:"LinkedField",name:"photo_delete_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[k,{args:null,kind:"FragmentSpread",name:"CometPhotoTagWrapper_photo"},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItemTagFriendsTooltip_photo"},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItemTagFriends_photo"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorPhotoSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMetadataSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryTitleSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerTitleSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerSuffixSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMenu_story"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,g,i,h,e,f,a,c,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"}],kind:"Operation",name:"CometMediaViewerPhotoDeleteTagsActionMutation",selections:[{alias:null,args:j,concreteType:"PhotoDeleteTagsResponsePayload",kind:"LinkedField",name:"photo_delete_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[k,{alias:null,args:[l],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m,k,n,{kind:"InlineFragment",selections:p,type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[q,r,k],storageKey:null}],type:"Photo",abstractKey:null},k],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:s,storageKey:null}],storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[q,r,k,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"31PGhD"}],concreteType:null,kind:"LinkedField",name:"actor_photo",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorCommunityAttributionStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorCommunityAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryDualActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryDualActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedDraftForStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryActorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryCoAuthorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"GeminiFeedStoryCoAuthorPhotoStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorPhotoSectionMatchRenderer_story",fragmentName:"CometFeedStoryActorPhotoStrategy_actorPhoto",fragmentPropName:"actorPhoto",kind:"ModuleImport"}],type:"CometFeedStoryActorPhotoStrategy",abstractKey:null}],storageKey:'actor_photo(supported:"31PGhD")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3qagX9"}],concreteType:null,kind:"LinkedField",name:"metadata",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryCommunityAttributionGroupPostByStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryCommunityAttributionGroupPostByStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPostTopicsStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryPostTopicsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryUserSignalsStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometStoryUserSignalsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryIdentityBadgeStrategy_identityBadge",fragmentPropName:"identityBadge",kind:"ModuleImport"}],type:"CometStoryIdentityBadgeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStorySponsoredLabelStrategy_sponsoredLabel",fragmentPropName:"sponsoredLabel",kind:"ModuleImport"}],type:"CometStorySponsoredLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStorySponsoredPoliticalLabelStrategy_sponsoredLabel",fragmentPropName:"sponsoredLabel",kind:"ModuleImport"}],type:"CometStorySponsoredPoliticalLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryGenAITransparencyStrategy_genAITransparency",fragmentPropName:"genAITransparency",kind:"ModuleImport"}],type:"CometFeedStoryGenAITransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryGenAIContentTransparencyStrategy_genAIContentTransparency",fragmentPropName:"genAIContentTransparency",kind:"ModuleImport"}],type:"CometFeedStoryGenAIContentTransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLocationTransparencyStrategy_locationTransparency",fragmentPropName:"locationTransparency",kind:"ModuleImport"}],type:"CometStoryLocationTransparencyStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPostLevelAuthenticityStrategy_postLevelAuthenticity",fragmentPropName:"postLevelAuthenticity",kind:"ModuleImport"}],type:"CometStoryPostLevelAuthenticityStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPageAdminAttributionStrategy_adminAttribution",fragmentPropName:"adminAttribution",kind:"ModuleImport"}],type:"CometStoryPageAdminAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPaidPartnershipLabelStrategy_paidPartnershipLabel",fragmentPropName:"paidPartnershipLabel",kind:"ModuleImport"}],type:"CometStoryPaidPartnershipLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometStoriesSingleBucketFeedUnitLabelStrategy_storiesFeedUnitLabel",fragmentPropName:"storiesFeedUnitLabel",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryBackdatedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryBackdatedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryScheduledTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryScheduledTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLongerTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryLongerTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMinimizedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryMinimizedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternLiveEventStrategy_internLiveEvent",fragmentPropName:"internLiveEvent",kind:"ModuleImport"}],type:"GeminiStoryInternLiveEventStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternTaskStrategy_internTask",fragmentPropName:"internTask",kind:"ModuleImport"}],type:"GeminiStoryInternTaskStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternIESCaseStrategy_internIESCase",fragmentPropName:"internIESCase",kind:"ModuleImport"}],type:"GeminiStoryInternIESCaseStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryInternESHCaseStrategy_internESHCase",fragmentPropName:"internESHCase",kind:"ModuleImport"}],type:"GeminiStoryInternESHCaseStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryLocationStrategy_location",fragmentPropName:"location",kind:"ModuleImport"}],type:"CometFeedStoryLocationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryApplicationLinkStrategy_location",fragmentPropName:"location",kind:"ModuleImport"}],type:"CometFeedStoryApplicationLinkStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPrivacySelectorStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryPrivacySelectorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryAudienceStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoriesSingleBucketAudienceStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoriesSingleBucketAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryConfidentialityStrategy_confidentiality",fragmentPropName:"confidentiality",kind:"ModuleImport"}],type:"CometFeedStoryConfidentialityStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryFTEOnlyPostLabelStrategy_fteOnlyPost",fragmentPropName:"fteOnlyPost",kind:"ModuleImport"}],type:"CometStoryFTEOnlyPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryKeyUpdateStrategy_audience",fragmentPropName:"audience",kind:"ModuleImport"}],type:"CometFeedStoryKeyUpdateStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryPollEndtimeStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryPollEndtimeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryRecommendationLabelStrategy_recommendationLabel",fragmentPropName:"recommendationLabel",kind:"ModuleImport"}],type:"CometStoryRecommendationLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryRecentlyViewedLabelStrategy_recentlyViewedLabel",fragmentPropName:"recentlyViewedLabel",kind:"ModuleImport"}],type:"CometStoryRecentlyViewedLabelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMusicPostLevelAttributionStrategy_musicPostLevelAttribution",fragmentPropName:"musicPostLevelAttribution",kind:"ModuleImport"}],type:"CometStoryMusicPostLevelAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryMetaAiPostLevelAttributionStrategy_metaAiPostLevelAttribution",fragmentPropName:"metaAiPostLevelAttribution",kind:"ModuleImport"}],type:"CometFeedStoryMetaAiPostLevelAttributionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryIGReelsXARAudienceStrategy_label",fragmentPropName:"label",kind:"ModuleImport"}],type:"CometFeedStoryIGReelsXARAudienceStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryUGCMetadataStrategy_UGCMetadata",fragmentPropName:"UGCMetadata",kind:"ModuleImport"}],type:"CometStoryUGCMetadataStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMetadataSectionMatchRenderer_story",fragmentName:"CometFeedStoryFailedScheduledPostMetadataStrategy_failedScheduledPost",fragmentPropName:"failedScheduledPost",kind:"ModuleImport"}],type:"CometFeedStoryFailedScheduledPostMetadataStrategy",abstractKey:null}],storageKey:'metadata(supported:"3qagX9")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"40erBm"}],concreteType:null,kind:"LinkedField",name:"title",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedDraftForStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryCommunityAttributionTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryCommunityAttributionTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupsTabDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryGroupsTabDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryViaTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryViaTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryTitleWithActorStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryTitleWithActorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDefaultTitleStrategy",abstractKey:null}],storageKey:'title(supported:"40erBm")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[m,n,k,{kind:"TypeDiscriminator",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[v,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[v,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"location",value:"comet_media_viewer"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"suffix",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:'suffix(location:"comet_media_viewer")'},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feed_location"},{kind:"Variable",name:"serialized_frtp_identifiers",variableName:"serialized_frtp_identifiers"}],concreteType:null,kind:"LinkedField",name:"nfx_action_menu_items",plural:!0,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isNFXActionMenuItem"},{kind:"TypeDiscriminator",abstractKey:"__isStoryMenuItem"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryOpenInIDDMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryOpenInIDDMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedHairlineMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"HairlineMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoRightsManagerAttributionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBPhotoRightsManagerAttributionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDownloadPhotoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoDownloadMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerEditLocationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaLocationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerAltTextMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaChangeAltTextMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDownloadVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoDownloadMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerTransferVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoTransferStoryMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryDeleteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryDeleteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerDeleteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaDeleteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryDownloadCommentsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryDownloadCommentsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiMovePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMovePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryCopyQuestionsMenuItem_copyQuestionsMenuItem",fragmentPropName:"copyQuestionsMenuItem",kind:"ModuleImport"}],type:"XFBStoryCopyQuestionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryStoreInMementoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkStoreInMementoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkWhyAmISeeingThisMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryWorkEmbedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkEmbedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryRemindMeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemindMeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryTLDRMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkTLDRMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryManageVideoChaptersMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageVideoChaptersMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryOpenLiveStudioMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryOpenLiveStudioMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryManageVideoCaptionsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageVideoCaptionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryRevokeDrafterPermissionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRevokeDrafterPermissionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStorySaveToKnowledgeHubMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySaveToKnowledgeHubMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStorySaveMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySavableMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometGroupsTabHideUnconnectedGroupMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupsTabHideUnconnectedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedEditHistoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditHistoryMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryRefreshShareMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"RefreshShareMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometPinPostStoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryPinProfilePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiManageMSTeamsLiveVideoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageMSTeamsLiveVideoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiCanNotEditForPostMenuItem_canNotEditForPostMenuItem",fragmentPropName:"canNotEditForPostMenuItem",kind:"ModuleImport"}],type:"XFBStoryCanNoLongerEditPostForMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiConvertQAPollWithRegularPollMenuItem_convertQAPollWithRegularPollMenuItem",fragmentPropName:"convertQAPollWithRegularPollMenuItem",kind:"ModuleImport"}],type:"XFBStoryConvertPollAndCompanyQAPollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiClosePollMenuItem_closePollMenuItem",fragmentPropName:"closePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryClosePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiChangeEndTimeMenuItem_changeEndtimePollMenuItem",fragmentPropName:"changeEndtimePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryChangeEndTimePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupStoryManagePollMenuItem_managePollMenuItem",fragmentPropName:"managePollMenuItem",kind:"ModuleImport"}],type:"XFBStoryManagePollMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditSalePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditSalePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"PagesCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryPagePostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiGroupStoryEditDisabledByPollMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"WorkStoryGroupPostEditDisabledToPollHasVoteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CrisisCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCrisisPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CrisisCometListingStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCrisisListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CoronavirusCommunityHelpCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCoronavirusCommunityHelpListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"FundraiserStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryFundraiserPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiEditWorkMajorEventMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupWorkMajorEventEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryAddOrEditPostAdminHashtagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupAddOrEditPostAdminHashtagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometLifeEventsEditStoryMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryLifeEventsEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"EventCometStoryEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEventPostEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"EventCometStoryPinOrUnpinStatusMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEventPinOrUnpinStatusMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditLiveVideoPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryLiveVideoEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryManageMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryManageMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditPrivacyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditPrivacyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEditDirectedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEditDirectedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometBackdateMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTimelineBackdateMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBrandedContentLookupToolMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBrandedContentLookupToolMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryInspectToolMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryInspectToolMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryIFRFunnelInspectMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryIFRFunnelInspectMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBumperDebuggerMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBumperDebuggerMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWhyAmISeeingThisMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWhyAmISeeingThisAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGenAITransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGenAITransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGenAIInfoTransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGenAIInfoTransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupsUGCPostGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGroupsUGCGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupsUGCManageAISettingsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryGroupsUGCManageAISettingsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryOpenAdsRankingTransparencyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryAdsRankingTransparencyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPostMarkOrRemoveAnnouncementMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMarkOrRemoveAnnouncementMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryReportListingMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportListingMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryQuickInjectMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryQuickInjectMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCommentModerationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCommentModerationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryUpdateScheduleTimeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryUpdateScheduleTimeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryBulkHideCommentsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryBulkHideCommentsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCopyDemoLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCopyDemoLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"PagesCometCreateClipMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTimelineCreateClipMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEndAMASessionMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEndAMASessionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupReportToAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupReportToAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddScreenshotsToReportedContent_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostAddScreenshotsToReportedContent",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometHideStoryFromFeedMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupsHideStoryFromFeed",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometMakeUserExpertMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupMakeUserExpertMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometRemovePostAsAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupRemovePostAsAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometToggleCustomReactionsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleCustomReactionsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupToggleCommentingMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleCommentingMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleNotificationsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleNotificationsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleAdPartnershipCodeMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleAdPartnershipCodeMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryFollowAllMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleFollowAllMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleTranslationsBlockedMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryToggleTranslationsBlockedMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryNFXActionMenuItem_nfxActionMenuItem",fragmentPropName:"nfxActionMenuItem",kind:"ModuleImport"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"feed_unit",plural:!1,selections:[m,{kind:"InlineFragment",selections:w,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:w,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:w,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:w,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:w,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:w,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:w,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:w,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[m,u,k],storageKey:null}],type:"StoryNFXActionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoViewerUnfollowMenuItem_nfxActionMenuItem",fragmentPropName:"nfxActionMenuItem",kind:"ModuleImport"}],type:"MediaViewerNFXActionMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerReportMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaReportMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoViewerRemoveTagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRemoveTagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometPhotoMoveToOtherAlbumMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMoveToOtherAlbumMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometVideoViewerRemoveTagMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"VideoRemoveTagMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPinOrUnpinAnnouncementAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPinOrUnpinAnnouncementAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupChangePostApprovalAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupChangePostApprovalAdminMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupPostScheduledPostNowMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostScheduledPostNowMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometGroupReschedulePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupReschedulePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometCrisisListingEditMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupCrisisListingEditMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometDraftPostNowMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostDraftPostNowMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometScheduleDraftPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupScheduleDraftPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiDraftMakeShareableMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"WorkStoryGroupPostDraftMakeShareableMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerRotateLeftMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRotateLeftMediaItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerRotateRightMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoRotateRightMediaItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMakeProfilePictureMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMakeProfilePictureMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMakeCoverPhotoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"PhotoMakeCoverPhotoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometMediaViewerFullscreenMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"MediaFullscreenMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"MemorializationCometPinPostMenuItem_storyMemorialPinPostMenuItem",fragmentPropName:"storyMemorialPinPostMenuItem",kind:"ModuleImport"}],type:"StoryMemorialPinPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"ProfileCometMemorializedDateOfDeathAppealMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryMemorializedProfileDateOfDeathAppealMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryEmbedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryEmbedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryReportToFeedTeamMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportToFeedTeam",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryRemoveFromFavoritesMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemoveFromFavoritesMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddPostToUnitMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupAddPostToUnitMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SocialLearningEditPostTitleMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StorySocialLearningEditPostTitleMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningMakeModuleOptionalMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningMakeModuleOptionalMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningRemovePostFromUnitMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningRemovePostFromUnitMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningEditSyncedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningEditSyncedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsGeminiPromoteOrDemotePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPromoteOrDemotePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningDeleteSyncedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningDeleteSyncedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningQuizEditAdminMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningEditQuizMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSocialLearningDownloadQuizResultsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSocialLearningDownloadQuizResultsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometAddPostToCampaignMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostAddToCampaignMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometSeeUnifiedPostInsightsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWorkInsightsUnifiedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GeminiFeedStoryViewUnformattedPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryViewUnformattedPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryTurnOffForSaleFormatMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTurnOffForSaleFormatMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryListInMorePlacesSalePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryListInMorePlacesSalePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometArchivePostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryArchivePostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometTrashPostMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTrashPostMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupDeletePostAndRemoveMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupDeletePostAndRemoveMemberMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupMuteMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostMuteMemberItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupUnmuteMemberMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostUnmuteMemberItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryPendingPostDeclineAndGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPendingPostDeclineAndGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometStoryPendingPostCopyLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPendingPostCopyLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupEnableCommentSlowdownMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupEnableCommentSlowdownMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupDisableCommentSlowdownMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupDisableCommentSlowdownMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupSetMemberContentControlsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupSetMemberContentControlsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryWAISTMenuItems_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryWAISTMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCivicSettingsWAISTMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCivicSettingsWAISTMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryTransparencyAdInfoMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryTransparencyAdInfoMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsReportBug_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsReportBug",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsHideReelInViewer_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsHideReelInViewer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsDeleteReelMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"DeleteReelMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsReportReelMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsReportReel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometCreatorCollaborationsManageCollaborationMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CreatorCollaborationsManageCollaborationMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometCreatorCollaborationsRemoveYourselfAsCollaboratorMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CreatorCollaborationsRemoveYourselfAsCollaboratorMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsCopyCollaborationInviteLinkMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CopyCollaborationInviteLinkMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsRemoveCollaboratorMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"RemoveCollaboratorMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsCancelCollaborationInviteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"CancelCollaborationInviteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFBReelsEditPrivacyMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"FBReelsEditPrivacyMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupPostGiveFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostGiveFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryGroupPostSeeFeedbackMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryGroupPostSeeFeedbackMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"GroupsCometReportRoleMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryReportRoleMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoriesSingleBucketFeedUnitViewProfileMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoriesSingleBucketFeedUnitViewProfileMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoriesSingleBucketFeedUnitMuteMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoriesSingleBucketFeedUnitMuteMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometStoryCreateLocalAlertMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCreateLocalAlertMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryToggleStarsMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBStoryToggleStarsMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchIrrelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportIrrelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchRelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportRelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchSomewhatRelevantMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportSomewhatRelevantResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"SearchCometFeedStorySearchLowQualityMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"XFBSearchResultsReportLowQualityResultMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryShowMoreMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"ShowMoreMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryShowLessMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"ShowLessMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryInterestedAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"InterestedAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryNotInterestedAdMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"NotInterestedAdMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedStoryCommunityNotesMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryCommunityNotesMenuItem",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryMenuWithoutExpandables_story",fragmentName:"CometFeedRemixAndOAManagementMenuItem_storyMenuItem",fragmentPropName:"storyMenuItem",kind:"ModuleImport"}],type:"StoryRemixAndOAManagementMenuItem",abstractKey:null}],storageKey:null}],type:"FeedUnitWithNFXActions",abstractKey:"__isFeedUnitWithNFXActions"}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null}],storageKey:null},k],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[m,k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductCatalog",kind:"LinkedField",name:"product_catalog",plural:!1,selections:w,storageKey:null},k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_shared_catalog_segments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_affiliate_onboarded_creator",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[m,n,k,{alias:null,args:[{kind:"Literal",name:"height",value:40},l,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:x,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[m,k],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},k,n,y,z,A,B,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_on_group_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_have_basic_shops_experience",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMatchData",kind:"LinkedField",name:"product_matches",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"product_box",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[k,n,y,z,A,B,o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_y",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_tags",plural:!0,selections:[n,k],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},k],storageKey:null},{alias:"first_tags",args:C,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:D,storageKey:"tags(first:10)"},{alias:"first_with_tags",args:C,concreteType:"WithTagsConnection",kind:"LinkedField",name:"with_tags",plural:!1,selections:D,storageKey:"with_tags(first:10)"},{alias:null,args:null,concreteType:"WithTagsConnection",kind:"LinkedField",name:"with_tags",plural:!1,selections:[t],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometMediaViewerPhotoDeleteTagsActionMutation_facebookRelayOperation"),metadata:{},name:"CometMediaViewerPhotoDeleteTagsActionMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider:b("TestPilotShouldIncludeDemoAdUseCase.relayprovider"),__relay_internal__pv__CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabledrelayprovider:b("CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider")}}}}();e.exports=a}),null);
__d("CometMediaViewerPhotoDeleteTagsAction",["fbt","CometFeedStoryMenuEntryPointVariables","CometMediaViewerPhotoDeleteTagsActionMutation.graphql","CometRelay","WebPixelRatio","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=4e3;function a(a){var e=a.environment,f=a.extraData,g=a.input,k=a.onCompleted,l=a.onError;return d("CometRelay").commitMutation(e,{mutation:i!==void 0?i:i=b("CometMediaViewerPhotoDeleteTagsActionMutation.graphql"),onCompleted:function(){k?k():d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"Tag removed"),j)},onError:function(a){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Unable to delete tag")},j);a=g.tags!=null&&g.tags.length>0?g.tags[0]:null;l&&l(a==null?void 0:a.taggee)},updater:function(a){var b=a.getRootField("photo_delete_tags");if(b==null)return;var c=g.photo_id;b=g.tags;var e="CometAlbumEditItemTagFriendsList_photo_tags";b.forEach(function(b){var f;b=b==null||(f=b.taggee)==null?void 0:f.id;if(b!=null){var g=a.get(c);if(g!=null){g=d("CometRelay").ConnectionHandler.getConnection(g,e,{});g&&d("CometRelay").ConnectionHandler.deleteNode(g,b)}}})},variables:{feed_location:"COMET_MEDIA_VIEWER",feed_menu_icon_variant:c("CometFeedStoryMenuEntryPointVariables").iconVariant,input:g,privacySelectorRenderLocation:"COMET_MEDIA_VIEWER",scale:d("WebPixelRatio").get(),serialized_frtp_identifiers:f==null?void 0:f.serialized_frtp_identifiers,story_debug_info:f==null?void 0:f.story_debug_info}})}g["default"]=a}),226);
__d("CometMediaViewerTagComposer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometMediaViewerTagComposer_photo",selections:[{args:null,kind:"FragmentSpread",name:"useCometMediaViewerMentionsDataSourceResolverConfig_photo"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,b,{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("createCometWithTagStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.minMatchLength;return{findMentionableString:function(a){return a.length>=b?{leadOffset:a.length,matchingString:a,replaceableString:a}:null},name:"WithTagStrategy("+b.toString()+")"}}f["default"]=a}),66);
__d("useCometMediaViewerMentionsDataSourceResolverConfig_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometMediaViewerMentionsDataSourceResolverConfig_photo",selections:[{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("useCometMediaViewerMentionsDataSourceResolverConfig",["CometRelay","createCometWithTagStrategy","react","react-compiler-runtime","useCometMediaViewerComposerMentionsDataSource","useCometMediaViewerMentionsDataSourceResolverConfig_photo.graphql","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e){var f=d("react-compiler-runtime").c(11);e=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometMediaViewerMentionsDataSourceResolverConfig_photo.graphql"),e);var g;if(f[0]!==e){var i;g=e!=null?e==null||(i=e.tags)==null?void 0:i.edges.map(j).filter(Boolean):[];f[0]=e;f[1]=g}else g=f[1];e=g;f[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user","page"]}},f[2]=g):g=f[2];var k;f[3]!==e?(k=e!=null?e:[],f[3]=e,f[4]=k):k=f[4];f[5]!==a||f[6]!==k?(e={config:g,existingIDs:k,hideCurrentUserFromDefaultSuggestions:!0,isDefaultTypeaheadCacheEnabled:!0,limit:10,photoID:a,showExistingTagsInTypeahead:!0},f[5]=a,f[6]=k,f[7]=e):e=f[7];g=c("useCometMediaViewerComposerMentionsDataSource")(e);f[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("createCometWithTagStrategy")({minMatchLength:0}),f[8]=a):a=f[8];f[9]!==g?(k=[{dataSource:g,matchStrategy:a}],f[9]=g,f[10]=k):k=f[10];e=k;a=e;return c("useCometMentionsDataSourceResolverConfig")(a,!0)}function j(a){var b;return a==null||(b=a.node)==null?void 0:b.id}g["default"]=a}),98);
__d("CometMediaViewerTagComposer.react",["fbt","BaseContextualLayerOrientationContext","CometInputWithCommands.react","CometMediaViewerMentionsTypeaheadContextualLayer.react","CometMediaViewerMentionsTypeaheadListItemWithMetadata.react","CometMediaViewerPhotoAddTagsAction","CometMediaViewerTagComposer_photo.graphql","CometMentionsA11yContext","CometPhotoTagExistingTagsContext","CometRelay","CometTextInputWithIcon_DEPRECATED.react","FBLogger","FDSMagnifyingGlassFilled16Icon","FDSText.react","cometPushToast","emptyFunction","maybeSanitizeXYTag","react","useCometMediaViewerMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useEffect,aa=e.useLayoutEffect,o=e.useMemo,p=e.useRef,q=e.useState;function a(a){var e,f,g,j,r,s,t,u,v,w=a.imageHeight,x=a.imageWidth,y=a.nodeID,z=a.onAbandonSearch,A=a.onError,B=a.onSubmitted,C=a.photo,ba=a.ref,D=a.repositionDropdown;a.tagBoxSize;var E=a.xPos,F=a.yPos;a=m(c("CometMentionsA11yContext"));var G=a||c("emptyFunction");a==null&&c("FBLogger")("comet_ax").mustfix("a11y context is not available");a=q(!1);var H=a[0],I=a[1];a=q(!1);var J=a[0],K=a[1];a=q(!0);var ca=a[0],da=a[1],L=d("CometRelay").useRelayEnvironment();a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaViewerTagComposer_photo.graphql"),C);var M=p(null),N=p(null);C=m(c("BaseContextualLayerOrientationContext"));var O=C.position,P=p(O);aa(function(){P.current=O},[O]);n(function(){if(M!=null){var a=M.current;a!=null&&a.focus()}},[M]);C=q("");var Q=C[0],R=C[1];n(function(){I(!1)},[y]);C=l(function(){return M.current},[M]);C=C();var ea=l(function(a){R(a.target.value),D&&D()},[D]),S=a==null||(e=a.creation_story)==null?void 0:e.serialized_frtp_identifiers,fa=a==null||(f=a.creation_story)==null?void 0:f.debug_info,ga=(a==null||(g=a.viewer)==null||(g=g.actor)==null?void 0:g.__typename)==="Page",T=l(function(a){var b=d("maybeSanitizeXYTag").maybeSanitizeXYTagOnCreateTag({source:"manual",taggee:a,x:E/x*100,y:F/w*100});c("CometMediaViewerPhotoAddTagsAction")({environment:L,extraData:{serialized_frtp_identifiers:S,story_debug_info:fa},input:{photo_id:y,tags:[b]},onError:A});I(!0);B!=null&&B(a)},[A,L,w,x,y,B,S,fa,E,F]),ha=((a==null||(j=a.tags)==null?void 0:j.edges)||[]).map(function(a){var b;return a==null||(b=a.node)==null?void 0:b.name}).filter(Boolean),U=m(c("CometPhotoTagExistingTagsContext")),V=l(function(a){return U!=null?U.selectedNames.has(a):ha.includes(a)},[ha,U]),W=C!=null&&J,ia=o(function(){return{description:h._(/*BTDS*/"Hide suggestions"),handler:function(){z?Q?R(""):z():(K(!1),da(!1),B!=null&&B())}}},[z,B,Q]),ja=o(function(){return!W?void 0:{description:h._(/*BTDS*/"Move up"),handler:function(){var a=N.current;a&&a.moveUp()}}},[W]),ka=o(function(){return!W?void 0:{description:h._(/*BTDS*/"Move down"),handler:function(){var a=N.current;a&&a.moveDown()}}},[W]),la=o(function(){return!W?void 0:{description:h._(/*BTDS*/"Confirm"),handler:function(){var a=N.current;a!=null&&a.hasSelection()&&a.select()}}},[W]),ma=o(function(){return{description:h._(/*BTDS*/"Confirm"),handler:function(){var a=N.current;if(a==null){!H&&Q!=null&&Q.length!==0&&T({name:Q});return}if(a.hasSelection())a&&a.select();else if(!H&&Q!=null&&Q.length!==0){if(V(Q)){d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"The specified user or page is already tagged in this photo."),4e3);return}T({name:Q})}}}},[V,T,H,Q]),na=l(function(a){if(!H){if(V(a.label)){d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"The specified user or page is already tagged in this photo."),4e3);return}a=a.key;T({id:a})}K(!1);R("")},[V,T,H]),X=c("useCometMediaViewerMentionsDataSourceResolverConfig")(y,a);X=X.resolver;X=X(Q);var Y=X.dataSource;X=X.searchResult;if(Y==null||X==null)throw c("FBLogger")("comet_ui").mustfixThrow("CometMediaViewerTagComposer strategy resolver returned no dataSource");var Z=a==null||(r=a.viewer)==null||(r=r.actor)==null?void 0:r.id,$=a==null||(s=a.viewer)==null||(s=s.actor)==null?void 0:s.name;$=Z!=null&&$!=null?{key:Z,label:$,rawData:{isVerified:!1,photoURI:($=a==null||(t=a.viewer)==null||(t=t.actor)==null||(t=t.profile_picture)==null?void 0:t.uri)!=null?$:"",score:0,subtext:a==null||(u=a.viewer)==null||(u=u.actor)==null?void 0:u.name,type:"MENTION_SEARCH_RESULT"},type:"entry"}:null;var oa=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("CometMediaViewerMentionsTypeaheadListItemWithMetadata.react")}),pa=P.current;C=C!=null&&J?k.jsx(c("CometMediaViewerMentionsTypeaheadContextualLayer.react"),{ariaProps:{role:"listbox"},currentUserEntry:$,dataSource:Y,onAriaChange:G,onResultsLoaded:D,onSelectedEntry:na,query:X.matchingString,ref:N,showLoadingIndicator:pa!==O?!1:ca,viewStrategyRenderer:oa},"mentions-typehaead"):null;$=(J=a.privacy_scope)==null||(J=J.selected_option)==null||(J=J.privacy_row_input)==null?void 0:J.base_state;Y=null;if($==="FRIENDS"||$==="FRIENDS_OF_FRIENDS"){((G=a.owner)==null?void 0:G.id)===Z?Y=k.jsx(c("FDSText.react"),{type:"meta1",children:h._(/*BTDS*/"The person tagged and their friends may be able to see your post.")}):Y=k.jsx(c("FDSText.react"),{type:"meta1",children:h._(/*BTDS*/"The person tagged and their friends may be able to see this post.")})}return k.jsxs("div",{className:"x1jx94hy x1exxf4d xpv9jar x1nb4dca x1nmn18 x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf x1qughib x1gslohp x2fvf9 x12nagc xdwrcjd x256u9z x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",onBlur:function(){var a;K(!0);(a=M.current)==null||a.focus();return},onFocus:function(){K(!0)},ref:ba,children:[O==="above"?C:null,k.jsx(c("CometInputWithCommands.react"),{down:ka,enter:ma,esc:ia,tab:la,up:ja,children:k.jsx(c("CometTextInputWithIcon_DEPRECATED.react"),{"aria-label":h._(/*BTDS*/"Tagging input box"),autoComplete:"off","data-testid":void 0,disabled:H,icon:c("FDSMagnifyingGlassFilled16Icon"),iconColor:"tertiary",onChange:ea,placeholder:"Type any name",ref:M,type:"text",value:Q})}),ga?null:k.jsx("div",{className:"xjkvuk6 x11lfxj5 x135b78x x1y1aw1k",children:k.jsx(c("FDSText.react"),{type:"meta1",children:h._(/*BTDS*/"You are currently tagging this photo as {actorName}!",[h._param("actorName",a==null||(v=a.viewer)==null||(v=v.actor)==null?void 0:v.name)])})}),O==="below"?C:null,Y&&k.jsx("div",{className:"xjkvuk6 x11lfxj5 x135b78x x1y1aw1k",children:Y})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometPhotoAddTag_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoAddTag_photo",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaViewerTagComposer_photo"}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometPhotoEditorTagContextualRectangle.react",["fbt","CometContextualLayer.react","CometPressable.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useReducer,n=b.useRef,o={pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderInlineEnd:"xtmcdsl",borderBottom:"x112ta8",borderInlineStart:"x4gj9lk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0}};function a(a){var b=a.children,d=a.onPress,e=a.ref;a.shouldHideBorder;var f=a.tagBoxHeight,g=a.tagBoxWidth,i=a.typeaheadLayerRef,p=a.xPos,q=a.yPos;a=n(null);var r=m(function(a){a===void 0&&(a=0);return a+1}),s=r[0],t=r[1];k(function(){t()},[q,p]);r={height:f,width:g};f=l(function(){return{left:p,position:"absolute",top:q,zIndex:1}},[p,q]);return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"xb2d7b1 xhxgeai xmk2xwg x19t68hi xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1xwyiab xbyyjgo x1o7uuvo","data-testid":void 0,ref:a,style:f,children:j.jsx(c("CometPressable.react"),{"aria-label":h._(/*BTDS*/"tag box"),display:"inline",onPress:d,overlayDisabled:!0,xstyle:o.pressable,children:j.jsx("div",{style:r})})}),a.current&&j.jsx(c("CometContextualLayer.react"),{align:"middle",contextRef:a,imperativeRef:e,position:"below",ref:i,children:b},s)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useContextualTagBoxReposition",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect,j=b.useRef;function a(){var a=d("react-compiler-runtime").c(4),b=j(null),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){b.current!=null&&b.current.reposition({autoflip:!0})},a[0]=c):c=a[0];var e=c,f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){e()},f=[e],a[1]=c,a[2]=f):(c=a[1],f=a[2]);i(c,f);a[3]===Symbol["for"]("react.memo_cache_sentinel")?(c={ref:b,reposition:e},a[3]=c):c=a[3];return c}g["default"]=a}),98);
__d("CometPhotoAddTag.react",["CometMediaViewerTagComposer.react","CometPhotoAddTag_photo.graphql","CometPhotoEditorTagContextualRectangle.react","CometPhotoTagExistingTagsContext","CometRelay","FBLogger","react","react-compiler-runtime","useContextualTagBoxReposition"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(23),f=a.borderSize,g=a.currentSessionTags,i=a.imageHeight,k=a.imageWidth,l=a.onAbandonSearch,m=a.onError,n=a.onPress,o=a.onSubmitted,p=a.photo,q=a.ref,r=a.tagBoxSize,s=a.xPos;a=a.yPos;p=d("CometRelay").useFragment(h!==void 0?h:h=b("CometPhotoAddTag_photo.graphql"),p);var t=p==null?void 0:p.id;if(t==null)throw c("FBLogger")("facebook_desktop_web_media_viewer").mustfixThrow("CometPhotoAddTag: Cannot find id of photo");var u=c("useContextualTagBoxReposition")(),v=u.ref;u=u.reposition;var w=s+r/2+f;f=a+r/2+f;var x;e[0]!==i||e[1]!==k||e[2]!==l||e[3]!==m||e[4]!==o||e[5]!==p||e[6]!==t||e[7]!==q||e[8]!==u||e[9]!==w||e[10]!==f||e[11]!==r?(x=j.jsx(c("CometMediaViewerTagComposer.react"),{imageHeight:i,imageWidth:k,nodeID:t,onAbandonSearch:l,onError:m,onSubmitted:o,photo:p,ref:q,repositionDropdown:u,tagBoxSize:r,xPos:w,yPos:f}),e[0]=i,e[1]=k,e[2]=l,e[3]=m,e[4]=o,e[5]=p,e[6]=t,e[7]=q,e[8]=u,e[9]=w,e[10]=f,e[11]=r,e[12]=x):x=e[12];e[13]!==g||e[14]!==x?(i=j.jsx(c("CometPhotoTagExistingTagsContext").Provider,{value:g,children:x}),e[13]=g,e[14]=x,e[15]=i):i=e[15];e[16]!==v||e[17]!==n||e[18]!==i||e[19]!==r||e[20]!==s||e[21]!==a?(k=j.jsx(c("CometPhotoEditorTagContextualRectangle.react"),{onPress:n,ref:v,tagBoxHeight:r,tagBoxWidth:r,xPos:s,yPos:a,children:i}),e[16]=v,e[17]=n,e[18]=i,e[19]=r,e[20]=s,e[21]=a,e[22]=k):k=e[22];return k}g["default"]=a}),98);
__d("FDSQuestionCircleFilled16Icon",["cr:14074"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14074")}),98);
__d("CometProductTagUnknownDotHint.react",["FDSIcon.react","FDSQuestionCircleFilled16Icon","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(14),e=a.borderSize,f=a.dotSize;a=a.padding;c("vulture")("8ZMsvllG54LL0z-Ja1hpDEmqxBQ=");var g=j(!1),h=g[0],k=g[1];g=h?"var(--accent)":"var(--fds-black-alpha-20)";var l,m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x78zum5 xl56j7k x1y1aw1k xf159sx xwib8y2 xmzvs34",l=function(){return k(!0)},m=function(){return k(!1)},b[0]=h,b[1]=l,b[2]=m):(h=b[0],l=b[1],m=b[2]);var n;b[3]!==a?(n={padding:a},b[3]=a,b[4]=n):n=b[4];a=e+"px solid "+g;b[5]!==f||b[6]!==a?(e={backgroundClip:"padding-box",border:a,borderRadius:"50%",height:f,width:f},b[5]=f,b[6]=a,b[7]=e):e=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSQuestionCircleFilled16Icon"),size:16}),b[8]=g):g=b[8];b[9]!==e?(f=i.jsx("div",{style:e,children:g}),b[9]=e,b[10]=f):f=b[10];b[11]!==n||b[12]!==f?(a=i.jsx("div",{className:h,onMouseEnter:l,onMouseLeave:m,style:n,children:f}),b[11]=n,b[12]=f,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("CometPhotoEditorUnknownTagBox.react",["fbt","CometPressable.react","CometProductTagUnknownDotHint.react","CometProductTaggingConstants","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useRef;function b(b){var e=d("react-compiler-runtime").c(23);c("vulture")("WH0ZYS4jGt6nJNcDDyBjPGL9kKc=");var f=l(b.logImpression),g,i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){f.current&&f.current()},i=[],e[0]=g,e[1]=i):(g=e[0],i=e[1]);k(g,i);var m=l(null);e[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){m.current!=null&&m.current.reposition({autoflip:!0})},e[2]=g):g=e[2];var n=g;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){a.addEventListener("resize",n);return function(){a.removeEventListener("resize",n)}},g=[n],e[3]=i,e[4]=g):(i=e[3],g=e[4]);k(i,g);var o=b.horizontalPercentage,p=b.verticalPercentage;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(i="x71s49j x10l6tqk",e[5]=i):i=e[5];g="calc("+o+"% - "+d("CometProductTaggingConstants").TOTAL_DOT_SIZE+"px / 2";var q="calc("+p+"% - "+d("CometProductTaggingConstants").TOTAL_DOT_SIZE+"px / 2",r;e[6]!==g||e[7]!==q?(r={left:g,top:q},e[6]=g,e[7]=q,e[8]=r):r=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Tag dot"),e[9]=g):g=e[9];e[10]!==o||e[11]!==b||e[12]!==p?(q=function(){b.onPress(o,p)},e[10]=o,e[11]=b,e[12]=p,e[13]=q):q=e[13];var s;e[14]!==b.borderSize||e[15]!==b.tagBoxSize?(s=j.jsx(c("CometProductTagUnknownDotHint.react"),{borderSize:b.borderSize,dotSize:b.tagBoxSize,padding:d("CometProductTaggingConstants").DOT_HINT_PADDING}),e[14]=b.borderSize,e[15]=b.tagBoxSize,e[16]=s):s=e[16];e[17]!==q||e[18]!==s?(g=j.jsx(c("CometPressable.react"),{"aria-label":g,onPress:q,overlayDisabled:!0,children:s}),e[17]=q,e[18]=s,e[19]=g):g=e[19];e[20]!==g||e[21]!==r?(q=j.jsx("div",{className:i,style:r,children:g}),e[20]=g,e[21]=r,e[22]=q):q=e[22];return q}g["default"]=b}),226);
__d("CometPhotoTagBox_photoTagsEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagBox_photoTagsEdge",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdownLayer_photoTagEdge"}],type:"PhotoTagsEdge",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagBox_productMatchTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagBox_productMatchTag",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdownLayer_productMatchTag"}],type:"ProductTagProductBox",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagBox_productTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagBox_productTag",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdownLayer_productTag"},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_have_basic_shops_experience",storageKey:null}],type:"ProductTag",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagDropdown_photoTagsEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdown_photoTagsEdge",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Group",abstractKey:null}],storageKey:null}],type:"PhotoTagsEdge",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoTagDropdown_productMatchTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdown_productMatchTag",selections:[{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"strikethrough_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CatalogItemUnitPrice",kind:"LinkedField",name:"per_unit_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_text",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:140},{kind:"Literal",name:"width",value:140}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:140,width:140)"},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"ProductTagProductBox",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagDropdown_productTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdown_productTag",selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"strikethrough_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CatalogItemUnitPrice",kind:"LinkedField",name:"per_unit_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_text",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:140},{kind:"Literal",name:"width",value:140}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:140,width:140)"},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_on_group_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_have_basic_shops_experience",storageKey:null}],type:"ProductTag",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoTagUserDropdownRemoveButton.react",["fbt","ix","FDSIcon.react","emptyFunction","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.isDeleting,f=a.removeTag,g=a.setIsTabbed;a=a.userName;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x78zum5 xexx8yu xyri2b x18d9i69 x25sj25"},b[0]=j):j=b[0];var l;b[1]!==a?(l=h._(/*BTDS*/"Delete tag for {name}",[h._param("name",a)]),b[1]=a,b[2]=l):l=b[2];a=e?"disabled":"primary";var m;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("fbicon")._(i("478235"),8),b[3]=m):m=b[3];var n;b[4]!==g?(n=function(){g(!1)},b[4]=g,b[5]=n):n=b[5];f=e?c("emptyFunction"):f;b[6]!==e||b[7]!==l||b[8]!==a||b[9]!==n||b[10]!==f?(j=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsx(c("FDSIcon.react"),{"aria-label":l,color:a,disabled:e,focusable:!0,hideHoverOverlay:!0,icon:m,onFocusOut:n,onPress:f})})),b[6]=e,b[7]=l,b[8]=a,b[9]=n,b[10]=f,b[11]=j):j=b[11];return j}g["default"]=a}),226);
__d("CometPhotoTagUserDropdownModern.react",["fbt","CometLink.react","CometPhotoTagUserDropdownRemoveButton.react","CometPressable.react","FDSText.react","FDSToggletipCard.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function a(a){var b=d("react-compiler-runtime").c(27),e=a.canDelete,f=a.isDeleting,g=a.isDropdownFocused,i=a.onClickDropdown,l=a.removeTag,m=a.tagID,n=a.tagModeEnabled,o=a.url;a=a.userName;var p=k(!1),q=p[0],r=p[1];p=f?"disabled":"primary";var s;b[0]!==p||b[1]!==a?(s=j.jsx(c("FDSText.react"),{color:p,type:"headline4",children:a}),b[0]=p,b[1]=a,b[2]=s):s=b[2];p=s;if(!n){b[3]!==p||b[4]!==o?(s=j.jsx(c("FDSToggletipCard.react"),{content:j.jsx(c("CometLink.react"),{href:o,children:p}),isDecorative:!0,withArrow:!0}),b[3]=p,b[4]=o,b[5]=s):s=b[5];return s}b[6]!==a?(n=h._(/*BTDS*/"Tag for {user name}",[h._param("user name",a)]),b[6]=a,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){r(!0)},b[8]=o):o=b[8];b[9]!==i||b[10]!==m?(s=function(){return i(m!=null?m:"")},b[9]=i,b[10]=m,b[11]=s):s=b[11];var t;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x78zum5 x1q0g3np"},b[12]=t):t=b[12];var u;b[13]!==e||b[14]!==f||b[15]!==g||b[16]!==q||b[17]!==l||b[18]!==a?(u=e&&(g||q)?j.jsx(c("CometPhotoTagUserDropdownRemoveButton.react"),{isDeleting:f,removeTag:l,setIsTabbed:r,userName:a}):void 0,b[13]=e,b[14]=f,b[15]=g,b[16]=q,b[17]=l,b[18]=a,b[19]=u):u=b[19];b[20]!==u||b[21]!==p?(e=j.jsx(c("FDSToggletipCard.react"),{content:j.jsxs("div",babelHelpers["extends"]({},t,{children:[p,u]})),isDecorative:!0,withArrow:!0}),b[20]=u,b[21]=p,b[22]=e):e=b[22];b[23]!==n||b[24]!==s||b[25]!==e?(f=j.jsx(c("CometPressable.react"),{"aria-label":n,onFocusIn:o,onPress:s,overlayDisabled:!0,children:e}),b[23]=n,b[24]=s,b[25]=e,b[26]=f):f=b[26];return f}g["default"]=a}),226);
__d("ProductTagPhotoViewerRemoveProductTagFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("518");b=d("FalcoLoggerInternal").create("product_tag_photo_viewer_remove_product_tag",a);e=b;g["default"]=e}),98);
__d("CometPhotoTagDropdown.react",["fbt","Actor","CometMediaViewerPhotoActions","CometMediaViewerPhotoDeleteTagsAction","CometPhotoProductTagMenuItem.react","CometPhotoTagDropdown_photoTagsEdge.graphql","CometPhotoTagDropdown_productMatchTag.graphql","CometPhotoTagDropdown_productTag.graphql","CometPhotoTagUserDropdownModern.react","CometRelay","CometTrackingNodeProvider.react","FDSCrossFilled16Icon","FDSIcon.react","FDSMenu.react","FDSTooltip.react","ProductTagPhotoViewerRemoveProductTagFalcoEvent","WebSession","emptyFunction","isStringNullOrEmpty","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react")),aa=l.useState,ba=c("requireDeferred")("CometMediaRemoveTagFalcoEvent").__setRef("CometPhotoTagDropdown.react");function ca(a,b,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=a.nodeID,g=a.onError,h=a.onSubmitted,i=a.taggee;f={action_source:"photo_tag_dropdown",photo_id:f,surface:"photo_viewer",tags:[{taggee:i}]};h&&h(babelHelpers["extends"]({},i,{name:a.userName}));c("CometMediaViewerPhotoDeleteTagsAction")({environment:b,extraData:{serialized_frtp_identifiers:d,story_debug_info:e},input:f,onError:g})}function da(a,c,e,f,g){var h={product_tag_id:f};d("CometMediaViewerPhotoActions").deleteProductTag({environment:g,input:h,onError:a});b("ProductTagPhotoViewerRemoveProductTagFalcoEvent").log(function(){return{creator_id:c||"",entity_id:f,entity_type:"product_item",media_id:e||"",media_type:"photo",platform:"comet",product_id:f,referral_source:"post_viewer",tag_type:"xy_tag"}})}function a(a){var e,f,g,l,n,o,p,q,r,s,t,u,v,w,x,y=d("react-compiler-runtime").c(77),z=aa(!1),A=z[0],ea=z[1];z=d("Actor").useActor();var B=z[0],C=d("CometRelay").useRelayEnvironment();z=d("CometRelay").useFragment(i!==void 0?i:i=b("CometPhotoTagDropdown_photoTagsEdge.graphql"),a.photoTagsEdge);var D=d("CometRelay").useFragment(j!==void 0?j:j=b("CometPhotoTagDropdown_productTag.graphql"),a.productTag),E=d("CometRelay").useFragment(k!==void 0?k:k=b("CometPhotoTagDropdown_productMatchTag.graphql"),a.productMatchTag),F=a.nodeID,G=a.onClickDropdown,H=a.onMouseEnter,I=a.onMouseLeave,J=a.tagModeEnabled,K=D==null?void 0:D.product_item;e=(e=D==null?void 0:D.should_have_basic_shops_experience)!=null?e:!1;if(e)return null;var L=z==null||(f=z.node)==null?void 0:f.name;e=K==null?void 0:K.name;var M=K==null||(g=K.formatted_price)==null?void 0:g.text,N=(l=K==null||(n=K.strikethrough_price)==null?void 0:n.formatted_amount)!=null?l:"",O=(l=K==null||(o=K.per_unit_price)==null?void 0:o.formatted_text)!=null?l:"";l=K==null?void 0:K.id;var P=z==null||(p=z.node)==null?void 0:p.id,Q=z==null||(q=z.tag)==null?void 0:q.is_text_tag,R=(r=z==null||(s=z.tag)==null?void 0:s.is_product_tag)!=null?r:l!=null;r=(D==null?void 0:D.is_on_group_post)===!0;var S;y[0]!==R||y[1]!==Q||y[2]!==l||y[3]!==P||y[4]!==L?(S=Q===!0&&R===!1?{name:L}:{id:R?l:P},y[0]=R,y[1]=Q,y[2]=l,y[3]=P,y[4]=L,y[5]=S):S=y[5];var T=S,U=z==null||(t=z.source)==null||(t=t.creation_story)==null?void 0:t.serialized_frtp_identifiers,V=z==null||(u=z.source)==null||(u=u.creation_story)==null?void 0:u.debug_info;y[6]!==a.mutationOptions?(Q=function(b){var c;((c=a.mutationOptions)==null?void 0:c.onError)&&a.mutationOptions.onError(b);ea(!1)},y[6]=a.mutationOptions,y[7]=Q):Q=y[7];var W=Q;y[8]!==a.mutationOptions?(S=function(b){var c;((c=a.mutationOptions)==null?void 0:c.onSubmitted)&&a.mutationOptions.onSubmitted(b)},y[8]=a.mutationOptions,y[9]=S):S=y[9];var X=S;y[10]!==B||y[11]!==C||y[12]!==R||y[13]!==F||y[14]!==W||y[15]!==X||y[16]!==(D==null?void 0:D.id)||y[17]!==U||y[18]!==V||y[19]!==P||y[20]!==T||y[21]!==L?(Q=function(){var a=D==null?void 0:D.id;R&&!c("isStringNullOrEmpty")(a)?da(W,B,F,a,C):ca({nodeID:F,onError:W,onSubmitted:X,taggee:T,userName:L},C,U,V);var b=d("WebSession").getId();ba.onReady(function(a){a.log(function(){return{media_fbid:F,removed_tag_user_id:P,session_id:b}})});ea(!0)},y[10]=B,y[11]=C,y[12]=R,y[13]=F,y[14]=W,y[15]=X,y[16]=D==null?void 0:D.id,y[17]=U,y[18]=V,y[19]=P,y[20]=T,y[21]=L,y[22]=Q):Q=y[22];S=Q;Q=(Q=z==null||(v=z.node)==null?void 0:v.url)!=null?Q:"";var Y;y[23]!==A||y[24]!==H||y[25]!==a.isFocusOnHover?(Y=a.isFocusOnHover?function(a){return H(a,A)}:c("emptyFunction"),y[23]=A,y[24]=H,y[25]=a.isFocusOnHover,y[26]=Y):Y=y[26];Y=Y;var Z;y[27]!==A||y[28]!==I||y[29]!==a.isFocusOnHover?(Z=a.isFocusOnHover?function(a){return I(a,A)}:c("emptyFunction"),y[27]=A,y[28]=I,y[29]=a.isFocusOnHover,y[30]=Z):Z=y[30];Z=Z;if(y[31]!==A||y[32]!==r||y[33]!==F||y[34]!==O||y[35]!==l||y[36]!==(K==null?void 0:K.can_viewer_tag_product)||y[37]!==(K==null||(w=K.profile_picture)==null?void 0:w.uri)||y[38]!==(K==null?void 0:K.url)||y[39]!==e||y[40]!==M||y[41]!==(D==null?void 0:D.id)||y[42]!==a.adID||y[43]!==a.useNewProductTags||y[44]!==S||y[45]!==N||y[46]!==J){var $,fa,ga;$=e!=null&&M!=null&&l!=null?m.jsx(c("CometPhotoProductTagMenuItem.react"),{adID:a.adID,aux:(K==null?void 0:K.can_viewer_tag_product)===!0?m.jsx(c("FDSTooltip.react"),{position:"above",tooltip:h._(/*BTDS*/"Remove Product Tag"),children:m.jsx(c("FDSIcon.react"),{"aria-label":h._(/*BTDS*/"Remove product tag"),color:A?"disabled":"primary",disabled:A,icon:c("FDSCrossFilled16Icon"),onPress:A?c("emptyFunction"):S})}):null,bodyText:M,disabled:A,href:($=K==null?void 0:K.url)!=null?$:"#",isGroupPost:r,perUnitPrice:O,postID:F,primaryText:e,productID:l,productTagID:D==null?void 0:D.id,profilePictureUri:K==null||(fa=K.profile_picture)==null?void 0:fa.uri,strikeThroughPrice:N,tagModeEnabled:J,useNewProductTags:a.useNewProductTags}):null;y[31]=A;y[32]=r;y[33]=F;y[34]=O;y[35]=l;y[36]=K==null?void 0:K.can_viewer_tag_product;y[37]=K==null||(ga=K.profile_picture)==null?void 0:ga.uri;y[38]=K==null?void 0:K.url;y[39]=e;y[40]=M;y[41]=D==null?void 0:D.id;y[42]=a.adID;y[43]=a.useNewProductTags;y[44]=S;y[45]=N;y[46]=J;y[47]=$}else $=y[47];r=$;y[48]===Symbol["for"]("react.memo_cache_sentinel")?(K={className:"x78zum5 xl56j7k x67bb7w xh8yej3"},y[48]=K):K=y[48];if(y[49]!==A||y[50]!==G||y[51]!==(z==null||(x=z.tag)==null?void 0:x.can_viewer_remove_tag)||y[52]!==a.isDropdownFocused||y[53]!==Q||y[54]!==S||y[55]!==P||y[56]!==J||y[57]!==L){var ha,ia;$=L!=null?m.jsx(c("CometPhotoTagUserDropdownModern.react"),{canDelete:(z==null||(ha=z.tag)==null?void 0:ha.can_viewer_remove_tag)===!0,isDeleting:A,isDropdownFocused:a.isDropdownFocused,onClickDropdown:G,removeTag:S,tagID:P,tagModeEnabled:J,url:Q,userName:L}):null;y[49]=A;y[50]=G;y[51]=z==null||(ia=z.tag)==null?void 0:ia.can_viewer_remove_tag;y[52]=a.isDropdownFocused;y[53]=Q;y[54]=S;y[55]=P;y[56]=J;y[57]=L;y[58]=$}else $=y[58];y[59]!==A||y[60]!==F||y[61]!==O||y[62]!==l||y[63]!==E||y[64]!==e||y[65]!==M||y[66]!==r||y[67]!==a.adID||y[68]!==a.useNewProductTags||y[69]!==N||y[70]!==J?(G=e!=null&&M!=null&&l!=null?Boolean(a.useNewProductTags)?m.jsx("div",{className:"x78zum5 x7wgvq7 xbcz3fp xh3wvx0 x18xomjl x1s8elqy x1q3qbx4 xvma63k",children:r}):m.jsx("div",{className:"x78zum5 x9otpla x1w5wx5t x1wsgfga x1qfufaz",children:m.jsx(c("FDSMenu.react"),{"aria-label":h._(/*BTDS*/"Product tag"),size:"full",withArrow:!0,children:r})}):E!=null&&E.products.length>0?m.jsx(c("FDSMenu.react"),{"aria-label":h._(/*BTDS*/"Similar Products"),header:{title:h._(/*BTDS*/"Similar Products")},size:"full",truncate:!0,withArrow:!0,children:E.products.map(function(b){if(b==null||b.product_item==null||b.product_item.formatted_price==null)return null;var d=b.product_item,e=d.formatted_price,f=d.id;d=d.name;e=e.text;return f==null||d==null||e==null?null:m.jsx(c("CometPhotoProductTagMenuItem.react"),{adID:a.adID,bodyText:e,disabled:A,href:(e=b.product_item.url)!=null?e:"#",isProductMatch:!0,perUnitPrice:O,postID:F,primaryText:d,productID:f,profilePictureUri:(e=b.product_item.profile_picture)==null?void 0:e.uri,strikeThroughPrice:N,tagModeEnabled:J},f)}).filter(Boolean)}):null,y[59]=A,y[60]=F,y[61]=O,y[62]=l,y[63]=E,y[64]=e,y[65]=M,y[66]=r,y[67]=a.adID,y[68]=a.useNewProductTags,y[69]=N,y[70]=J,y[71]=G):G=y[71];y[72]!==Y||y[73]!==Z||y[74]!==$||y[75]!==G?(z=m.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:254,children:m.jsxs("div",babelHelpers["extends"]({},K,{onMouseEnter:Y,onMouseLeave:Z,children:[$,G]}))}),y[72]=Y,y[73]=Z,y[74]=$,y[75]=G,y[76]=z):z=y[76];return z}g["default"]=a}),226);
__d("CometPhotoTagDropdownLayer_photoTagEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdownLayer_photoTagEdge",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdown_photoTagsEdge"}],type:"PhotoTagsEdge",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagDropdownLayer_productMatchTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdownLayer_productMatchTag",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdown_productMatchTag"}],type:"ProductTagProductBox",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagDropdownLayer_productTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdownLayer_productTag",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdown_productTag"}],type:"ProductTag",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagDropdownLayer.react",["CometContextualLayer.react","CometPhotoTagDropdown.react","CometPhotoTagDropdownLayer_photoTagEdge.graphql","CometPhotoTagDropdownLayer_productMatchTag.graphql","CometPhotoTagDropdownLayer_productTag.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react"),m=h!==void 0?h:h=b("CometPhotoTagDropdownLayer_photoTagEdge.graphql"),n=i!==void 0?i:i=b("CometPhotoTagDropdownLayer_productMatchTag.graphql"),o=j!==void 0?j:j=b("CometPhotoTagDropdownLayer_productTag.graphql");function a(a){var b=d("react-compiler-runtime").c(23),e=a.adID,f=a.contextualLayerAnchorRef,g=a.hoverDropdown,h=a.isAddingTag,i=a.isDropdownClicked,j=a.isDropdownFocused,k=a.mutationOptions,p=a.onClickDropdown,q=a.photoID,r=a.photoTagEdgeRef,s=a.productMatchTagRef,t=a.productTagRef,u=a.setHoverDropdown,v=a.tagBoxRef,w=a.tagModeEnabled;a=a.useNewProductTags;r=d("CometRelay").useFragment(m,r);s=d("CometRelay").useFragment(n,s);t=d("CometRelay").useFragment(o,t);var x=!w;g="tagDropdown-"+(x?g.toString():i.toString());var y;b[0]!==h||b[1]!==u?(i=function(a,b){!h&&!b&&u(!0)},y=function(a,b){!h&&!b&&u(!1)},b[0]=h,b[1]=u,b[2]=i,b[3]=y):(i=b[2],y=b[3]);var z;b[4]!==e||b[5]!==j||b[6]!==x||b[7]!==k||b[8]!==p||b[9]!==q||b[10]!==r||b[11]!==s||b[12]!==t||b[13]!==i||b[14]!==y||b[15]!==w||b[16]!==a?(z=l.jsx(c("CometPhotoTagDropdown.react"),{adID:e,isDropdownFocused:j,isFocusOnHover:x,mutationOptions:k,nodeID:q,onClickDropdown:p,onMouseEnter:i,onMouseLeave:y,photoTagsEdge:r,productMatchTag:s,productTag:t,tagModeEnabled:w,useNewProductTags:a}),b[4]=e,b[5]=j,b[6]=x,b[7]=k,b[8]=p,b[9]=q,b[10]=r,b[11]=s,b[12]=t,b[13]=i,b[14]=y,b[15]=w,b[16]=a,b[17]=z):z=b[17];b[18]!==f||b[19]!==g||b[20]!==z||b[21]!==v?(e=l.jsx(c("CometContextualLayer.react"),{align:"middle",contextRef:v,imperativeRef:f,position:"below",children:z},g),b[18]=f,b[19]=g,b[20]=z,b[21]=v,b[22]=e):e=b[22];return e}g["default"]=a}),98);
__d("useAddGlobalEventListenerOnEffect",["HiddenSubtreeContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useContext,j=e.useEffect;function b(b){var e=d("react-compiler-runtime").c(4),f=i(c("HiddenSubtreeContext")).hiddenOrBackgrounded,g,h;e[0]!==b||e[1]!==f?(g=function(){if(!f){a.addEventListener("resize",b);return function(){return a.removeEventListener("resize",b)}}},h=[b,f],e[0]=b,e[1]=f,e[2]=g,e[3]=h):(g=e[2],h=e[3]);j(g,h)}g["default"]=b}),98);
__d("CometPhotoTagBox.react",["fbt","CometFeedStoryFeedLocationContext","CometPhotoTagBox_photoTagsEdge.graphql","CometPhotoTagBox_productMatchTag.graphql","CometPhotoTagBox_productTag.graphql","CometPhotoTagDropdownLayer.react","CometPressable.react","CometProductTagDotHint.react","CometProductTagFunnelIDContext","CometProductTagLoggingUtils","CometProductTaggingConstants","CometRelay","CommercePdpProductTagClickFalcoEvent","CommerceTabFeedClickFalcoEvent","CommerceTabFeedImpressionFalcoEvent","HiddenSubtreeContext","HoveredProductIDContext","XCometCommerceProductItemControllerRouteBuilder","react","react-compiler-runtime","useAddGlobalEventListenerOnEffect","useMergeRefs","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useCallback,o=e.useContext,p=e.useEffect,q=e.useRef,r=e.useState,s="product_tag_on_photo_fullscreen_",t="#",u={pressable:{borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},productTagDot:{marginBottom:"x1wsgfga",$$css:!0}};function v(a,b){var c=d("react-compiler-runtime").c(6),e=r(!1),f=e[0],g=e[1];c[0]!==b||c[1]!==a?(e=function(c){c?(g(!0),a(b)):(g(!1),a(null))},c[0]=b,c[1]=a,c[2]=e):e=c[2];e=e;var h;c[3]!==f||c[4]!==e?(h=[f,e],c[3]=f,c[4]=e,c[5]=h):h=c[5];return h}function a(a){var e,f,g=d("CometRelay").useFragment(i!==void 0?i:i=b("CometPhotoTagBox_photoTagsEdge.graphql"),a.photoTagsEdge),l=d("CometRelay").useFragment(j!==void 0?j:j=b("CometPhotoTagBox_productTag.graphql"),a.productTag),w=d("CometRelay").useFragment(k!==void 0?k:k=b("CometPhotoTagBox_productMatchTag.graphql"),a.productMatchTag),x=o(c("CometFeedStoryFeedLocationContext")),y=d("CometProductTagLoggingUtils").getSurface(x,"photo_fullscreen"),z=y.analyticsPage,A=y.isTabFeed,B=y.surface,C=o(c("CometProductTagFunnelIDContext"));y=r(!1);var D=y[0];y=y[1];var E=r(!1),F=E[0];E=E[1];var G=r(!1),H=G[0],I=G[1];G=r();G[0];var J=G[1];G=o(c("HiddenSubtreeContext")).hiddenOrBackgrounded_FIXME;var K=q(null),L=q(null),M=q(!1),N=function(){if(M.current)return;U!=null&&z!=null&&(A&&c("CommerceTabFeedImpressionFalcoEvent").log(function(){var a;return{analytics_component:"product_tag",analytics_destination_page:"product_details",analytics_feed_type:z==="home_feed"?"newsfeed":"unknown",analytics_module:"tagged_post",analytics_page:z,content_id:Q,legacy_referral_code:T,legacy_surface:(a=B!=null?B:x)!=null?a:"",legacy_ui_component:"CometPhotoTagBox",product_id:U,referral_surface:"unknown",shopping_session_id:""}}));M.current=!0};N=c("useVisibilityObserver")({onVisible:N});N=c("useMergeRefs")(K,N);var O=n(function(){L.current!=null&&L.current.reposition({autoflip:!0})},[]);c("useAddGlobalEventListenerOnEffect")(O);p(function(){return J(!0)},[]);O=a.borderSize;var P=a.horizontalPercentage,aa=a.isAddingTag,Q=a.nodeID,ba=a.onPressHandler,ca=a.showProductDots,da=a.showProductDropdownTags,R=a.tagBoxSize,S=a.tagModeEnabled,ea=a.verticalPercentage;O=l==null?R+2*O:d("CometProductTaggingConstants").TOTAL_DOT_SIZE;var T=C!=null?s+Q+t+C:s+Q,U=l==null||(e=l.product_item)==null?void 0:e.id,V,W,X;U!=null&&(V=c("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:U,ref:"photo_fullscreen",referral_code:T}),W=function(){c("CommercePdpProductTagClickFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometPhotoTagBox",funnel_id:C,marketplace_surface:"photo_fullscreen",post_id:Q,product_id:U,referral_code:T}}),z!=null&&(A&&c("CommerceTabFeedClickFalcoEvent").log(function(){var a;return{analytics_component:"product_tag",analytics_destination_page:"product_details",analytics_feed_type:z==="home_feed"?"newsfeed":"unknown",analytics_module:"tagged_post",analytics_page:z,content_id:Q,legacy_referral_code:T,legacy_surface:(a=B!=null?B:x)!=null?a:"",legacy_ui_component:"CometPhotoTagBox",product_id:U,referral_surface:"unknown",shopping_session_id:""}}))},X={linkProps:{passthroughProps:{referralUIComponent:"PRODUCT_TAG"},url:S?"#":V},onPress:W});V=o(c("HoveredProductIDContext"));W=U!=null&&V.hoveredProductID===U;var Y=l==null?void 0:l.product_item;V=v(V.setHoveredProductID,U);var Z=V[0],$=V[1];V=Z||F||W;Z=V||D||S&&!Y||Boolean(da)&&Boolean(a.useNewProductTags);D=(W=l==null?void 0:l.should_have_basic_shops_experience)!=null?W:!1;return D===!0?null:m.jsxs(m.Fragment,{children:[m.jsx("div",{className:{0:"x71s49j x10l6tqk",1:"x71s49j x10l6tqk xg01cxk"}[!!(l==null&&w==null)<<0],ref:N,style:{left:"calc("+P+"% - "+O+"px / 2)",top:"calc("+ea+"% - "+O+"px / 2)"},children:K.current&&(l!=null||w!=null)?m.jsx(c("CometPressable.react"),babelHelpers["extends"]({"aria-label":h._(/*BTDS*/"Tag dot"),onHoverChange:y,overlayDisabled:!0,xstyle:u.productTagDot},X,{children:m.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"x1q3qbx4 xbv2x0a"}}[!!(Boolean(a.useNewProductTags)&&Boolean(ca))<<0],{onMouseEnter:function(){$(!0)},onMouseLeave:function(){$(!1)},children:m.jsx(c("CometProductTagDotHint.react"),{borderSize:d("CometProductTaggingConstants").DOT_HINT_BORDER_SIZE,dotSize:d("CometProductTaggingConstants").DOT_HINT_DOT_SIZE,isHighlighted:V,padding:d("CometProductTaggingConstants").DOT_HINT_PADDING,showShopIconInDot:Boolean(a.useNewProductTags)})}))})):m.jsx(c("CometPressable.react"),{"aria-label":h._(/*BTDS*/"Tag box for {user name}",[h._param("user name",g==null||(f=g.node)==null?void 0:f.name)]),display:"inline",onHoverChange:y,onPress:ba,overlayDisabled:!0,xstyle:u.pressable,children:m.jsx("div",{className:"x1pdss0j x1593r2a x81c4ja xewde0t x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xmn4e3e x1if355w x2x41l1 xct1zlm",style:{height:R,width:R}})})}),!G&&Boolean(Z)&&K.current&&m.jsx(c("CometPhotoTagDropdownLayer.react"),{adID:a.adID,contextualLayerAnchorRef:L,hoverDropdown:F,isAddingTag:aa,isDropdownClicked:H,isDropdownFocused:(Y=a.isDropdownFocused)!=null?Y:!1,mutationOptions:a.deletionMutationOptions,onClickDropdown:function(b){I(function(a){return!a}),a.onClickDropdown&&a.onClickDropdown(b)},photoID:Q,photoTagEdgeRef:g,productMatchTagRef:w,productTagRef:l,setHoverDropdown:E,tagBoxRef:K,tagModeEnabled:S,useNewProductTags:a.useNewProductTags})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometPhotoTagLayerQuery.graphql",["CometPhotoTagLayerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"nodeID"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d=[{kind:"Variable",name:"id",variableName:"nodeID"}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={kind:"Variable",name:"scale",variableName:"scale"},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},j=[i],k={alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},m=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],n=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],o={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},p={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"strikethrough_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},q={alias:null,args:null,concreteType:"CatalogItemUnitPrice",kind:"LinkedField",name:"per_unit_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_text",storageKey:null}],storageKey:null},r={alias:null,args:[{kind:"Literal",name:"height",value:140},{kind:"Literal",name:"width",value:140}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:"profile_picture(height:140,width:140)"};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometPhotoTagLayerQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagWrapper_photo"}]}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometPhotoTagLayerQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{"if":null,kind:"Defer",label:"CometPhotoTagLayerQuery$defer$photo-tag-wrapper",selections:[{alias:null,args:[f],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,g,h,{kind:"InlineFragment",selections:j,type:"User",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[k,l,g],storageKey:null}],type:"Photo",abstractKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:m,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[k,l,g,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[e,g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductCatalog",kind:"LinkedField",name:"product_catalog",plural:!1,selections:[g],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_shared_catalog_segments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_affiliate_onboarded_creator",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[e,h,g,{alias:null,args:[{kind:"Literal",name:"height",value:40},f,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:[e,g],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},g,h,o,p,q,r,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_on_group_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_have_basic_shops_experience",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMatchData",kind:"LinkedField",name:"product_matches",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"product_box",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductTagSuggestedProduct",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[g,h,o,p,q,r,i],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_y",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_tags",plural:!0,selections:[h,g],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},g],storageKey:null}]}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"},g],storageKey:null}]},params:{id:b("CometPhotoTagLayerQuery_facebookRelayOperation"),metadata:{},name:"CometPhotoTagLayerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometPhotoTagWrapper_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a],c={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"listing",plural:!1,selections:b,storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],e={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:d,storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagWrapper_photo",selections:[{args:null,kind:"FragmentSpread",name:"useCometPhotoTaggerRenderScale_photo"},{args:null,kind:"FragmentSpread",name:"CometPhotoAddTag_photo"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CommerceMerchantSettings",kind:"LinkedField",name:"preferred_merchant_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductCatalog",kind:"LinkedField",name:"product_catalog",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{kind:"InlineDataFragmentSpread",name:"CometAIProductTagSuggestionsUtil_photo",selections:[a,{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[a,c,e],storageKey:null}],args:null,argumentDefinitions:[]},{args:null,kind:"FragmentSpread",name:"CometPhotoAddProductTag_photo"},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagBox_productTag"},e,c],storageKey:null},{alias:null,args:null,concreteType:"ProductMatchData",kind:"LinkedField",name:"product_matches",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductTagProductBox",kind:"LinkedField",name:"product_box",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagBox_productMatchTag"},{alias:null,args:null,kind:"ScalarField",name:"center_x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"center_y",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_tags",plural:!0,selections:[f],storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagBox_photoTagsEdge"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,f],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("ProductTagPhotoViewerOpenTypeaheadClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744227");b=d("FalcoLoggerInternal").create("product_tag_photo_viewer_open_typeahead_click",a);e=b;g["default"]=e}),98);
__d("adjustFaceboxPosition",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.boxSize,c=a.imageDimension;a=a.originalPos;return a<0?0:a+b>c?c-b:a}f["default"]=a}),66);
__d("useCometPhotoTaggerRenderScale_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometPhotoTaggerRenderScale_photo",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("useCometPhotoTaggerRenderScale",["CometPhotoTaggingConstants","CometRelay","react","react-compiler-runtime","useCometPhotoTaggerRenderScale_photo.graphql","useRefEffect"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useState;function a(a){var e=d("react-compiler-runtime").c(7);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometPhotoTaggerRenderScale_photo.graphql"),a);a=a.image;var f=a==null?void 0:a.height,g=a==null?void 0:a.width;a=j(d("CometPhotoTaggingConstants").INITIAL_PHOTO_RENDER_SCALE);var i=a[0],k=a[1],l;e[0]!==f||e[1]!==g?(a=function(a){if(a==null)return;var b=function(){if(f!=null&&g!=null){var b=a.getBoundingClientRect(),c=Math.min(g,b.width)/g;b=Math.min(f,b.height)/f;k(Math.min(b,c))}};window.addEventListener("resize",b);!(a instanceof HTMLImageElement)||a.complete?b():a.addEventListener("load",b);return function(){window.removeEventListener("resize",b),a.removeEventListener("load",b)}},l=[f,g],e[0]=f,e[1]=g,e[2]=a,e[3]=l):(a=e[2],l=e[3]);a=c("useRefEffect")(a,l);e[4]!==a||e[5]!==i?(l=[i,a],e[4]=a,e[5]=i,e[6]=l):l=e[6];return l}g["default"]=a}),98);
__d("CometPhotoTagWrapper.react",["fbt","Actor","CometAIProductTagBox.react","CometAIProductTagSuggestionsUtil.react","CometContextualLayerAnchorRoot.react","CometPhotoAddTag.react","CometPhotoEditorUnknownTagBox.react","CometPhotoTagBox.react","CometPhotoTagWrapper_photo.graphql","CometPhotoTaggingConstants","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPressable.react","CometProductTaggingConstants","CometRelay","FBLogger","JSResourceForInteraction","ProductTagPhotoViewerOpenTypeaheadClickFalcoEvent","WebSession","adjustFaceboxPosition","emptyFunction","lazyLoadComponent","react","useCometPhotoTaggerRenderScale","useMergeRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j,m=l.useCallback,n=l.useContext,o=l.useEffect,p=l.useRef,q=l.useState,r=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometPhotoAddProductTag.react").__setRef("CometPhotoTagWrapper.react")),s={tagContainer:{backgroundColor:"xjbqb8w",borderTopWidth:null,borderInlineEndWidth:null,borderBottomWidth:null,borderInlineStartWidth:null,display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",":focus_outline":"x1uvtmcs",$$css:!0}};function t(a){var b=a.adID,e=a.deletionMutationOptions,f=a.index,g=a.isAddingTag,h=a.isDropdownFocused,i=a.nodeID,j=a.onClickDropdown,l=a.onPressHandler,m=a.productMatchTag,n=a.productTag,o=a.scaleX,p=a.scaleY,q=a.tagBoxSize,r=a.tagEdge;a=a.tagModeEnabled;if(o==null||p==null)return null;o=o*100;p=p*100;return k.jsx(c("CometPhotoTagBox.react"),{adID:b,borderSize:d("CometPhotoTaggingConstants").BOX_BORDER_SIZE,deletionMutationOptions:e,horizontalPercentage:o,isAddingTag:g,isDropdownFocused:h!=null?h:!1,nodeID:i,onClickDropdown:j,onPressHandler:l,photoTagsEdge:r,productMatchTag:m,productTag:n,tagBoxSize:q,tagModeEnabled:a,useNewProductTags:!0,verticalPercentage:p},f)}t.displayName=t.name+" [from "+f.id+"]";function e(e){var f,g,j,l=n(c("CometPhotoViewerViewStateDispatcherContext")),u=n(c("CometPhotoViewerViewStateContext")),v=d("CometRelay").useFragment(i!==void 0?i:i=b("CometPhotoTagWrapper_photo.graphql"),e.photo),w=v.can_viewer_add_tags===!0,x=(v==null||(f=v.owner)==null||(f=f.preferred_merchant_settings)==null||(f=f.product_catalog)==null?void 0:f.id)||"",y=q(null),z=y[0],A=y[1];y=q(null);var B=y[0],C=y[1],D=m(function(a){B===a?C(null):C(a)},[B]);y=c("useCometPhotoTaggerRenderScale")(v);var E=y[0];y=y[1];var F=p(null);y=c("useMergeRefs")(F,y);var G=e.isTaggingProducts,H=(g=v.container_story)==null?void 0:g.post_id;o(function(){e.tagModeEnabled&&w&&A(null)},[w,e.tagModeEnabled]);o(function(){if(z!=null){var a=function(){return A(null)};window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}}},[z]);o(function(){var b=function(a){A(function(b){return b!=null&&a.target.getAttribute("data-name")==="media-viewer-nav-container"?null:b})};a.addEventListener("click",b);return function(){a.removeEventListener("click",b)}},[]);g=e.tagBoxSize;var I=e.tagModeEnabled,J=g*E;g=v==null||(j=v.tags)==null?void 0:j.edges;E=v==null?void 0:v.photo_product_tags;var K=v==null?void 0:v.product_matches,L=v==null?void 0:v.id,M=d("Actor").useActor(),N=M[0],O=((v==null?void 0:v.product_tags)||[]).map(function(a){return a.name}).filter(Boolean),P=e.currentSessionTags,Q=e.onDeleteTagError,R=e.onDeleteTagSubmitted,S=e.onNewTagError,T=e.onNewTagSubmitted,U=m(function(a){A(null),T(a)},[T]),V=m(function(a){if(F.current!=null){var e=F.current.getBoundingClientRect(),f=e.height,g=e.left,h=e.top;e=e.width;var i=G?d("CometProductTaggingConstants").TOTAL_DOT_SIZE:J+2*d("CometPhotoTaggingConstants").BOX_BORDER_SIZE;g=a.clientX-g-i/2;a=a.clientY-h-i/2;h=c("adjustFaceboxPosition")({boxSize:i,imageDimension:e,originalPos:g});g=c("adjustFaceboxPosition")({boxSize:i,imageDimension:f,originalPos:a});if(L==null)throw c("FBLogger")("facebook_desktop_web_media_viewer").mustfixThrow("CometPhotoAddTag: Cannot find id of photo");G?(b("ProductTagPhotoViewerOpenTypeaheadClickFalcoEvent").log(function(){return{container_post_id:H,creation_session_id:d("WebSession").getId(),creator_id:N,media_id:L,media_type:"photo",platform:"comet",referral_source:"post_viewer"}}),(v==null?void 0:v.owner)!=null&&A(k.jsx(r,{catalogID:x,containerPostID:H,existingTags:O,imageHeight:f,imageWidth:e,nodeID:L,onPress:V,onSubmitted:U,photo:v,xPos:h,yPos:g},"newTag:horizontal"+h+"vertical"+g))):A(k.jsx(c("CometPhotoAddTag.react"),{borderSize:d("CometPhotoTaggingConstants").BOX_BORDER_SIZE,currentSessionTags:P,imageHeight:f,imageWidth:e,onError:S,onPress:I?V:c("emptyFunction"),onSubmitted:U,photo:v,tagBoxSize:J,xPos:h,yPos:g},"newTag:horizontal"+h+"vertical"+g))}},[G,J,L,v,H,N,x,O,U,P,S,I]),W=!I&&!G||!w?c("emptyFunction"):V;if(g==null||L==null||E==null||K==null)return null;var X=E.map(function(a){var b;return a==null||(b=a.listing)==null?void 0:b.id}),Y=(M=v.creation_story)==null||(M=M.sponsored_data)==null?void 0:M.ad_id;M=g.filter(function(a){var b;return!X.includes(a==null||(b=a.node)==null?void 0:b.id)}).map(function(a,b){var c,d,e,f,g;return t({adID:Y,deletionMutationOptions:{onError:Q,onSubmitted:R},index:parseInt((c=a==null||(d=a.node)==null?void 0:d.id)!=null?c:b,10),isAddingTag:z!=null,isDropdownFocused:B===(a==null||(e=a.node)==null?void 0:e.id),isTaggingProducts:G,nodeID:L,onClickDropdown:D,onPressHandler:W,scaleX:a==null||(f=a.tag)==null||(f=f.location)==null?void 0:f.x,scaleY:a==null||(g=a.tag)==null||(g=g.location)==null?void 0:g.y,tagBoxSize:J,tagEdge:a,tagModeEnabled:I})}).filter(Boolean);g=(E!=null?E:[]).map(function(a,b){var c,d,e,f;return(a==null?void 0:a.xy_location)!=null&&t({adID:Y,index:parseInt((c=a==null||(d=a.listing)==null?void 0:d.id)!=null?c:b,10),isAddingTag:z!=null,isTaggingProducts:G,nodeID:L,onPressHandler:W,productTag:a,scaleX:((c=a==null||(e=a.xy_location)==null?void 0:e.x)!=null?c:0)/100,scaleY:((b=a==null||(f=a.xy_location)==null?void 0:f.y)!=null?b:0)/100,tagBoxSize:J,tagModeEnabled:I})}).filter(Boolean);E=g.length===0&&M.length===0?(K!=null?K:[]).map(function(a,b){var c,d;return(a==null?void 0:a.product_box)!=null&&G===!1&&t({adID:Y,index:b,isAddingTag:!1,isTaggingProducts:G,nodeID:L,onPressHandler:W,productMatchTag:a==null?void 0:a.product_box,scaleX:((b=a==null||(c=a.product_box)==null?void 0:c.center_x)!=null?b:0)/100,scaleY:((b=a==null||(d=a.product_box)==null?void 0:d.center_y)!=null?b:0)/100,tagBoxSize:J,tagModeEnabled:I})}).filter(Boolean):[];K=d("CometAIProductTagSuggestionsUtil.react").getUntaggedUnknownTags(v,u.unknownAITags);K=K.map(function(a,b){return k.jsx(c("CometPhotoEditorUnknownTagBox.react"),{borderSize:d("CometProductTaggingConstants").DOT_HINT_BORDER_SIZE,horizontalPercentage:a.x,isAddingTag:z!=null,logImpression:function(){},onPress:function(b,c){if(F.current!=null){var e=F.current.getBoundingClientRect();if((v==null?void 0:v.owner)!=null){var f=e.width;e=e.height;b=b*f/100-d("CometProductTaggingConstants").TOTAL_DOT_SIZE/2;c=c*e/100-d("CometProductTaggingConstants").TOTAL_DOT_SIZE/2;A(k.jsx(r,{catalogID:x,containerPostID:H,existingTags:O,imageHeight:e,imageWidth:f,nodeID:L,onPress:function(){},onSubmitted:U,photo:v,productTagType:"AI_LOW_CONFIDENCE",unknownAISuggestion:a,xPos:b,yPos:c},"x"+b+"y"+c))}}},tagBoxSize:d("CometProductTaggingConstants").DOT_HINT_DOT_SIZE,tagModeEnabled:I,verticalPercentage:a.y},b)});var Z=d("CometAIProductTagSuggestionsUtil.react").getUntaggedKnownTags(v,u.knownAITags);Z=Z.map(function(a,b){return k.jsx(c("CometAIProductTagBox.react"),{isAddingTag:z!=null,isHighlighted:u.highlightedKnownAITagID===a.productID,knownTag:a,onDeletePressed:function(){var b;l({photoID:L,productID:(b=a.productID)!=null?b:"",type:"REMOVE_KNOWN_AI_TAG"})},onHover:function(b){a.productID!=null&&l({hovering:b,id:a.productID,type:"SET_HOVER_FOR_KNOWN_TAG"})},photoID:L},b)});y=k.jsxs(c("CometPressable.react"),{disabled:!I,display:"inline",label:I?h._(/*BTDS*/"Tag Photo"):void 0,onPress:W,overlayDisabled:!0,ref:y,role:I?"button":"none",testid:void 0,xstyle:s.tagContainer,children:[M,g,E,I&&k.jsxs(k.Fragment,{children:[K,Z]})]});return k.jsxs(k.Fragment,{children:[k.jsx(c("CometContextualLayerAnchorRoot.react"),{children:y}),I?z:null]})}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),226);
__d("CometPhotoTagLayer.react",["CometPhotoTagLayerQuery.graphql","CometPhotoTagWrapper.react","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["photoTagLayerQueryReference"],i,j,k=j||d("react"),l=i!==void 0?i:i=b("CometPhotoTagLayerQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(f=a.photoTagLayerQueryReference,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=d("CometRelay").usePreloadedQuery(l,f);f=a==null?void 0:a.node;if(f==null)return null;b[3]!==e||b[4]!==f?(a=k.jsx(c("CometPhotoTagWrapper.react"),babelHelpers["extends"]({photo:f},e)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("ComposerEmojiTrigger.react",["cr:2028537"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:2028537")}),98);
__d("ComposerEmojiPopoverButton.react",["fbt","CometContextualLayerAnchorRoot.react","CometPressable.react","CometPressableChildrenWithOverlay_DEPRECATED.react","ComposerEmojiTrigger.react","FDSTooltip.react","react","react-compiler-runtime","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l={pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.disabled;a=a.shouldUseSmallEmojiIcon;var g=f===void 0?!1:f,i=a===void 0?!1:a;f=k(!1);var m=f[0],n=f[1];a=k(!1);var o=a[0],p=a[1];b[0]!==e||b[1]!==m||b[2]!==g||b[3]!==o||b[4]!==i?(f=j.jsx(c("ComposerEmojiTrigger.react"),{setClicked:n,setHovered:p,children:function(a,b,d,f,k,q){d=function(a){f&&f(a),p(!0)};q=function(){k&&k(),p(!1)};var r=function(){n(!0),b()};return j.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ks1olk"},1:{className:"x1hc1fzr"}}[!!(i||m||o)<<0],{children:j.jsx("div",{children:j.jsx(c("FDSTooltip.react"),{position:"above",tooltip:"Emoji",children:j.jsx(c("CometPressable.react"),{"aria-label":h._(/*BTDS*/"Emoji"),disabled:g,label:h._(/*BTDS*/"Emoji"),onHoverIn:d,onHoverOut:q,onPress:g===!0?void 0:r,overlayDisabled:!i,ref:a,testid:void 0,xstyle:function(a){a=a.pressed;return[l.pressable,a&&g!==!0&&l.pressed]},children:function(b){b=b.overlay;return j.jsx("div",{children:j.jsx(c("CometContextualLayerAnchorRoot.react"),{children:j.jsx("div",{children:j.jsx("div",{className:"xc9qbxq x1n2onr6 x14qfxbe x1c9tyrk xeusxvb x1pahc9y x1ertn4p",children:j.jsx(c("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:b,children:j.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6 x5yr21d xh8yej3",children:e(a,g)})})})})})})}})})})}))}}),b[0]=e,b[1]=m,b[2]=g,b[3]=o,b[4]=i,b[5]=f):f=b[5];return f}b=c("withComposerViewStatePart")(a,function(a){return{formattedTextPreset:(a=a.formattedText)==null?void 0:a.currentFormattedTextPreset}});g["default"]=b}),226);
__d("CompositeDraftDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=".";a=function(){function a(a){this.$1=a.slice()}var b=a.prototype;b.isCompositionOfDecorators=function(a){if(this.$1.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(this.$1[b]!==a[b])return!1;return!0};b.getDecorators=function(){return this.$1};b.getDecorations=function(a,b){var c=Array(a.getText().length).fill(null);this.$1.forEach(function(d,e){var f=0;d=d.strategy;function g(a,b){i(c,a,b)&&(j(c,a,b,e+h+f),f++)}d(a,g,b)});return g(c)};b.getComponentForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].component};b.getPropsForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].props};return a}();function i(a,b,c){for(b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function j(a,b,c,d){for(b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("getCorrectDocumentFromNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?document:a.ownerDocument}e.exports=a}),null);
__d("isElement",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:a.nodeType===Node.ELEMENT_NODE}e.exports=a}),null);
__d("getSelectionOffsetKeyForNode",["isElement"],(function(a,b,c,d,e,f){"use strict";function g(a){if(b("isElement")(a)){a=a;var c=a.getAttribute("data-offset-key");if(c)return c;for(c=0;c<a.childNodes.length;c++){var d=g(a.childNodes[c]);if(d)return d}}return null}e.exports=g}),null);
__d("findAncestorOffsetKey",["getCorrectDocumentFromNode","getSelectionOffsetKeyForNode"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a;while(c&&c!==b("getCorrectDocumentFromNode")(a).documentElement){var d=b("getSelectionOffsetKeyForNode")(c);if(d!=null)return d;c=c.parentNode}return null}e.exports=a}),null);
__d("getWindowForNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument||!a.ownerDocument.defaultView?window:a.ownerDocument.defaultView}e.exports=a}),null);
__d("DOMObserver",["invariant","UserAgent","findAncestorOffsetKey","getWindowForNode","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Map,i={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},j=b("UserAgent").isBrowser("IE <= 11");a=function(){function a(a){var c=this;this.container=a;this.mutations=h();a=b("getWindowForNode")(a);a=a.MutationObserver;a&&!j?this.observer=new a(function(a){return c.registerMutations(a)}):this.onCharData=function(a){a.target instanceof Node||g(0,16525),c.registerMutation({type:"characterData",target:a.target})}}var c=a.prototype;c.start=function(){this.observer?this.observer.observe(this.container,i):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)};c.stopAndFlushMutations=function(){var a=this.observer;a?(this.registerMutations(a.takeRecords()),a.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);a=this.mutations;this.mutations=h();return a};c.registerMutations=function(a){for(var b=0;b<a.length;b++)this.registerMutation(a[b])};c.getMutationTextContent=function(a){var b=a.type,c=a.target;a=a.removedNodes;if(b==="characterData"){if(c.textContent!=="")return j?c.textContent.replace("\n",""):c.textContent}else if(b==="childList")if(a&&a.length)return"";else if(c.textContent!=="")return c.textContent;return null};c.registerMutation=function(a){var c=this.getMutationTextContent(a);if(c!=null){a=b("nullthrows")(b("findAncestorOffsetKey")(a.target));this.mutations=this.mutations.set(a,c)}};return a}();e.exports=a}),null);
__d("DataTransfer",["PhotosMimeType","Promise","createArrayFromMixed","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){var g,h=new RegExp("\r\n","g"),i="\n",j={"text/rtf":1,"text/html":1};function k(a){if(a.kind=="file")return a.getAsFile()}function l(a){return new(g||(g=b("Promise")))(function(b){a.file(function(a){b([a])})})}function m(a){return typeof a.webkitGetAsEntry==="function"?a.webkitGetAsEntry():null}function n(a,c){return new(g||(g=b("Promise")))(function(d){b("promiseDone")((g||(g=b("Promise"))).all(a.map(function(a){var b=m(a);if(b&&b.createReader!=null){c();return o(b)}else{return(b=k(a))!=null?b:[]}})),function(a){d(a.flatMap(b("emptyFunction").thatReturnsArgument))})})}function o(a){return new(g||(g=b("Promise")))(function(c){var d=a.createReader(),e=[],f=function(){b("promiseDone")((g||(g=b("Promise"))).all(e.map(function(a){if(a.isDirectory)return o(a);else return l(a)})),function(a){c(a.flatMap(b("emptyFunction").thatReturnsArgument))})},h=function(){d.readEntries(function(a){a.length?(e=e.concat(a),h()):f()},f)};h()})}a=function(){"use strict";function a(a){this.data=a,this.types=a.types?b("createArrayFromMixed")(a.types):[]}var c=a.prototype;c.isRichText=function(){if(this.getHTML()&&this.getText())return!0;return this.isImage()?!1:this.types.some(function(a){return j[a]})};c.getText=function(){var a;!this.types.length?a=this.data.getData("Text"):this.types.indexOf("text/plain")!=-1&&(a=this.data.getData("text/plain"));return a?a.replace(h,i):null};c.getHTML=function(){if(this.data.getData)if(!this.types.length)return this.data.getData("Text");else if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")};c.isLink=function(){return this.types.some(function(a){return a.indexOf("Url")!=-1||a.indexOf("text/uri-list")!=-1||a.indexOf("text/x-moz-url")!=-1})};c.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var a=this.data.getData("text/x-moz-url").split("\n");return a[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null};c.isImage=function(){var a=this.types.some(function(a){return a.indexOf("application/x-moz-file")!=-1});if(a)return!0;a=this.getFiles();for(var c=0;c<a.length;c++){var d=a[c].type;if(!b("PhotosMimeType").isImage(d))return!1}return!0};c.getCount=function(){if(Object.prototype.hasOwnProperty.call(this.data,"items"))return this.data.items.length;else if(Object.prototype.hasOwnProperty.call(this.data,"mozItemCount"))return this.data.mozItemCount;else if(this.data.files)return this.data.files.length;return null};c.getFiles=function(){if(this.data.items)return Array.prototype.slice.call(this.data.items).map(k).filter(b("emptyFunction").thatReturnsArgument);else if(this.data.files)return Array.prototype.slice.call(this.data.files);else return[]};c.getRecursiveFiles=function(a){if(this.data.items)return n(Array.prototype.slice.call(this.data.items),a);else if(this.data.files)return new(g||(g=b("Promise")))(Array.prototype.slice.call(this.data.files))};c.hasFiles=function(){return this.getFiles().length>0};return a}();e.exports=a}),null);
__d("DefaultDraftBlockRenderMap",["cx","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("immutable").Map;c=h||(h=b("react"));d=c.jsx("ul",{className:"_1bv0"});f=c.jsx("ol",{className:"_1bv1"});g=c.jsx("pre",{className:"_1bv2"});b=a({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:d},"ordered-list-item":{element:"li",wrapper:f},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:g},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=b}),null);
__d("DefaultDraftInlineStyle",[],(function(a,b,c,d,e,f){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},SUBSCRIPT:{fontSize:"0.6em",verticalAlign:"bottom"},SUPERSCRIPT:{fontSize:"0.6em",verticalAlign:"top"},UNDERLINE:{textDecoration:"underline"}}}),null);
__d("DraftOffsetKey",[],(function(a,b,c,d,e,f){"use strict";var g="-";a={encode:function(a,b,c){return a+g+b+g+c},decode:function(a){a=a.split(g).reverse();var b=a[0],c=a[1];a=a.slice(2);return{blockKey:a.reverse().join(g),decoratorKey:parseInt(c,10),leafKey:parseInt(b,10)}}};e.exports=a}),null);
__d("DraftJsEventsTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAnonymizedDom=function(a){this.$1.anonymized_dom=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExtraParams=function(a){this.$1.extra_params=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSelectionState=function(a){this.$1.selection_state=a;return this};return a}();c={anonymized_dom:!0,event:!0,extra_params:!0,script_path:!0,selection_state:!0};f["default"]=a}),66);
__d("DraftJsDebugLogging",["CurrentUser","DraftJsEventsTypedLogger","ScriptPath"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b=a.anonymizedDom,e=a.extraParams;a=a.selectionState;new(c("DraftJsEventsTypedLogger"))().setEvent("blocked_selection_event").setAnonymizedDom(b).setExtraParams(e).setScriptPath(d("ScriptPath").getScriptPath()).setSelectionState(a).log()};b=function(a){var b=a.anonymizedDom,e=a.extraParams;a=a.selectionState;c("CurrentUser").isEmployee()&&new(c("DraftJsEventsTypedLogger"))().setEvent("selection_state_failure").setAnonymizedDom(b).setExtraParams(e).setScriptPath(d("ScriptPath").getScriptPath()).setSelectionState(a).log()};g.logBlockedSelectionEvent=a;g.logSelectionStateFailure=b}),98);
__d("isHTMLElement",[],(function(a,b,c,d,e,f){function a(a){if(!a||!a.ownerDocument)return!1;if(!a.ownerDocument.defaultView)return a instanceof HTMLElement;return a instanceof a.ownerDocument.defaultView.HTMLElement?!0:!1}e.exports=a}),null);
__d("getContentEditableContainer",["invariant","isHTMLElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.editorContainer;a||g(0,4998);b("isHTMLElement")(a.firstChild)||g(0,4999);a=a.firstChild;return a}e.exports=a}),null);
__d("getUpdatedSelectionState",["DraftOffsetKey","nullthrows"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=b("nullthrows")(a.getSelection());if(!c||!e)return g;c=b("DraftOffsetKey").decode(c);var h=c.blockKey,i=a.getBlockTree(h);i=i&&i.getIn([c.decoratorKey,"leaves",c.leafKey]);c=b("DraftOffsetKey").decode(e);var j=c.blockKey;e=a.getBlockTree(j);e=e&&e.getIn([c.decoratorKey,"leaves",c.leafKey]);if(!i||!e)return g;c=i.get("start");var k=e.get("start"),l=i?c+d:null,m=e?k+f:null,n=g.getAnchorKey()===h&&g.getAnchorOffset()===l&&g.getFocusKey()===j&&g.getFocusOffset()===m;if(n)return g;if(h===j){n=i.get("end");i=e.get("end");k===c&&i===n?e=f<d:e=k<c}else{i=a.getCurrentContent().getBlockMap().keySeq().skipUntil(function(a){return a===h||a===j}).first();e=i===j}return g.merge({anchorKey:h,anchorOffset:l,focusKey:j,focusOffset:m,isBackward:e})}e.exports=a}),null);
__d("getDraftEditorSelectionWithNodes",["invariant","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","isElement","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d,e,f,g){var h=d.nodeType===Node.TEXT_NODE,i=f.nodeType===Node.TEXT_NODE;if(h&&i)return{selectionState:b("getUpdatedSelectionState")(a,b("nullthrows")(b("findAncestorOffsetKey")(d)),e,b("nullthrows")(b("findAncestorOffsetKey")(f)),g),needsRecovery:!1};var k=null,l=null,m=!0;h?(k={key:b("nullthrows")(b("findAncestorOffsetKey")(d)),offset:e},l=j(c,f,g)):i?(l={key:b("nullthrows")(b("findAncestorOffsetKey")(f)),offset:g},k=j(c,d,e)):(k=j(c,d,e),l=j(c,f,g),d===f&&e===g&&(m=!!d.firstChild&&d.firstChild.nodeName!=="BR"));return{selectionState:b("getUpdatedSelectionState")(a,k.key,k.offset,l.key,l.offset),needsRecovery:m}}function h(a){while(a.firstChild&&(b("isElement")(a.firstChild)&&a.firstChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.firstChild)))a=a.firstChild;return a}function i(a){while(a.lastChild&&(b("isElement")(a.lastChild)&&a.lastChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.lastChild)))a=a.lastChild;return a}function j(a,c,d){c=c;var e=b("findAncestorOffsetKey")(c);e!=null||a&&(a===c||a.firstChild===c)||g(0,6007);if(a===c){c=c.firstChild;b("isElement")(c)||g(0,26030,[(a=c)==null?void 0:a.nodeType]);a=c;c=a;c.getAttribute("data-contents")==="true"||g(0,6008);d>0&&(d=c.childNodes.length)}if(d===0){if(e!=null)a=e;else{var f=h(c);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(f))}return{key:a,offset:0}}f=c.childNodes[d-1];a=null;if(!b("getSelectionOffsetKeyForNode")(f))a=b("nullthrows")(e),c=k(f);else{d=i(f);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(d));c=k(d)}return{key:a,offset:c}}function k(a){a=a.textContent;return a==="\n"?0:a.length}e.exports=a}),null);
__d("getDraftEditorSelection",["getDraftEditorSelectionWithNodes"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.ownerDocument.defaultView.getSelection(),e=d.anchorNode,f=d.anchorOffset,g=d.focusNode,h=d.focusOffset;d=d.rangeCount;return d===0||e==null||g==null?{selectionState:a.getSelection().set("hasFocus",!1),needsRecovery:!1}:b("getDraftEditorSelectionWithNodes")(a,c,e,f,g,h)}e.exports=a}),null);
__d("editOnSelect",["DraftJsDebugLogging","EditorState","getContentEditableContainer","getDraftEditorSelection"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a._blockSelectEvents||a._latestEditorState!==a.props.editorState){if(a._blockSelectEvents){var c=a.props.editorState;c=c.getSelection();b("DraftJsDebugLogging").logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(c.toJS())})}return}c=a.props.editorState;var d=b("getDraftEditorSelection")(c,b("getContentEditableContainer")(a)),e=d.selectionState;e!==c.getSelection()&&(d.needsRecovery?c=b("EditorState").forceSelection(c,e):c=b("EditorState").acceptSelection(c,e),a.update(c))}e.exports=a}),null);
__d("draftKeyUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&a!=""}e.exports={notEmptyKey:a}}),null);
__d("getEntityKeyForSelection",["draftKeyUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("draftKeyUtils").notEmptyKey;function a(a,b){var c;if(b.isCollapsed()){var d=b.getAnchorKey(),e=b.getAnchorOffset();if(e>0){c=a.getBlockForKey(d).getEntityAt(e-1);return c!==a.getBlockForKey(d).getEntityAt(e)?null:h(a,c)}return null}d=b.getStartKey();e=b.getStartOffset();b=a.getBlockForKey(d);c=e===b.getLength()?null:b.getEntityAt(e);return h(a,c)}function h(a,b){if(g(b)){a=a.getEntity(b);return a.getMutability()==="MUTABLE"?b:null}return null}e.exports=a}),null);
__d("DraftEditorCompositionHandler",["DOMObserver","DraftModifier","DraftOffsetKey","EditorState","Keys","UserAgent","editOnSelect","getContentEditableContainer","getDraftEditorSelection","getEntityKeyForSelection","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isBrowser("IE"),h=20,i=!1,j=!1,k=null;function l(a){k||(k=new(b("DOMObserver"))(b("getContentEditableContainer")(a)),k.start())}var m={onCompositionStart:function(a){j=!0,l(a)},onCompositionEnd:function(a){i=!1,j=!1,setTimeout(function(){i||m.resolveComposition(a)},h)},onSelect:b("editOnSelect"),onKeyDown:function(a,c){if(!j){i||m.resolveComposition(a);a._onKeyDown(c);return}(c.which===b("Keys").RIGHT||c.which===b("Keys").LEFT)&&c.preventDefault()},onKeyPress:function(a,c){c.which===b("Keys").RETURN&&c.preventDefault()},resolveComposition:function(a){if(j)return;var c=a._latestEditorState,d=b("nullthrows")(k).stopAndFlushMutations();k=null;i=!0;var e=b("EditorState").set(c,{inCompositionMode:!1});a.exitCurrentMode();if(!d.size){a.update(e);return}var f=e.getCurrentContent();d.forEach(function(a,c){c=b("DraftOffsetKey").decode(c);var d=c.blockKey,g=c.decoratorKey;c=c.leafKey;g=e.getBlockTree(d).getIn([g,"leaves",c]);c=g.start;g=g.end;g=e.getSelection().merge({anchorKey:d,focusKey:d,anchorOffset:c,focusOffset:g,isBackward:!1});var h=b("getEntityKeyForSelection")(f,g);d=f.getBlockForKey(d).getInlineStyleAt(c);f=b("DraftModifier").replaceText(f,g,a,d,h);e=b("EditorState").set(e,{currentContent:f})});d=b("getDraftEditorSelection")(c,b("getContentEditableContainer")(a));c=d.selectionState;a.restoreEditorDOM();d=g?b("EditorState").forceSelection(e,c):b("EditorState").acceptSelection(e,c);a.update(b("EditorState").push(d,f,"insert-characters"))}};e.exports=m}),null);
__d("DraftEditorContents.react",["cr:1264924"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1264924")}),98);
__d("getTextContentFromFiles",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0},j=5e3;function b(a,b){var c=0,d=[];a.forEach(function(e){k(e,function(e){c++,e&&d.push(e.slice(0,j)),c==a.length&&b(d.join("\r"))})})}function k(b,c){if(!a.FileReader||b.type&&!(b.type in i)){c("");return}if(b.type===""){var d="";h.test(b.name)&&(d=b.name.replace(h,""));c(d);return}var e=new FileReader();e.onload=function(){var a=e.result;typeof a==="string"||g(0,11809);c(a)};e.onerror=function(){c("")};e.readAsText(b)}e.exports=b}),null);
__d("isEventHandled",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="handled"||a===!0}e.exports=a}),null);
__d("DraftEditorDragHandler",["DataTransfer","DraftModifier","EditorState","findAncestorOffsetKey","getCorrectDocumentFromNode","getTextContentFromFiles","getUpdatedSelectionState","getWindowForNode","isEventHandled","nullthrows"],(function(a,b,c,d,e,f){"use strict";function g(a,c){var d=null,e=null,f=b("getCorrectDocumentFromNode")(a.currentTarget);if(typeof f.caretRangeFromPoint==="function"){f=f.caretRangeFromPoint(a.x,a.y);d=f==null?void 0:f.startContainer;e=f==null?void 0:f.startOffset}else if(a.rangeParent)d=a.rangeParent,e=a.rangeOffset;else return null;d=b("nullthrows")(d);e=b("nullthrows")(e);f=b("nullthrows")(b("findAncestorOffsetKey")(d));return b("getUpdatedSelectionState")(c,f,e,f,e)}a={onDragEnd:function(a){a.exitCurrentMode(),h(a)},onDrop:function(a,c){var d=new(b("DataTransfer"))(c.nativeEvent.dataTransfer),e=a._latestEditorState,f=g(c.nativeEvent,e);c.preventDefault();a._dragCount=0;a.exitCurrentMode();if(f==null)return;c=d.getFiles();if(c.length>0){if(a.props.handleDroppedFiles&&b("isEventHandled")(a.props.handleDroppedFiles(f,c)))return;b("getTextContentFromFiles")(c,function(b){b&&a.update(j(e,f,b))});return}c=a._internalDrag?"internal":"external";a.props.handleDrop&&b("isEventHandled")(a.props.handleDrop(f,d,c))||(a._internalDrag?a.update(i(e,f)):a.update(j(e,f,d.getText())));h(a)}};function h(a){a._internalDrag=!1;a=a.editorContainer;if(a){var c=new MouseEvent("mouseup",{view:b("getWindowForNode")(a),bubbles:!0,cancelable:!0});a.dispatchEvent(c)}}function i(a,c){c=b("DraftModifier").moveText(a.getCurrentContent(),a.getSelection(),c);return b("EditorState").push(a,c,"insert-fragment")}function j(a,c,d){c=b("DraftModifier").insertText(a.getCurrentContent(),c,d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-fragment")}e.exports=a}),null);
__d("moveSelectionBackward",["warning"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionBackward should only be called with a collapsed SelectionState");a=a.getCurrentContent();var e=d.getStartKey(),f=d.getStartOffset(),g=e,h=0;if(c>f){var i=a.getKeyBefore(e);if(i==null)g=e;else{g=i;e=a.getBlockForKey(i);h=e.getText().length}}else h=f-c;return d.merge({focusKey:g,focusOffset:h,isBackward:!0})}e.exports=a}),null);
__d("removeTextWithStrategy",["DraftModifier","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("gkx")("20944");function a(a,c,d){var e=a.getSelection(),f=a.getCurrentContent(),h=e,i=e.getAnchorKey(),j=e.getFocusKey(),k=f.getBlockForKey(i);if(g&&(d==="forward"&&i!==j))return f;if(e.isCollapsed()){if(d==="forward"){if(a.isSelectionAtEndOfContent())return f;if(g){j=e.getAnchorOffset()===f.getBlockForKey(i).getLength();if(j){i=f.getBlockForKey(k.nextSibling);if(!i||i.getLength()===0)return f}}}else if(a.isSelectionAtStartOfContent())return f;h=c(a);if(h===e)return f}return b("DraftModifier").removeRange(f,h,d)}e.exports=a}),null);
__d("keyCommandPlainBackspace",["EditorState","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a-1];return b("moveSelectionBackward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"backward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.setSelectionBefore(d),d.isCollapsed()?"backspace-character":"remove-range")}e.exports=a}),null);
__d("editOnInput",["DraftModifier","DraftOffsetKey","EditorState","UserAgent","draftKeyUtils","findAncestorOffsetKey","gkx","keyCommandPlainBackspace","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("draftKeyUtils").notEmptyKey,h=b("UserAgent").isEngine("Gecko"),i="\n\n";function j(a,c){switch(a){case"deleteContentBackward":return b("keyCommandPlainBackspace")(c)}return c}function a(a,c){var d;a._pendingStateFromBeforeInput!==void 0&&(a.update(a._pendingStateFromBeforeInput),a._pendingStateFromBeforeInput=void 0);var e=a.editor;e=e.ownerDocument.defaultView.getSelection();var f=e.anchorNode,k=e.isCollapsed,l=(f==null?void 0:f.nodeType)!==Node.TEXT_NODE&&(f==null?void 0:f.nodeType)!==Node.ELEMENT_NODE;if(f==null||l)return;if(f.nodeType===Node.TEXT_NODE&&(f.previousSibling!==null||f.nextSibling!==null)){l=f.parentNode;if(l==null)return;f.nodeValue=l.textContent;for(var m=l.firstChild;m!=null;m=m.nextSibling)m!==f&&l.removeChild(m)}m=f.textContent;l=a._latestEditorState;f=b("nullthrows")(b("findAncestorOffsetKey")(f));f=b("DraftOffsetKey").decode(f);var n=f.blockKey,o=f.decoratorKey;f=f.leafKey;o=l.getBlockTree(n).getIn([o,"leaves",f]);f=o.start;o=o.end;var p=l.getCurrentContent();n=p.getBlockForKey(n);var q=n.getText().slice(f,o);m.endsWith(i)&&(m=m.slice(0,-1));if(m===q){var r=c?c.nativeEvent.inputType:void 0;if(r){r=j(r,l);if(r!==l){a.restoreEditorDOM();a.update(r);return}}return}r=l.getSelection();o=r.merge({anchorOffset:f,focusOffset:o,isBackward:!1});var s=n.getEntityAt(f);s=g(s)?p.getEntity(s):null;s=s!=null?s.getMutability():null;s=s==="MUTABLE";var t=s?"spellcheck-change":"apply-entity";o=b("DraftModifier").replaceText(p,o,m,n.getInlineStyleAt(f),s?n.getEntityAt(f):null);var u,v;s=(c==null||(d=c.nativeEvent)==null?void 0:d.inputType)==="deleteWordForward";if(h&&!s)u=e.anchorOffset,v=e.focusOffset,n=f+Math.min(u,v),e=n+Math.abs(u-v),u=n,v=e;else if(!s){f=m.length-q.length;n=r.getStartOffset();e=r.getEndOffset();u=k?e+f:n;v=e+f}s=o.merge({selectionBefore:p.getSelectionAfter(),selectionAfter:r.merge({anchorOffset:u,focusOffset:v})});b("gkx")("22885")&&(c==null?void 0:c.nativeEvent)instanceof InputEvent&&c.nativeEvent.inputType==="insertReplacementText"&&a.restoreEditorDOM();a.update(b("EditorState").push(l,s,t))}e.exports=a}),null);
__d("isSelectionAtLeafStart",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getSelection(),c=b.getAnchorKey();a=a.getBlockTree(c);var d=b.getStartOffset();c=!1;a.some(function(a){if(d===a.get("start")){c=!0;return!0}return d<a.get("end")?a.get("leaves").some(function(a){a=a.get("start");if(d===a){c=!0;return!0}return!1}):!1});return c}e.exports=a}),null);
__d("editOnBeforeInput",["DraftModifier","EditorState","UserAgent","editOnInput","getEntityKeyForSelection","isEventHandled","isSelectionAtLeafStart","nullthrows","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g="'",h="/",i=b("UserAgent").isBrowser("Firefox"),j=b("UserAgent").isBrowser("IE");function k(a){return i&&(a==g||a==h)}function l(a,c,d,e,f){c=b("DraftModifier").replaceText(a.getCurrentContent(),a.getSelection(),c,d,e);return b("EditorState").push(a,c,"insert-characters",f)}function a(a,c){j&&(a._pendingStateFromBeforeInput!==void 0&&(a.update(a._pendingStateFromBeforeInput),a._pendingStateFromBeforeInput=void 0));var d=a._latestEditorState,e=c.data;if(!e)return;if(a.props.handleBeforeInput&&b("isEventHandled")(a.props.handleBeforeInput(e,d,c.timeStamp))){c.preventDefault();return}var f=d.getSelection(),g=f.getStartOffset(),h=f.getAnchorKey();if(!f.isCollapsed()){c.preventDefault();a.update(l(d,e,d.getCurrentInlineStyle(),b("getEntityKeyForSelection")(d.getCurrentContent(),d.getSelection()),!0));return}f=l(d,e,d.getCurrentInlineStyle(),b("getEntityKeyForSelection")(d.getCurrentContent(),d.getSelection()),!1);var i=!1;i||(i=b("isSelectionAtLeafStart")(a._latestCommittedEditorState));if(!i){var m=d.getBlockTree(h),n=f.getBlockTree(h);i=m.size!==n.size||m.zip(n).some(function(a){var b=a[0];a=a[1];var c=b.get("start"),d=c+(c>=g?e.length:0),f=b.get("end"),h=f+(f>=g?e.length:0),i=a.get("start"),j=a.get("end"),k=a.get("decoratorKey");return b.get("decoratorKey")!==k||b.get("leaves").size!==a.get("leaves").size||d!==i||h!==j||k!=null&&j-i!==f-c})}i||(i=k(e));i||(i=b("nullthrows")(f.getDirectionMap()).get(h)!==b("nullthrows")(d.getDirectionMap()).get(h));if(i){c.preventDefault();f=b("EditorState").set(f,{forceSelection:!0});a.update(f);return}f=b("EditorState").set(f,{nativelyRenderedContent:f.getCurrentContent()});a._pendingStateFromBeforeInput=f;j&&b("setImmediate")(function(){b("editOnInput")(a,null)})}e.exports=a}),null);
__d("editOnBlur",["EditorState","containsNode","getActiveElement"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.currentTarget.ownerDocument;if(!Boolean(a.props.preserveSelectionOnBlur)&&b("getActiveElement")(d)===d.body){d=d.defaultView.getSelection();var e=a.editor;d.rangeCount===1&&b("containsNode")(e,d.anchorNode)&&b("containsNode")(e,d.focusNode)&&d.removeAllRanges()}e=a._latestEditorState;d=e.getSelection();if(!d.getHasFocus())return;d=d.set("hasFocus",!1);a.props.onBlur&&a.props.onBlur(c);a.update(b("EditorState").acceptSelection(e,d))}e.exports=a}),null);
__d("editOnCompositionStart",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a.setMode("composite"),a.update(b("EditorState").set(a._latestEditorState,{inCompositionMode:!0})),a._onCompositionStart(c)}e.exports=a}),null);
__d("getFragmentFromSelection",["getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection();return c.isCollapsed()?null:b("getContentStateFragment")(a.getCurrentContent(),c)}e.exports=a}),null);
__d("editOnCopy",["getFragmentFromSelection"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState;d=d.getSelection();if(d.isCollapsed()){c.preventDefault();return}a.setClipboard(b("getFragmentFromSelection")(a._latestEditorState))}e.exports=a}),null);
__d("getScrollPosition",["getDocumentScrollElement","getUnboundedScrollPosition"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("getDocumentScrollElement")(a.ownerDocument||a.document);a.Window&&a instanceof a.Window&&(a=b);var d=c("getUnboundedScrollPosition")(a);b=a===b?a.ownerDocument.documentElement:a;var e=a.scrollWidth-b.clientWidth;a=a.scrollHeight-b.clientHeight;d.x=Math.max(0,Math.min(d.x,e));d.y=Math.max(0,Math.min(d.y,a));return d}g["default"]=a}),98);
__d("isInstanceOfNode",[],(function(a,b,c,d,e,f){function a(a){if(!a||!("ownerDocument"in a))return!1;if("ownerDocument"in a){a=a;if(!a.ownerDocument.defaultView)return a instanceof Node;if(a instanceof a.ownerDocument.defaultView.Node)return!0}return!1}e.exports=a}),null);
__d("editOnCut",["DraftModifier","EditorState","Style","getFragmentFromSelection","getScrollPosition","isInstanceOfNode"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState,e=d.getSelection(),f=c.target,h;if(e.isCollapsed()){c.preventDefault();return}if(b("isInstanceOfNode")(f)){e=f;h=b("getScrollPosition")(b("Style").getScrollParent(e))}c=b("getFragmentFromSelection")(d);a.setClipboard(c);a.setMode("cut");setTimeout(function(){a.restoreEditorDOM(h),a.exitCurrentMode(),a.update(g(d))},0)}function g(a){var c=b("DraftModifier").removeRange(a.getCurrentContent(),a.getSelection(),"forward");return b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("editOnDragOver",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.setMode("drag"),b.preventDefault()}e.exports=a}),null);
__d("editOnDragStart",[],(function(a,b,c,d,e,f){"use strict";function a(a){a._internalDrag=!0,a.setMode("drag")}e.exports=a}),null);
__d("editOnFocus",["EditorState","UserAgent"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState,e=d.getSelection();if(e.getHasFocus())return;e=e.set("hasFocus",!0);a.props.onFocus&&a.props.onFocus(c);b("UserAgent").isBrowser("Chrome < 60.0.3081.0")?a.update(b("EditorState").forceSelection(d,e)):a.update(b("EditorState").acceptSelection(d,e))}e.exports=a}),null);
__d("SecondaryClipboard",["DraftModifier","EditorState","getContentStateFragment","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=null;a={cut:function(a){var c=a.getCurrentContent(),d=a.getSelection(),e=null;if(d.isCollapsed()){var f=d.getAnchorKey(),h=c.getBlockForKey(f).getLength();if(h===d.getAnchorOffset()){f=c.getKeyAfter(f);if(f==null)return a;e=d.set("focusKey",f).set("focusOffset",0)}else e=d.set("focusOffset",h)}else e=d;e=b("nullthrows")(e);g=b("getContentStateFragment")(c,e);f=b("DraftModifier").removeRange(c,e,"forward");return f===c?a:b("EditorState").push(a,f,"remove-range")},paste:function(a){if(!g)return a;var c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),g);return b("EditorState").push(a,c,"insert-fragment")}};e.exports=a}),null);
__d("getRangeClientRects",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";c=b("UserAgent").isBrowser("Chrome");function a(a){var b=a.cloneRange(),c=[];for(var d=a.endContainer;d!=null;d=d.parentNode){var e=d===a.commonAncestorContainer;e?b.setStart(a.startContainer,a.startOffset):b.setStart(b.endContainer,0);var f=Array.from(b.getClientRects());c.push(f);if(e){c.reverse();return(f=[]).concat.apply(f,c)}b.setEndBefore(d)}g(0,578)}d=c?a:function(a){return Array.from(a.getClientRects())};e.exports=d}),null);
__d("expandRangeToStartOfLine",["invariant","UnicodeUtils","getCorrectDocumentFromNode","getRangeClientRects"],(function(a,b,c,d,e,f,g){var h;function i(a){var c=getComputedStyle(a);a=b("getCorrectDocumentFromNode")(a);var d=a.createElement("div");d.style.fontFamily=c.fontFamily;d.style.fontSize=c.fontSize;d.style.fontStyle=c.fontStyle;d.style.fontWeight=c.fontWeight;d.style.lineHeight=c.lineHeight;d.style.position="absolute";d.textContent="M";c=a.body;c||g(0,5725);c.appendChild(d);a=d.getBoundingClientRect();c.removeChild(d);return a.height}function j(a,b){var c=Infinity,d=Infinity,e=-Infinity,f=-Infinity;for(var g=0;g<a.length;g++){var h=a[g];if(h.width===0||h.width===1)continue;c=Math.min(c,h.top);d=Math.min(d,h.bottom);e=Math.max(e,h.top);f=Math.max(f,h.bottom)}return e<=d&&e-c<b&&f-d<b}function k(a){switch(a.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return a.length;default:return a.childNodes.length}}function a(a){a.collapsed||g(0,5726);a=a.cloneRange();var c=a.startContainer;c.nodeType!==1&&(c=c.parentNode);c=i(c);var d=a.endContainer,e=a.endOffset;a.setStart(a.startContainer,0);while(j(b("getRangeClientRects")(a),c)){d=a.startContainer;e=a.startOffset;d.parentNode||g(0,5727);a.setStartBefore(d);if(d.nodeType===1&&getComputedStyle(d).display!=="inline")break}var f=d,l=e-1;do{var m=f.nodeValue,n=l;for(;n>=0;n--){if(m!=null&&n>0&&(h||(h=b("UnicodeUtils"))).isSurrogatePair(m,n-1))continue;a.setStart(f,n);if(j(b("getRangeClientRects")(a),c))d=f,e=n;else break}if(n===-1||f.childNodes.length===0)break;f=f.childNodes[n];l=k(f)}while(!0);a.setStart(d,e);return a}e.exports=a}),null);
__d("keyCommandBackspaceToStartOfLine",["EditorState","expandRangeToStartOfLine","getDraftEditorSelectionWithNodes","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("removeTextWithStrategy")(a,function(a){var d=a.getSelection();if(d.isCollapsed()&&d.getAnchorOffset()===0)return b("moveSelectionBackward")(a,1);d=c.currentTarget.ownerDocument;d=d.defaultView.getSelection();d=d.getRangeAt(0);d=b("expandRangeToStartOfLine")(d);return b("getDraftEditorSelectionWithNodes")(a,null,d.endContainer,d.endOffset,d.startContainer,d.startOffset).selectionState},"backward");return d===a.getCurrentContent()?a:b("EditorState").push(a,d,"remove-range")}e.exports=a}),null);
__d("DraftRemovableWord",["TokenizeUtil"],(function(a,b,c,d,e,f){"use strict";a=b("TokenizeUtil").getPunctuation();c="['\u2018\u2019]";d="\\s|(?![_])"+a;f="^(?:"+d+")*(?:"+c+"|(?!"+d+").)*(?:(?!"+d+").)";var g=new RegExp(f);b="(?:(?!"+d+").)(?:"+c+"|(?!"+d+").)*(?:"+d+")*$";var h=new RegExp(b);function i(a,b){b=b?h.exec(a):g.exec(a);return b?b[0]:a}a={getBackward:function(a){return i(a,!0)},getForward:function(a){return i(a,!1)}};e.exports=a}),null);
__d("keyCommandBackspaceWord",["DraftRemovableWord","EditorState","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();if(d===0)return b("moveSelectionBackward")(a,1);c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(0,d);c=b("DraftRemovableWord").getBackward(e);return b("moveSelectionBackward")(a,c.length||1)},"backward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("moveSelectionForward",["warning"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionForward should only be called with a collapsed SelectionState");var e=d.getStartKey(),f=d.getStartOffset();a=a.getCurrentContent();var g=e,h=a.getBlockForKey(e);c>h.getText().length-f?(g=a.getKeyAfter(e),h=0):h=f+c;return d.merge({focusKey:g,focusOffset:h})}e.exports=a}),null);
__d("keyCommandDeleteWord",["DraftRemovableWord","EditorState","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(d);c=b("DraftRemovableWord").getForward(e);return b("moveSelectionForward")(a,c.length||1)},"forward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("keyCommandInsertNewline",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("DraftModifier").splitBlock(a.getCurrentContent(),a.getSelection());return b("EditorState").push(a,c,"split-block")}e.exports=a}),null);
__d("keyCommandMoveSelectionToEndOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getEndKey(),e=a.getCurrentContent();e=e.getBlockForKey(d).getLength();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:e,focusKey:d,focusOffset:e,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandMoveSelectionToStartOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getStartKey();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandPlainDelete",["EditorState","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a];return b("moveSelectionForward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"forward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.setSelectionBefore(d),d.isCollapsed()?"delete-character":"remove-range")}e.exports=a}),null);
__d("keyCommandTransposeCharacters",["DraftModifier","EditorState","getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection();if(!c.isCollapsed())return a;var d=c.getAnchorOffset();if(d===0)return a;var e=c.getAnchorKey(),f=a.getCurrentContent();e=f.getBlockForKey(e);e=e.getLength();if(e<=1)return a;var g;d===e?(e=c.set("anchorOffset",d-1),g=c):(e=c.set("focusOffset",d+1),g=e.set("anchorOffset",d+1));c=b("getContentStateFragment")(f,e);d=b("DraftModifier").removeRange(f,e,"backward");f=d.getSelectionAfter();e=f.getAnchorOffset()-1;f=f.merge({anchorOffset:e,focusOffset:e});e=b("DraftModifier").replaceWithFragment(d,f,c);d=b("EditorState").push(a,e,"insert-fragment");return b("EditorState").acceptSelection(d,g)}e.exports=a}),null);
__d("keyCommandUndo",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("EditorState").undo(c);if(c.getLastChangeType()==="spellcheck-change"){var f=e.getCurrentContent();d(b("EditorState").set(e,{nativelyRenderedContent:f}));return}a.preventDefault();if(!c.getNativelyRenderedContent()){d(e);return}d(b("EditorState").set(c,{nativelyRenderedContent:null}));setTimeout(function(){d(e)},0)}e.exports=a}),null);
__d("editOnKeyDown",["DraftModifier","EditorState","KeyBindingUtil","Keys","SecondaryClipboard","UserAgent","isEventHandled","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyBindingUtil").isOptionKeyCommand,h=b("UserAgent").isBrowser("Chrome");function i(a,c,d){switch(a){case"redo":return b("EditorState").redo(c);case"delete":return b("keyCommandPlainDelete")(c);case"delete-word":return b("keyCommandDeleteWord")(c);case"backspace":return b("keyCommandPlainBackspace")(c);case"backspace-word":return b("keyCommandBackspaceWord")(c);case"backspace-to-start-of-line":return b("keyCommandBackspaceToStartOfLine")(c,d);case"split-block":return b("keyCommandInsertNewline")(c);case"transpose-characters":return b("keyCommandTransposeCharacters")(c);case"move-selection-to-start-of-block":return b("keyCommandMoveSelectionToStartOfBlock")(c);case"move-selection-to-end-of-block":return b("keyCommandMoveSelectionToEndOfBlock")(c);case"secondary-cut":return b("SecondaryClipboard").cut(c);case"secondary-paste":return b("SecondaryClipboard").paste(c);default:return c}}function a(a,c){var d=c.which,e=a._latestEditorState;function f(b){b=a.props[b];if(b){b(c);return!0}else return!1}switch(d){case b("Keys").RETURN:c.preventDefault();if(a.props.handleReturn&&b("isEventHandled")(a.props.handleReturn(c,e)))return;break;case b("Keys").ESC:c.preventDefault();if(f("onEscape"))return;break;case b("Keys").TAB:if(f("onTab"))return;break;case b("Keys").UP:if(f("onUpArrow"))return;break;case b("Keys").RIGHT:if(f("onRightArrow"))return;break;case b("Keys").DOWN:if(f("onDownArrow"))return;break;case b("Keys").LEFT:if(f("onLeftArrow"))return;break;case b("Keys").SPACE:h&&g(c)&&c.preventDefault()}f=a.props.keyBindingFn(c);if(f==null||f===""){if(d===b("Keys").SPACE&&h&&g(c)){d=b("DraftModifier").replaceText(e.getCurrentContent(),e.getSelection(),"\xa0");a.update(b("EditorState").push(e,d,"insert-characters"))}return}if(f==="undo"){b("keyCommandUndo")(c,e,a.update);return}c.preventDefault();if(a.props.handleKeyCommand&&b("isEventHandled")(a.props.handleKeyCommand(f,e,c.timeStamp)))return;d=i(f,e,c);d!==e&&a.update(d)}e.exports=a}),null);
__d("getSafeBodyFromHTML",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("UserAgent").isBrowser("IE <= 9");function a(a){var b,c=null;!h&&document.implementation&&document.implementation.createHTMLDocument&&(b=document.implementation.createHTMLDocument("foo"),b.documentElement||g(0,1805),b.documentElement.innerHTML=a,c=b.getElementsByTagName("body")[0]);return c}e.exports=a}),null);
__d("isHTMLAnchorElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="A"}e.exports=a}),null);
__d("isHTMLBRElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="BR"}e.exports=a}),null);
__d("isHTMLImageElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="IMG"}e.exports=a}),null);
__d("convertFromHTMLToContentBlocks",["cx","CharacterMetadata","ContentBlock","ContentBlockNode","ContentState","DefaultDraftBlockRenderMap","URI","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","isHTMLAnchorElement","isHTMLBRElement","isHTMLElement","isHTMLImageElement"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedSet,l=b("gkx")("20944"),m=b("gkx")("20947");a="&nbsp;";var n=" ",o=new RegExp("\r","g"),p=new RegExp("\n","g"),q=new RegExp("^\n","g"),r=new RegExp(a,"g"),s=new RegExp("&#13;?","g"),t=new RegExp("&#8203;?","g"),u=["bold","bolder","500","600","700","800","900"],v=["light","lighter","normal","100","200","300","400"],w=["className","href","rel","target","title"],x=["alt","className","height","src","width"],y=(c={},c._3kq1=0,c._3kq2=1,c._3kq3=2,c._3kq4=3,c._3kq5=4,c),z=j({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),A=function(a){var b={};a.mapKeys(function(a,c){var d=[c.element];c.aliasedElements!==void 0&&d.push.apply(d,c.aliasedElements);d.forEach(function(c){b[c]===void 0?b[c]=a:typeof b[c]==="string"?b[c]=[b[c],a]:b[c].push(a)})});return j(b)},B=function(a){if(b("isHTMLElement")(a)){a=a;if(a.style.fontFamily.includes("monospace"))return"CODE"}return null},C=function(a,b){b===void 0&&(b=0);Object.keys(y).some(function(c){a.classList.contains(c)&&(b=y[c])});return b},D=function(a){if(!b("isHTMLAnchorElement")(a))return!1;a=a;if(!a.href||a.protocol!=="http:"&&a.protocol!=="https:"&&a.protocol!=="mailto:"&&a.protocol!=="tel:")return!1;try{new(h||(h=b("URI")))(a.href);return!0}catch(a){return!1}},E=function(a){if(!b("isHTMLImageElement")(a))return!1;a=a;return!!(a.attributes.getNamedItem("src")&&a.attributes.getNamedItem("src").value)},F=function(a,c){if(!b("isHTMLElement")(a))return c;a=a;var d=a.style.fontWeight,e=a.style.fontStyle,f=a.style.textDecoration;return c.withMutations(function(a){u.indexOf(d)>=0?a.add("BOLD"):v.indexOf(d)>=0&&a.remove("BOLD"),e==="italic"?a.add("ITALIC"):e==="normal"&&a.remove("ITALIC"),f==="underline"&&a.add("UNDERLINE"),f==="line-through"&&a.add("STRIKETHROUGH"),f==="none"&&(a.remove("UNDERLINE"),a.remove("STRIKETHROUGH"))})},G=function(a){return a==="ul"||a==="ol"},H=function(){function a(a,c){this.characterList=i(),this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.wrapper=null,this.blockConfigs=[],this.contentBlocks=[],this.contentState=b("ContentState").createFromText(""),this.clear(),this.blockTypeMap=a,this.disambiguate=c}var c=a.prototype;c.clear=function(){this.characterList=i(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.contentState=b("ContentState").createFromText(""),this.wrapper=null,this.contentBlocks=[]};c.addDOMNode=function(a){var b;this.contentBlocks=[];this.currentDepth=0;(b=this.blockConfigs).push.apply(b,this.$1([a],k()));this.$2();this.currentText!==""&&this.blockConfigs.push(this.$3());return this};c.getContentBlocks=function(){this.contentBlocks.length===0&&(l?this.$4(this.blockConfigs):this.$5(this.blockConfigs));return{contentBlocks:this.contentBlocks,entityMap:this.contentState.getEntityMap()}};c.$3=function(a){a===void 0&&(a={});var c=a.key||b("generateRandomKey")();c=babelHelpers["extends"]({key:c,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:i(),prevSibling:null,nextSibling:null,childConfigs:[]},a);this.characterList=i();this.currentBlockType="unstyled";this.currentText="";return c};c.$1=function(a,c){var d=[];for(var e=0;e<a.length;e++){var f=a[e],g=f.nodeName.toLowerCase();if(g==="body"||G(g)){this.$2();this.currentText!==""&&d.push(this.$3());var h=this.currentDepth,i=this.wrapper;G(g)&&(this.wrapper=g,G(i)&&this.currentDepth++);d.push.apply(d,this.$1(Array.from(f.childNodes),c));this.currentDepth=h;this.wrapper=i;continue}h=this.blockTypeMap.get(g);if(h!==void 0){this.$2();this.currentText!==""&&d.push(this.$3());i=this.currentDepth;var j=this.wrapper;this.wrapper=g==="pre"?"pre":this.wrapper;typeof h!=="string"&&(h=this.disambiguate(g,this.wrapper)||h[0]||"unstyled");if(!l&&b("isHTMLElement")(f)&&(h==="unordered-list-item"||h==="ordered-list-item")){var k=f;this.currentDepth=C(k,this.currentDepth)}k=b("generateRandomKey")();var m=this.$1(Array.from(f.childNodes),c);this.$2();d.push(this.$3({key:k,childConfigs:m,type:h}));this.currentDepth=i;this.wrapper=j;continue}if(g==="#text"){this.$6(f,c);continue}if(g==="br"){this.$7(f,c);continue}if(E(f)){this.$8(f,c);continue}if(D(f)){this.$9(f,d,c);continue}k=c;z.has(g)&&(k=k.add(z.get(g)));k=F(f,k);m=B(f);m!=null&&(k=k.add(m));d.push.apply(d,this.$1(Array.from(f.childNodes),k))}return d};c.$10=function(a,c){var d;this.currentText+=a;c=b("CharacterMetadata").create({style:c,entity:this.currentEntity});this.characterList=(d=this.characterList).push.apply(d,Array(a.length).fill(c))};c.$2=function(){var a=this.currentText.length,b=a-this.currentText.trimLeft().length,c=this.currentText.trimRight().length,d=this.characterList.findEntry(function(a){return a.getEntity()!==null});b=d!==void 0?Math.min(b,d[0]):b;d=this.characterList.reverse().findEntry(function(a){return a.getEntity()!==null});c=d!==void 0?Math.max(c,a-d[0]):c;b>c?(this.currentText="",this.characterList=i()):(this.currentText=this.currentText.slice(b,c),this.characterList=this.characterList.slice(b,c))};c.$6=function(a,b){a=a.textContent;var c=a.trim();c===""&&this.wrapper!=="pre"&&(a=" ");this.wrapper!=="pre"&&(a=a.replace(q,""),a=a.replace(p,n));this.$10(a,b)};c.$7=function(a,c){if(!b("isHTMLBRElement")(a))return;this.$10("\n",c)};c.$8=function(a,c){if(!b("isHTMLImageElement")(a))return;var d=a,e={};x.forEach(function(a){var b=d.getAttribute(a);b&&(e[a]=b)});this.contentState=this.contentState.createEntity("IMAGE","IMMUTABLE",e);this.currentEntity=this.contentState.getLastCreatedEntityKey();a=d.getAttribute("alt");m&&a!=null&&a.length>0?this.$10(a,c):this.$10("\ud83d\udcf7",c);this.currentEntity=null};c.$9=function(a,c,d){if(!b("isHTMLAnchorElement")(a))return;var e=a,f={};w.forEach(function(a){var b=e.getAttribute(a);b&&(f[a]=b)});f.url=new(h||(h=b("URI")))(e.href).toString();this.contentState=this.contentState.createEntity("LINK","MUTABLE",f||{});this.currentEntity=this.contentState.getLastCreatedEntityKey();c.push.apply(c,this.$1(Array.from(a.childNodes),d));this.currentEntity=null};c.$4=function(a,c){c===void 0&&(c=null);var d=a.length-1;for(var e=0;e<=d;e++){var f=a[e];f.parent=c;f.prevSibling=e>0?a[e-1].key:null;f.nextSibling=e<d?a[e+1].key:null;f.children=i(f.childConfigs.map(function(a){return a.key}));this.contentBlocks.push(new(b("ContentBlockNode"))(babelHelpers["extends"]({},f)));this.$4(f.childConfigs,f.key)}};c.$11=function(a){var b=this;a=i(a).flatMap(function(a){return a.type!=="unstyled"||a.text!==""?[a]:b.$11(a.childConfigs)});return a};c.$5=function(a){var c=this;a=this.$11(a);a.forEach(function(a){var d=c.$12(a.childConfigs),e=d.text;d=d.characterList;c.contentBlocks.push(new(b("ContentBlock"))(babelHelpers["extends"]({},a,{text:a.text+e,characterList:a.characterList.concat(d)})))})};c.$12=function(a){var b=a.length-1,c="",d=i();for(var e=0;e<=b;e++){var f=a[e];c+=f.text;d=d.concat(f.characterList);c!==""&&f.type!=="unstyled"&&(c+="\n",d=d.push(d.last()));f=this.$12(f.childConfigs);c+=f.text;d=d.concat(f.characterList)}return{text:c,characterList:d}};return a}();d=function(a,c,d){c===void 0&&(c=b("getSafeBodyFromHTML"));d===void 0&&(d=b("DefaultDraftBlockRenderMap"));typeof a==="string"&&(a=a.trim().replace(o,"").replace(r,n).replace(s,"").replace(t,""));c=c(a);if(!c)return null;a=A(d);d=function(a,b){return a==="li"?b==="ol"?"ordered-list-item":"unordered-list-item":null};return new H(a,d).addDOMNode(c).getContentBlocks()};e.exports=d}),null);
__d("DraftPasteProcessor",["ContentBlock","ContentBlockNode","convertFromHTMLToContentBlocks","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat,i=b("gkx")("20944"),j=i?b("ContentBlockNode"):b("ContentBlock");a={processHTML:function(a,c){return b("convertFromHTMLToContentBlocks")(a,b("getSafeBodyFromHTML"),c)},processText:function(a,c,d){return a.reduce(function(a,e,f){e=b("sanitizeDraftText")(e);var k=b("generateRandomKey")();e={key:k,type:d,text:e,characterList:g(h(c,e.length))};if(i&&f!==0){f=f-1;f=a[f]=a[f].merge({nextSibling:k});e=babelHelpers["extends"]({},e,{prevSibling:f.getKey()})}a.push(new j(e));return a},[])}};e.exports=a}),null);
__d("adjustBlockDepthForContentState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=b.getStartKey(),f=b.getEndKey(),g=a.getBlockMap(),h=g.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===f}).concat([[f,g.get(f)]]).map(function(a){var b=a.getDepth()+c;b=Math.max(0,b);d!=null&&(b=Math.min(b,d));return a.set("depth",b)});g=g.merge(h);return a.merge({blockMap:g,selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("RichTextEditorUtil",["DraftModifier","EditorState","adjustBlockDepthForContentState","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g={currentBlockContainsLink:function(a){var b=a.getSelection(),c=a.getCurrentContent();return c.getBlockForKey(b.getAnchorKey()).getCharacterList().slice(b.getStartOffset(),b.getEndOffset()).some(function(a){a=a.getEntity();return!!a&&c.getEntity(a).getType()==="LINK"})},getCurrentBlockType:function(a){var b=a.getSelection();return a.getCurrentContent().getBlockForKey(b.getStartKey()).getType()},getDataObjectForLinkURL:function(a){return{url:a.toString()}},handleKeyCommand:function(a,b,c){switch(b){case"bold":return g.toggleInlineStyle(a,"BOLD");case"italic":return g.toggleInlineStyle(a,"ITALIC");case"underline":return g.toggleInlineStyle(a,"UNDERLINE");case"strikethrough":return g.toggleInlineStyle(a,"STRIKETHROUGH");case"subscript":return g.toggleInlineStyle(a,"SUBSCRIPT");case"superscript":return g.toggleInlineStyle(a,"SUPERSCRIPT");case"code":return g.toggleCode(a);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(a);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(a);default:return null}},insertSoftNewline:function(a){var c=b("DraftModifier").insertText(a.getCurrentContent(),a.getSelection(),"\n",a.getCurrentInlineStyle(),null);a=b("EditorState").push(a,c,"insert-characters");return b("EditorState").forceSelection(a,c.getSelectionAfter())},onBackspace:function(a){var c=a.getSelection();if(!c.isCollapsed()||c.getAnchorOffset()||c.getFocusOffset())return null;var d=a.getCurrentContent(),e=c.getStartKey();e=d.getBlockBefore(e);if(e&&e.getType()==="atomic"){e=d.getBlockMap()["delete"](e.getKey());e=d.merge({blockMap:e,selectionAfter:c});if(e!==d)return b("EditorState").push(a,e,"remove-range")}c=g.tryToRemoveBlockStyle(a);return c?b("EditorState").push(a,c,"change-block-type"):null},onDelete:function(a){var c=a.getSelection();if(!c.isCollapsed())return null;var d=a.getCurrentContent(),e=c.getStartKey(),f=d.getBlockForKey(e);f=f.getLength();if(c.getStartOffset()<f)return null;f=d.getBlockAfter(e);if(!f||f.getType()!=="atomic")return null;e=c.merge({focusKey:f.getKey(),focusOffset:f.getLength()});c=b("DraftModifier").removeRange(d,e,"forward");return c!==d?b("EditorState").push(a,c,"remove-range"):null},onTab:function(a,c){var d=c.getSelection(),e=d.getAnchorKey(),f=c.getCurrentContent();e=f.getBlockForKey(e);e=e.getType();if(e!=="unordered-list-item"&&e!=="ordered-list-item")return c;a.preventDefault();e=b("adjustBlockDepthForContentState")(f,d,a.shiftKey?-1:1);return b("EditorState").push(c,e,"adjust-depth")},toggleBlockType:function(a,c){var d=a.getSelection(),e=d.getStartKey(),f=d.getEndKey(),g=a.getCurrentContent(),h=d;if(e!==f&&d.getEndOffset()===0){var i=b("nullthrows")(g.getBlockBefore(f));f=i.getKey();h=h.merge({anchorKey:e,anchorOffset:d.getStartOffset(),focusKey:f,focusOffset:i.getLength(),isBackward:!1})}d=g.getBlockMap().skipWhile(function(a,b){return b!==e}).reverse().skipWhile(function(a,b){return b!==f}).some(function(a){return a.getType()==="atomic"});if(d)return a;i=g.getBlockForKey(e).getType()===c?"unstyled":c;return b("EditorState").push(a,b("DraftModifier").setBlockType(g,h,i),"change-block-type")},toggleCode:function(a){var b=a.getSelection(),c=b.getAnchorKey(),d=b.getFocusKey();return b.isCollapsed()||c!==d?g.toggleBlockType(a,"code-block"):g.toggleInlineStyle(a,"CODE")},toggleInlineStyle:function(a,c){var d=a.getSelection(),e=a.getCurrentInlineStyle();if(d.isCollapsed())return b("EditorState").setInlineStyleOverride(a,e.has(c)?e.remove(c):e.add(c));var f=a.getCurrentContent();e.has(c)?e=b("DraftModifier").removeInlineStyle(f,d,c):e=b("DraftModifier").applyInlineStyle(f,d,c);return b("EditorState").push(a,e,"change-inline-style")},toggleLink:function(a,c,d){c=b("DraftModifier").applyEntity(a.getCurrentContent(),c,d);return b("EditorState").push(a,c,"apply-entity")},tryToRemoveBlockStyle:function(a){var c=a.getSelection(),d=c.getAnchorOffset();if(c.isCollapsed()&&d===0){d=c.getAnchorKey();a=a.getCurrentContent();var e=a.getBlockForKey(d);e=e.getType();d=a.getBlockBefore(d);if(e==="code-block"&&d&&d.getType()==="code-block"&&d.getLength()!==0)return null;if(e!=="unstyled")return b("DraftModifier").setBlockType(a,c,"unstyled")}return null}};e.exports=g}),null);
__d("splitTextIntoTextBlocks",[],(function(a,b,c,d,e,f){"use strict";var g=/\r\n?|\n/g;function a(a){return a.split(g)}e.exports=a}),null);
__d("editOnPaste",["BlockMapBuilder","CharacterMetadata","ContentState","DataTransfer","DraftModifier","DraftPasteProcessor","EditorState","RichTextEditorUtil","getEntityKeyForSelection","getTextContentFromFiles","isEventHandled","splitTextIntoTextBlocks"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c.preventDefault();c=new(b("DataTransfer"))(c.clipboardData);if(!c.isRichText()){var d=c.getFiles(),e=c.getText();if(d.length>0){if(a.props.handlePastedFiles&&b("isEventHandled")(a.props.handlePastedFiles(d)))return;b("getTextContentFromFiles")(d,function(d){d=d||e;if(!d)return;var c=a._latestEditorState;d=b("splitTextIntoTextBlocks")(d);var f=b("CharacterMetadata").create({style:c.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(c.getCurrentContent(),c.getSelection())}),g=b("RichTextEditorUtil").getCurrentBlockType(c);d=b("DraftPasteProcessor").processText(d,f,g);f=b("BlockMapBuilder").createFromArray(d);g=b("DraftModifier").replaceWithFragment(c.getCurrentContent(),c.getSelection(),f);a.update(b("EditorState").push(c,g,"insert-fragment"))});return}}d=[];var f=c.getText(),i=c.getHTML(),j=a._latestEditorState;if(a.props.formatPastedText){var k=a.props.formatPastedText(f,i),l=k.text;k=k.html;f=l;i=k}f&&(d=b("splitTextIntoTextBlocks")(f));l=null;if(!a.props.stripPastedStyles){var m=a.getClipboard();if(!a.props.formatPastedText&&c.isRichText()&&m){(((k=i)==null?void 0:k.indexOf(a.getEditorKey()))!==-1||d.length===1&&m.size===1&&m.first().getText()===f)&&(l=function(){return a.update(g(a._latestEditorState,m))})}else m&&c.types.includes("com.apple.webarchive")&&!c.types.includes("text/html")&&h(d,m)&&(l=function(){return a.update(g(a._latestEditorState,m))});if(a.props.handlePastedText&&b("isEventHandled")(a.props.handlePastedText(f,i,j,l!=null)))return;if(l!=null){l();return}if(i){k=b("DraftPasteProcessor").processHTML(i,a.props.blockRenderMap);if(k){c=k.contentBlocks;f=k.entityMap;if(c){l=b("BlockMapBuilder").createFromArray(c);a.update(g(a._latestEditorState,l,f));return}}}a.setClipboard(null)}if(d.length){i=b("CharacterMetadata").create({style:j.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(j.getCurrentContent(),j.getSelection())});k=b("RichTextEditorUtil").getCurrentBlockType(j);c=b("DraftPasteProcessor").processText(d,i,k);l=b("BlockMapBuilder").createFromArray(c);a.update(g(a._latestEditorState,l))}}function g(a,c,d){c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),c);d=d?b("ContentState").mergeEntityMaps(c.getAllEntities(),d):c.getAllEntities();return b("EditorState").push(a,c.setEntityMap(d),"insert-fragment")}function h(a,b){return a.length===b.size&&b.valueSeq().every(function(b,c){return b.getText()===a[c]})}e.exports=a}),null);
__d("DraftEditorEditHandler",["UserAgent","editOnBeforeInput","editOnBlur","editOnCompositionStart","editOnCopy","editOnCut","editOnDragOver","editOnDragStart","editOnFocus","editOnInput","editOnKeyDown","editOnPaste","editOnSelect"],(function(a,b,c,d,e,f){"use strict";a=b("UserAgent").isBrowser("Chrome");c=b("UserAgent").isBrowser("Firefox");d=a||c?b("editOnSelect"):function(a){};f={onBeforeInput:b("editOnBeforeInput"),onBlur:b("editOnBlur"),onCompositionStart:b("editOnCompositionStart"),onCopy:b("editOnCopy"),onCut:b("editOnCut"),onDragOver:b("editOnDragOver"),onDragStart:b("editOnDragStart"),onFocus:b("editOnFocus"),onInput:b("editOnInput"),onKeyDown:b("editOnKeyDown"),onPaste:b("editOnPaste"),onSelect:b("editOnSelect"),onMouseUp:d,onKeyUp:d};e.exports=f}),null);
__d("DraftEditorPlaceholder.react",["cx","react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h=["editorState"],i=["editorState"],j,k=j||b("react");a=function(a){function c(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.shouldComponentUpdate=function(a){var c=this.props,d=c.editorState;c=babelHelpers.objectWithoutPropertiesLoose(c,h);var e=a.editorState;a=babelHelpers.objectWithoutPropertiesLoose(a,i);return d.getSelection().getHasFocus()!==e.getSelection().getHasFocus()||!b("shallowEqual")(c,a)};d.render=function(){var a="_1p1v"+(this.props.className!=null?" "+this.props.className:"");return k.jsx("div",{"aria-hidden":this.props.ariaHidden,className:"_1p1t"+(this.props.editorState.getSelection().getHasFocus()?" _1p1u":""),children:k.jsx("div",{className:a,id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"},children:this.props.text})})};return c}(k.Component);e.exports=a}),null);
__d("fbjs/lib/CSSCore",["CSSCore"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CSSCore")}),null);
__d("DraftEffects",["cx","CurrentUser","ODS","cr:6706","fbjs/lib/CSSCore","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CurrentUser").isEmployee()?".employee":"",j=!1;a={initODS:function(){document.addEventListener("input",function(a){a.target.nodeType===1&&b("fbjs/lib/CSSCore").hasClass(a.target,"_5rpu")&&(h||(h=b("ODS"))).bumpEntityKey(2966,"draft_js","input_events"+i)})},handleExtensionCausedError:function(){(h||(h=b("ODS"))).bumpEntityKey(2966,"draft_js","extension_caused_errors"+i);if(j||!b("gkx")("20943"))return;j=!0;b("cr:6706").handleExtensionCausedError()}};e.exports=a}),null);
__d("DraftEditor.react",["cx","invariant","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents.react","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorFlushControlled","DraftEditorPlaceholder.react","DraftEffects","EditorState","Scroll","Style","UserAgent","generateRandomKey","getDefaultKeyBinding","getScrollPosition","gkx","isHTMLElement","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("UserAgent").isBrowser("IE"),l=!k,m={edit:b("DraftEditorEditHandler"),composite:b("DraftEditorCompositionHandler"),drag:b("DraftEditorDragHandler"),cut:null,render:null},n=!1,o=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.render=function(){return null};c.componentDidMount=function(){this._update()};c.componentDidUpdate=function(){this._update()};c._update=function(){var a=this.props.editor;a._latestEditorState=this.props.editorState;a._blockSelectEvents=!0};return b}(j.Component),p="{{editor_id_placeholder}}";c=function(c){function d(a){var d;d=c.call(this,a)||this;d._internalDrag=!1;d.state={contentsKey:0};d._handleEditorContainerRef=function(a){d.editorContainer=a,d.editor=a!==null?a.firstChild:null};d.focus=function(a){var c=d.props.editorState,e=c.getSelection().getHasFocus(),f=d.editor;if(!f)return;var g=b("Style").getScrollParent(f);a=a||b("getScrollPosition")(g);var i=a.x;a=a.y;b("isHTMLElement")(f)||h(0,2355);f.focus({preventScroll:!0});g===window?window.scrollTo(i,a):b("Scroll").setTop(g,a);e||d.update(b("EditorState").forceSelection(c,c.getSelection()))};d.blur=function(){var a=d.editor;if(!a)return;b("isHTMLElement")(a)||h(0,2355);a.blur()};d.setMode=function(a){var b=d.props,c=b.onPaste,e=b.onCut;b=b.onCopy;var f=babelHelpers["extends"]({},m.edit);c&&(f.onPaste=c);e&&(f.onCut=e);b&&(f.onCopy=b);c=babelHelpers["extends"]({},m,{edit:f});d._handler=c[a]};d.exitCurrentMode=function(){d.setMode("edit")};d.restoreEditorDOM=function(a){b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return d.setState({contentsKey:d.state.contentsKey+1},function(){d.focus(a)})}):d.setState({contentsKey:d.state.contentsKey+1},function(){d.focus(a)})};d.setClipboard=function(a){d._clipboard=a};d.getClipboard=function(){return d._clipboard};d.update=function(a){var c=d.props.onChange;d._latestEditorState=a;b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return c(a)}):c(a)};d.onDragEnter=function(){d._dragCount++};d.onDragLeave=function(){d._dragCount--,d._dragCount===0&&d.exitCurrentMode()};d._blockSelectEvents=!1;d._clipboard=null;d._handler=null;d._dragCount=0;d._editorKey=a.editorKey||b("generateRandomKey")();d._placeholderAccessibilityID="placeholder-"+d._editorKey;d._latestEditorState=a.editorState;d._latestCommittedEditorState=a.editorState;d._onBeforeInput=d._buildHandler("onBeforeInput");d._onBlur=d._buildHandler("onBlur");d._onCharacterData=d._buildHandler("onCharacterData");d._onCompositionEnd=d._buildHandler("onCompositionEnd");d._onCompositionStart=d._buildHandler("onCompositionStart");d._onCopy=d._buildHandler("onCopy");d._onCut=d._buildHandler("onCut");d._onDragEnd=d._buildHandler("onDragEnd");d._onDragOver=d._buildHandler("onDragOver");d._onDragStart=d._buildHandler("onDragStart");d._onDrop=d._buildHandler("onDrop");d._onInput=d._buildHandler("onInput");d._onFocus=d._buildHandler("onFocus");d._onKeyDown=d._buildHandler("onKeyDown");d._onKeyPress=d._buildHandler("onKeyPress");d._onKeyUp=d._buildHandler("onKeyUp");d._onMouseDown=d._buildHandler("onMouseDown");d._onMouseUp=d._buildHandler("onMouseUp");d._onPaste=d._buildHandler("onPaste");d._onSelect=d._buildHandler("onSelect");d.getEditorKey=function(){return d._editorKey};return d}babelHelpers.inheritsLoose(d,c);var e=d.prototype;e._buildHandler=function(a){var c=this;return function(d){if(!c.props.readOnly){var e=c._handler&&c._handler[a];e&&(b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return e(c,d)}):e(c,d))}}};e._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()};e._renderPlaceholder=function(){if(this._showPlaceholder()){var a={ariaHidden:this.props.placeholderAriaHidden,accessibilityID:this._placeholderAccessibilityID,className:this.props.placeholderClassName,editorState:this.props.editorState,text:b("nullthrows")(this.props.placeholder),textAlignment:this.props.textAlignment};return j.jsx(b("DraftEditorPlaceholder.react"),babelHelpers["extends"]({},a))}return null};e._renderARIADescribedBy=function(){var a=this.props.ariaDescribedBy||"";if(this.props.placeholderAriaHidden)return a===p?void 0:a;var b=this._showPlaceholder()?this._placeholderAccessibilityID:"";return a.replace(p,b)||void 0};e.render=function(){var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleFn,g=a.customStyleMap,h=a.editorState,i=a.preventScroll,k=a.readOnly,m=a.textAlignment;a=a.textDirectionality;m="_5rp7"+(m==="left"?" _5rp8":"")+(m==="right"?" _5rp9":"")+(m==="center"?" _5rpa":"");var n={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},p=this.props.role||"textbox",q=p==="combobox"?!!this.props.ariaExpanded:null;c={blockRenderMap:c,blockRendererFn:d,blockStyleFn:e,customStyleMap:babelHelpers["extends"]({},b("DefaultDraftInlineStyle"),g),customStyleFn:f,editorKey:this._editorKey,editorState:h,preventScroll:i,textDirectionality:a};d=this.props.contentClassName!=null?this.props.contentClassName+" ":"";return j.jsxs("div",{className:m,children:[this._renderPlaceholder(),j.jsx("div",{className:"_5rpb",ref:this._handleEditorContainerRef,children:j.jsxs("div",{"aria-activedescendant":k?null:this.props.ariaActiveDescendantID,"aria-autocomplete":k?null:this.props.ariaAutoComplete,"aria-controls":k?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":k?null:q,"aria-label":(e=this.props.ariaLabel)!=null?e:this.props.placeholder,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":k?null:this.props.ariaOwneeID,"aria-required":this.props.ariaRequired,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:d+((k?"":"notranslate")+" _5rpu"),contentEditable:!k,"data-testid":void 0,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:k?null:p,spellCheck:l&&this.props.spellCheck,style:n,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex,children:[j.jsx(o,{editor:this,editorState:h}),j.createElement(b("DraftEditorContents.react"),babelHelpers["extends"]({},c,{key:"contents"+this.state.contentsKey}))]})})]})};e.componentDidMount=function(){this._blockSelectEvents=!1,!n&&b("gkx")("20945")&&(n=!0,b("DraftEffects").initODS()),this.setMode("edit"),k&&(!this.editor?a.execCommand("AutoUrlDetect",!1,!1):this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1))};e.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState};return d}(j.Component);c.defaultProps={ariaDescribedBy:p,blockRenderMap:b("DefaultDraftBlockRenderMap"),blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:b("getDefaultKeyBinding"),readOnly:!1,spellCheck:!1,stripPastedStyles:!1};e.exports=c}),null);
__d("DraftEditorTextNode.react",["invariant","UserAgent","isElement","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("UserAgent").isBrowser("IE <= 11");function k(a){return j?a.textContent==="\n":a.tagName==="BR"}var l=function(a){return j?i.jsx("span",{"data-text":"true",ref:a,children:"\n"},"A"):i.jsx("br",{"data-text":"true",ref:a},"A")},m=function(a){return j?i.jsx("span",{"data-text":"true",ref:a,children:"\n"},"B"):i.jsx("br",{"data-text":"true",ref:a},"B")};a=function(a){function c(b){b=a.call(this,b)||this;b.$1=!1;return b}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.shouldComponentUpdate=function(a){var c=this.$2,d=a.children==="";b("isElement")(c)||g(0,6158);c=c;return d?!k(c):c.textContent!==a.children};d.componentDidMount=function(){this.$1=!this.$1};d.componentDidUpdate=function(){this.$1=!this.$1};d.render=function(){var a=this;return this.props.children===""?this.$1?l(function(b){return a.$2=b}):m(function(b){return a.$2=b}):i.jsx("span",{"data-text":"true",ref:function(b){return a.$2=b},children:this.props.children},this.$1?"A":"B")};return c}(i.Component);e.exports=a}),null);
__d("setDraftEditorSelection",["invariant","DraftEffects","DraftJsDebugLogging","UserAgent","containsNode","getActiveElement","getCorrectDocumentFromNode","isElement"],(function(a,b,c,d,e,f,g){"use strict";var h=b("UserAgent").isBrowser("IE");function i(a,c){if(!a)return"[empty]";a=j(a,c);if(a.nodeType===Node.TEXT_NODE)return a.textContent;b("isElement")(a)||g(0,3425);c=a;return c.outerHTML}function j(a,c){var d=c!==void 0?c(a):[];if(a.nodeType===Node.TEXT_NODE){var e=a.textContent.length;return b("getCorrectDocumentFromNode")(a).createTextNode("[text "+e+(d.length?" | "+d.join(", "):"")+"]")}e=a.cloneNode();e.nodeType===1&&d.length&&e.setAttribute("data-labels",d.join(", "));d=a.childNodes;for(a=0;a<d.length;a++)e.appendChild(j(d[a],c));return e}function k(a,c){a=a;var d=a;while(a)if(b("isElement")(a)&&d.hasAttribute("contenteditable"))return i(a,c);else a=a.parentNode,d=a;return"Could not find contentEditable parent of node"}function l(a){return a.nodeValue===null?a.childNodes.length:a.nodeValue.length}function a(a,c,d,e,f){var g=b("getCorrectDocumentFromNode")(c);if(!b("containsNode")(g.documentElement,c))return;g=g.defaultView.getSelection();var h=a.getAnchorKey(),i=a.getAnchorOffset(),j=a.getFocusKey(),k=a.getFocusOffset(),l=a.getIsBackward();if(!g.extend&&l){var o=h,p=i;h=j;i=k;j=o;k=p;l=!1}o=h===d&&e<=i&&f>=i;p=j===d&&e<=k&&f>=k;if(o&&p){g.removeAllRanges();n(g,c,i-e,a);m(g,c,k-e,a);return}if(!l)o&&(g.removeAllRanges(),n(g,c,i-e,a)),p&&m(g,c,k-e,a);else{p&&(g.removeAllRanges(),n(g,c,k-e,a));if(o){h=g.focusNode;j=g.focusOffset;g.removeAllRanges();n(g,c,i-e,a);m(g,h,j,a)}}}function m(a,c,d,e){var f=b("getActiveElement")(),g=a.extend;if(g&&c!=null&&b("containsNode")(f,c)){d>l(c)&&b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())});g=c===a.focusNode;try{a.rangeCount>0&&a.extend&&a.extend(c,d)}catch(h){b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c,function(b){var c=[];b===f&&c.push("active element");b===a.anchorNode&&c.push("selection anchor node");b===a.focusNode&&c.push("selection focus node");return c}),extraParams:JSON.stringify({activeElementName:f?f.nodeName:null,nodeIsFocus:c===a.focusNode,nodeWasFocus:g,selectionRangeCount:a.rangeCount,selectionAnchorNodeName:a.anchorNode?a.anchorNode.nodeName:null,selectionAnchorOffset:a.anchorOffset,selectionFocusNodeName:a.focusNode?a.focusNode.nodeName:null,selectionFocusOffset:a.focusOffset,message:h?""+h:null,offset:d},null,2),selectionState:JSON.stringify(e.toJS(),null,2)});throw h}}else if(c&&a.rangeCount>0){g=a.getRangeAt(0);g.setEnd(c,d);a.addRange(g.cloneRange())}}function n(a,c,d,e){var f=b("getCorrectDocumentFromNode")(c).createRange();d>l(c)&&(b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())}),b("DraftEffects").handleExtensionCausedError());f.setStart(c,d);if(h)try{a.addRange(f)}catch(a){}else a.addRange(f)}e.exports={setDraftEditorSelection:a,addFocusToSelection:m}}),null);
__d("DraftEditorLeaf.react",["invariant","DraftEditorTextNode.react","isHTMLBRElement","react","setDraftEditorSelection"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("setDraftEditorSelection").setDraftEditorSelection;a=function(a){function c(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.$1=function(){var a=this.props.selection;if(a==null||!a.getHasFocus())return;var c=this.props,d=c.block,e=c.start;c=c.text;d=d.getKey();c=e+c.length;if(!a.hasEdgeWithin(d,e,c))return;var f=this.leaf;f||g(0,5590);var h=f.firstChild;h||g(0,5591);var i;h.nodeType===Node.TEXT_NODE?i=h:b("isHTMLBRElement")(h)?i=f:(i=h.firstChild,i||g(0,5592));j(a,i,d,e,c)};d.shouldComponentUpdate=function(a){var b=this.leaf;b||g(0,5593);b=b.textContent!==a.text||a.styleSet!==this.props.styleSet||a.forceSelection;return b};d.componentDidUpdate=function(){this.$1()};d.componentDidMount=function(){this.$1()};d.render=function(){var a=this,c=this.props.block,d=this.props.text;d.endsWith("\n")&&this.props.isLast&&(d+="\n");var e=this.props,f=e.customStyleMap,g=e.customStyleFn,h=e.offsetKey;e=e.styleSet;var j=e.reduce(function(a,b){var c={};b=f[b];b!==void 0&&a.textDecoration!==b.textDecoration&&(c.textDecoration=[a.textDecoration,b.textDecoration].join(" ").trim());return Object.assign(a,b,c)},{});if(g){g=g(e,c);j=Object.assign(j,g)}return i.jsx("span",{"data-offset-key":h,ref:function(b){return a.leaf=b},style:j,children:i.jsx(b("DraftEditorTextNode.react"),{children:d})})};return c}(i.Component);e.exports=a}),null);
__d("DraftEditorBlock.react",["cx","invariant","DraftEditorLeaf.react","DraftOffsetKey","Scroll","Style","UnicodeBidi","UnicodeBidiDirection","getElementPosition","getScrollPosition","getViewportDimensions","isHTMLElement","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=10,l=function(a,b){return a.getAnchorKey()===b||a.getFocusKey()===b};a=function(a){function c(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.block!==a.block||this.props.tree!==a.tree||this.props.direction!==a.direction||l(a.selection,a.block.getKey())&&a.forceSelection};d.componentDidMount=function(){if(this.props.preventScroll)return;var a=this.props.selection,c=a.getEndKey();if(!a.getHasFocus()||c!==this.props.block.getKey())return;a=this.$1;if(a==null)return;c=b("Style").getScrollParent(a);var d=b("getScrollPosition")(c);if(c===window){var e=b("getElementPosition")(a);e=e.y+e.height;var f=b("getViewportDimensions")().height;e=e-f;e>0&&window.scrollTo(d.x,d.y+e+k)}else{b("isHTMLElement")(a)||h(0,4852);f=a.offsetHeight+a.offsetTop;a=c.offsetTop+c.offsetHeight;a=a+d.y;e=f-a;e>0&&b("Scroll").setTop(c,b("Scroll").getTop(c)+e+k)}};d.$2=function(){var a=this,c=this.props.block,d=c.getKey(),e=c.getText(),f=this.props.tree.size-1,g=l(this.props.selection,d);return this.props.tree.map(function(h,i){var k,l=h.get("leaves");if(l.size===0)return null;var m=l.size-1,n=l.map(function(k,l){var n=b("DraftOffsetKey").encode(d,i,l),h=k.get("start");k=k.get("end");return j.jsx(b("DraftEditorLeaf.react"),{offsetKey:n,block:c,start:h,selection:g?a.props.selection:null,forceSelection:a.props.forceSelection,text:e.slice(h,k),styleSet:c.getInlineStyleAt(h),customStyleMap:a.props.customStyleMap,customStyleFn:a.props.customStyleFn,isLast:i===f&&l===m},n)}).toArray(),o=h.get("decoratorKey");if(o==null)return n;if(!a.props.decorator)return n;var p=b("nullthrows")(a.props.decorator),q=p.getComponentForKey(o);if(!q)return n;p=p.getPropsForKey(o);o=b("DraftOffsetKey").encode(d,i,0);var r=l.first().get("start");l=l.last().get("end");var s=e.slice(r,l);h=c.getEntityAt(h.get("start"));k=b("UnicodeBidiDirection").getHTMLDirIfDifferent(b("UnicodeBidi").getDirection(s),(k=a.props.direction)!=null?k:b("UnicodeBidiDirection").LTR);s={contentState:a.props.contentState,decoratedText:s,dir:k,start:r,end:l,blockKey:d,entityKey:h,offsetKey:o};return j.createElement(q,babelHelpers["extends"]({},p,s,{key:o}),n)}).toArray()};d.render=function(){var a=this,b=this.props,c=b.direction;b=b.offsetKey;c="_1mf"+(c==="LTR"?" _1mj":"")+(c==="RTL"?" _1mk":"");return j.jsx("div",{"data-offset-key":b,className:c,ref:function(b){return a.$1=b},children:this.$2()})};return c}(j.Component);e.exports=a}),null);
__d("DraftEditorContents-core.react",["cx","DraftEditorBlock.react","DraftOffsetKey","joinClasses","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=function(a,b,c,d){return(a==="unordered-list-item"?"_3kpz":"")+(a==="ordered-list-item"?" _3kp_":"")+(c?" _3kq0":"")+(b===0?" _3kq1":"")+(b===1?" _3kq2":"")+(b===2?" _3kq3":"")+(b===3?" _3kq4":"")+(b>=4?" _3kq5":"")+(d==="LTR"?" _3kq6":"")+(d==="RTL"?" _3kq7":"")};a=function(a){function c(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(c,a);var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props.editorState;a=a.editorState;var c=b.getDirectionMap(),d=a.getDirectionMap();if(c!==d)return!0;c=b.getSelection().getHasFocus();d=a.getSelection().getHasFocus();if(c!==d)return!0;c=a.getNativelyRenderedContent();d=b.isInCompositionMode();var e=a.isInCompositionMode();if(b===a||c!==null&&a.getCurrentContent()===c||d&&e)return!1;c=b.getCurrentContent();var f=a.getCurrentContent();b=b.getDecorator();var g=a.getDecorator();return d!==e||c!==f||b!==g||a.mustForceSelection()};d.render=function(){var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleMap,g=a.customStyleFn,h=a.editorState,k=a.editorKey,l=a.preventScroll;a=a.textDirectionality;var m=h.getCurrentContent(),n=h.getSelection(),o=h.mustForceSelection(),p=h.getDecorator(),q=b("nullthrows")(h.getDirectionMap()),r=m.getBlocksAsArray(),s=[],t=new Set(),u=null,v=null;for(var w=0;w<r.length;w++){var x=r[w],y=x.getKey(),z=x.getType(),A=d(x),B=void 0,C=void 0,D=void 0;A&&(B=A.component,C=A.props,D=A.editable);A=a?a:q.get(y);var E=b("DraftOffsetKey").encode(y,0,0);C={contentState:m,block:x,blockProps:C,blockStyleFn:e,customStyleMap:f,customStyleFn:g,decorator:p,direction:A,forceSelection:o,offsetKey:E,preventScroll:l,selection:n,tree:h.getBlockTree(y)};var F=c.get(z)||c.get("unstyled"),G=F.wrapper;F=F.element||c.get("unstyled").element;var H=x.getDepth(),I="";e&&(I=e(x));if(F==="li"){var J=v!==G||u===null||H>u||H<u&&!t.has(H);I=b("joinClasses")(I,j(z,H,J,A))}t.add(H);z=B||b("DraftEditorBlock.react");J={className:I,"data-block":!0,"data-editor":k,"data-offset-key":E};D!==void 0&&(J=babelHelpers["extends"]({},J,{contentEditable:D,suppressContentEditableWarning:!0}));A=i.jsx(F,babelHelpers["extends"]({},J,{children:i.jsx(z,babelHelpers["extends"]({},C))}),y);s.push({block:A,wrapperTemplate:G,key:y,offsetKey:E});G?u=x.getDepth():u=null;v=G}H=[];for(B=0;B<s.length;){I=s[B];if(I.wrapperTemplate){D=[];do D.push(s[B].block),B++;while(B<s.length&&s[B].wrapperTemplate===I.wrapperTemplate);F=i.cloneElement(I.wrapperTemplate,{key:I.key+"-wrap","data-offset-key":I.offsetKey},D);H.push(F)}else H.push(I.block),B++}return i.jsx("div",{"data-contents":"true",children:H})};return c}(i.Component);e.exports=a}),null);
__d("DraftEffectsPerSite",["fbt","Bootloader"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){c("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(h._(/*BTDS*/"An extension installed in your web browser is preventing text entry from working correctly. Please disable any extensions and reload the page."),h._(/*BTDS*/"Text Editing Is Limited"),null,{width:600})},"DraftEffectsPerSite")}g.handleExtensionCausedError=a}),226);
__d("FDSQuestionCircleFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("496949"),16);b=a;g["default"]=b}),98);
__d("FDSShopsFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1664038"),16);b=a;g["default"]=b}),98);
__d("FeedComposerCometHashtagTypeheadListItem.react",["CometSearchMentionsBaseViewItem.react","FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e.label;var g=e.rawData.subtext,i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1y1aw1k xf159sx xwib8y2 xmzvs34 x168biu4"},b[3]=i):i=b[3];b[4]!==a||b[5]!==g?(i=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("FDSTextPairing.react"),{headline:a,level:4,meta:g})})),b[4]=a,b[5]=g,b[6]=i):i=b[6];b[7]!==e||b[8]!==f||b[9]!==i?(a=j.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:e,children:i})),b[7]=e,b[8]=f,b[9]=i,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("createCometComposerHashtagsEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.createEntity("HASHTAG","SEGMENTED",{id:a})}f["default"]=a}),66);
__d("getCometComposerHashtagSearch",["getHashtagRegex"],(function(a,b,c,d,e,f,g){"use strict";var h=["#","\\uFF03"];function a(a){a=a.getCurrentContent();var b=a.getSelectionAfter(),d=b.getAnchorKey();a=a.getBlockForKey(d);d=a.getText().substring(0,b.getFocusOffset());if(h.includes(d.charAt(b.getFocusOffset()-1)))return d.charAt(b.getFocusOffset()-1);a=new RegExp(c("getHashtagRegex")());b=a.exec(d);var e;while((e=a.exec(d))!=null)b=e;return b!=null?b[0]:null}g["default"]=a}),98);
__d("getHashtagRegexForTypeahead",["getHashtagRegexString"],(function(a,b,c,d,e,f,g){function a(){return new RegExp(c("getHashtagRegexString")()+"$","i")}g["default"]=a}),98);
__d("createCometHashtagMatchStrategy",["getHashtagRegexForTypeahead"],(function(a,b,c,d,e,f,g){"use strict";var h=["#","\\uFF03"];function a(a){var b=a.minMatchLength;return{findMentionableString:function(a){if(h.includes(a))return{leadOffset:0,matchingString:a,replaceableString:a};var d=new RegExp(c("getHashtagRegexForTypeahead")());d=d.exec(a);if(d!==null){a=d[1].length;d=d[0].substring(a);if(d!=null&&d.length>=b)return{leadOffset:a,matchingString:d,replaceableString:d}}return null},name:"HashtagMatchStrategy("+b.toString()+")"}}g["default"]=a}),98);
__d("createFeedComposerCometHashtagDataEntry_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"context"},{kind:"RootArgument",name:"scopeID"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedComposerCometHashtagDataEntry_data",selections:[{alias:null,args:null,concreteType:"Hashtag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Variable",name:"callsite",variableName:"context"},{kind:"Variable",name:"scope_id",variableName:"scopeID"}],kind:"ScalarField",name:"typeahead_snippets",storageKey:null}],storageKey:null}],type:"TypeaheadHashtagResultV2",abstractKey:null};e.exports=a}),null);
__d("createFeedComposerCometHashtagDataEntry",["createFeedComposerCometHashtagDataEntry_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("createFeedComposerCometHashtagDataEntry_data.graphql");function a(a){a=a==null?void 0:a.node;if(a==null)return null;var b=a.id,c=a.name;a=a.typeahead_snippets;a=a!=null&&a.length>=1?a[0]:null;return b==null||c==null?null:{key:b,label:c,rawData:{id:b,name:c,subtext:a},type:"entry"}}g["default"]=a}),98);
__d("useFeedComposerCometHashtagTypeaheadDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23922566980694168"}),null);
__d("useFeedComposerCometHashtagTypeaheadDataSourceQuery.graphql",["useFeedComposerCometHashtagTypeaheadDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"context"},c={defaultValue:!1,kind:"LocalArgument",name:"includeImageUrls"},d={defaultValue:!1,kind:"LocalArgument",name:"includeMetatext"},e={defaultValue:null,kind:"LocalArgument",name:"limit"},f={defaultValue:null,kind:"LocalArgument",name:"query"},g={defaultValue:null,kind:"LocalArgument",name:"scopeID"},h={defaultValue:null,kind:"LocalArgument",name:"sessionID"},i={kind:"Variable",name:"scope_id",variableName:"scopeID"};i=[{alias:null,args:[{fields:[{kind:"Variable",name:"context",variableName:"context"},{kind:"Variable",name:"include_image_urls",variableName:"includeImageUrls"},{kind:"Variable",name:"include_metatext",variableName:"includeMetatext"},{kind:"Variable",name:"limit",variableName:"limit"},{kind:"Variable",name:"query",variableName:"query"},i,{kind:"Variable",name:"session_id",variableName:"sessionID"}],kind:"ObjectValue",name:"argument"}],concreteType:"TypeaheadHashtagResultV2",kind:"LinkedField",name:"hashtag_typeahead_v2",plural:!0,selections:[{alias:null,args:null,concreteType:"Hashtag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Variable",name:"callsite",variableName:"context"},i],kind:"ScalarField",name:"typeahead_snippets",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"useFeedComposerCometHashtagTypeaheadDataSourceQuery",selections:i,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[f,h,e,a,c,d,g],kind:"Operation",name:"useFeedComposerCometHashtagTypeaheadDataSourceQuery",selections:i},params:{id:b("useFeedComposerCometHashtagTypeaheadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometHashtagTypeaheadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometHashtagTypeaheadDataSource",["createFeedComposerCometHashtagDataEntry","react-compiler-runtime","useCometTypeaheadGraphQLDataSource","useFeedComposerCometHashtagTypeaheadDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometHashtagTypeaheadDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(8),e=a.context,f=a.includeMetatext,g=a.limit,h=a.scopeID;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h?(a=function(a){a=a.query;return{context:e,includeMetatext:f,limit:g,query:a,scopeID:h,sessionID:""}},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a):a=b[4];var k;b[5]!==g||b[6]!==a?(k={gqlQuery:i,limit:g,normalize:j,queryVariablesBuilderFunction:a},b[5]=g,b[6]=a,b[7]=k):k=b[7];return c("useCometTypeaheadGraphQLDataSource")(k)}function j(a){a=a==null?void 0:a.hashtag_typeahead_v2;return a==null?[]:a.map(function(a){if(a==null)return;return c("createFeedComposerCometHashtagDataEntry")(a)}).filter(Boolean)}g["default"]=a}),98);
__d("useFeedComposerCometHashtagsDataSourceResolverConfig",["createCometHashtagMatchStrategy","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadCompositeDataSource","useFeedComposerCometHashtagTypeaheadDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(14),e=a.context,f=a.includeMetatext,g=a.limit,h=a.payloadDecorators;a=a.scopeID;var i;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(i={context:e,includeMetatext:f,limit:g,scopeID:a},b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=i):i=b[4];e=c("useFeedComposerCometHashtagTypeaheadDataSource")(i);b[5]!==h?(f=h!=null?h:[],b[5]=h,b[6]=f):f=b[6];b[7]!==g||b[8]!==e||b[9]!==f?(a={limit:g,networkDataSource:e,payloadDecorators:f},b[7]=g,b[8]=e,b[9]=f,b[10]=a):a=b[10];i=c("useCometTypeaheadCompositeDataSource")(a);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(h=c("createCometHashtagMatchStrategy")({minMatchLength:0}),b[11]=h):h=b[11];b[12]!==i?(g=[{dataSource:i,matchStrategy:h}],b[12]=i,b[13]=g):g=b[13];e=g;f=e;return c("useCometMentionsDataSourceResolverConfig")(f,!0)}g["default"]=a}),98);
__d("FeedComposerCometHashtagsWithTypeaheadPlugin.react",["CometComposerHashtagsWithTypeaheadPlugin.react","FeedComposerCometHashtagTypeheadListItem.react","cr:1911814","createCometComposerHashtagsEntity","getCometComposerHashtagSearch","react","react-compiler-runtime","useCometMentionsLoggingProvider","useCometTypeaheadViewListStrategy","useFeedComposerCometHashtagsDataSourceResolverConfig","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="MAIN_COMPOSER";function a(a){var e=d("react-compiler-runtime").c(15),f=a.typeaheadContext,g=a.typeaheadScopeID;f=f===void 0?j:f;var h=a.typeaheadResultsIncludeMetatext;h==null&&(h=!0);var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=b("cr:1911814")!=null?[b("cr:1911814")({limit:1})]:void 0,e[0]=m):m=e[0];e[1]!==f||e[2]!==h||e[3]!==g?(m={context:f,includeMetatext:h,limit:6,payloadDecorators:m,scopeID:g},e[1]=f,e[2]=h,e[3]=g,e[4]=m):m=e[4];f=c("useFeedComposerCometHashtagsDataSourceResolverConfig")(m);e[5]===Symbol["for"]("react.memo_cache_sentinel")?(h={getReplacementString:k,getSearchText:c("getCometComposerHashtagSearch"),onMentionsCreateContentState:l},e[5]=h):h=e[5];g=c("useMentionsHandlerForSelectedEntry")(h);e[6]===Symbol["for"]("react.memo_cache_sentinel")?(m={context_id:null,context_type:"undirected",surface:"COMPOSER",typeahead_type:"HASHTAG"},e[6]=m):m=e[6];h=c("useCometMentionsLoggingProvider")(m);e[7]===Symbol["for"]("react.memo_cache_sentinel")?(m={viewItemStrategyRenderer:c("FeedComposerCometHashtagTypeheadListItem.react")},e[7]=m):m=e[7];m=c("useCometTypeaheadViewListStrategy")(m);var n;e[8]!==f||e[9]!==h||e[10]!==g||e[11]!==a.currentBlockKey||e[12]!==a.hasFormattedText||e[13]!==m?(n=i.jsx(c("CometComposerHashtagsWithTypeaheadPlugin.react"),{currentBlockKey:a.currentBlockKey,dataSourceResolverConfig:f,getSearchText:c("getCometComposerHashtagSearch"),hasFormattedText:a.hasFormattedText,loggingProvider:h,mentionsHandlerForSelectedEntry:g,priority:1,viewStrategyRenderer:m}),e[8]=f,e[9]=h,e[10]=g,e[11]=a.currentBlockKey,e[12]=a.hasFormattedText,e[13]=m,e[14]=n):n=e[14];return n}function k(a){a=a.label;return a}function l(a,b){b=b.key;return c("createCometComposerHashtagsEntity")(b,a)}e=c("withComposerViewStatePart")(a,function(a){var b=a==null?void 0:a.editorState;b=b!=null&&b.__type==="editor-state-based"?b.draftEditorState:null;return{currentBlockKey:b!=null?b.getSelection().getStartKey():null,hasFormattedText:((b=a.formattedText)==null?void 0:b.currentFormattedTextPreset)!=null}});g["default"]=e}),98);
__d("LWICometBoostedPostRemoveTaggingsDialogMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9782775831811694"}),null);
__d("LWICometBoostedPostRemoveTaggingsDialogMutation.graphql",["LWICometBoostedPostRemoveTaggingsDialogMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],kind:"ScalarField",name:"xfb_remove_invalid_taggings",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LWICometBoostedPostRemoveTaggingsDialogMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LWICometBoostedPostRemoveTaggingsDialogMutation",selections:c},params:{id:b("LWICometBoostedPostRemoveTaggingsDialogMutation_facebookRelayOperation"),metadata:{},name:"LWICometBoostedPostRemoveTaggingsDialogMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("LWICometBoostedUnavailableDiaglogBase.react",["fbt","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FDSCard.react","FDSControlledUserBlockingDialog.react","FDSLink.react","FDSProgressRingIndeterminate.react","LWIOmniButton.react","LWIOmniText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=h._(/*BTDS*/"Boost other content"),m={headerContainer:{marginBottom:"x1e56ztr",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,marginTop:"x14vqqas",$$css:!0},interstitial:{height:"xt7dq6l",paddingBottom:"x1l90r2v",paddingTop:"xyamay9",width:"x1c4ky7w",$$css:!0},metaTextContainer:{marginBottom:"x1c436fg",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,marginTop:"x1sy10c2",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(29),e=a.headerLabel,f=a.metaComponent,g=a.metaLabel,h=a.onClose,i=a.primaryLabel,n=a.primaryOnPress,o=a.secondaryLabel;a=a.secondaryOnPress;var p=k(!1),q=p[0],r=p[1];b[0]!==e?(p=j.jsx(c("CometColumnItem.react"),{align:"start",xstyle:m.headerContainer,children:j.jsx(c("LWIOmniText.react"),{type:"headlineEmphasized2",children:e})}),b[0]=e,b[1]=p):p=b[1];b[2]!==g?(e=j.jsx(c("LWIOmniText.react"),{color:"secondary",type:"body3",children:g}),b[2]=g,b[3]=e):e=b[3];b[4]!==f||b[5]!==e?(g=j.jsxs(c("CometColumnItem.react"),{align:"start",xstyle:m.metaTextContainer,children:[e,f]}),b[4]=f,b[5]=e,b[6]=g):g=b[6];f=o!=null?o:l;b[7]!==a||b[8]!==f?(e=j.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:j.jsx(c("LWIOmniText.react"),{color:"blueLink",type:"bodyLink3",children:j.jsx(c("FDSLink.react"),{onClick:a,weight_DEPRECATED:"semibold",children:f})})}),b[7]=a,b[8]=f,b[9]=e):e=b[9];b[10]!==q?(o=q?j.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16}):void 0,b[10]=q,b[11]=o):o=b[11];b[12]!==n?(a=function(){r(!0),n()},b[12]=n,b[13]=a):a=b[13];b[14]!==q||b[15]!==i||b[16]!==o||b[17]!==a?(f=j.jsx(c("CometRowItem.react"),{children:j.jsx(c("LWIOmniButton.react"),{addOnPrimary:o,disabled:q,label:i,onPress:a,type:"primary"})}),b[14]=q,b[15]=i,b[16]=o,b[17]=a,b[18]=f):f=b[18];b[19]!==e||b[20]!==f?(q=j.jsx(c("CometColumnItem.react"),{align:"end",children:j.jsxs(c("CometRow.react"),{align:"end",children:[e,f]})}),b[19]=e,b[20]=f,b[21]=q):q=b[21];b[22]!==p||b[23]!==g||b[24]!==q?(i=j.jsx(c("FDSCard.react"),{background:"default",dropShadow:1,expanding:!0,children:j.jsxs(c("CometColumn.react"),{xstyle:m.interstitial,children:[p,g,q]})}),b[22]=p,b[23]=g,b[24]=q,b[25]=i):i=b[25];b[26]!==h||b[27]!==i?(o=j.jsx(c("FDSControlledUserBlockingDialog.react"),{disableClosingWithMask:!0,onDismiss:h,size:"content",withCloseButton:!0,children:i}),b[26]=h,b[27]=i,b[28]=o):o=b[28];return o}g["default"]=a}),226);
__d("LWICometBoostedPostRemoveTaggingsDialog.react",["fbt","CometRelay","LWICometBoostedPostRemoveTaggingsDialogMutation.graphql","LWICometBoostedUnavailableDiaglogBase.react","XCometLWIBoostedItemPickerControllerRouteBuilder","XCometLWIPostCreationControllerRouteBuilder","react","requireDeferred","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m=c("requireDeferred")("LWICometGenericEventsFalcoEvent").__setRef("LWICometBoostedPostRemoveTaggingsDialog.react"),n=h._(/*BTDS*/"This post has tags that can't be used in your ad"),o=h._(/*BTDS*/"Certain tags can't be included in ads. To continue boosting your post, we can remove those tags for you without making any other changes."),p=h._(/*BTDS*/"Continue with tags removed"),q=i!==void 0?i:i=b("LWICometBoostedPostRemoveTaggingsDialogMutation.graphql");function a(a){var b=a.onClose,e=a.pageID,f=a.targetID,g=c("useCometRouterDispatcher")();a=d("CometRelay").useMutation(q);var h=a[0],i="bu_invalid_tags_remove";l(function(){m.onReady(function(a){return a.log({entry_point:i,event:"bu_dialog_enter",page_id:e,product:"boosted_post"})})},[]);a=function(){m.onReady(function(a){return a.log({entry_point:i,event:"bu_dialog_cancel",page_id:e,product:"boosted_post"})}),b()};var j=function(){var a=c("XCometLWIPostCreationControllerRouteBuilder").buildURL({entry_point:i,page_id:e,target_id:f}),d={input:{page_id:e,target_id:f}};m.onReady(function(a){return a.log({entry_point:i,event:"bu_dialog_submit",page_id:e,product:"boosted_post"})});h({onCompleted:function(){g==null||g.go(a,{})},onError:function(a){m.onReady(function(a){return a.log({entry_point:i,event:"bu_dialog_error",page_id:e,product:"boosted_post"})}),b()},variables:d})},r=function(){m.onReady(function(a){return a.log({entry_point:i,event:"bu_dialog_boost_other_content",page_id:e,product:"boosted_post"})});var a=c("XCometLWIBoostedItemPickerControllerRouteBuilder").buildURL({entry_point:"bu_invalid_tags_boost_other_content",item_picker:"boosted_post_picker",page_id:e});g==null||g.go(a,{})};return k.jsx(c("LWICometBoostedUnavailableDiaglogBase.react"),{headerLabel:n,metaLabel:o,onClose:a,primaryLabel:p,primaryOnPress:j,secondaryOnPress:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoUploadLoggingConfigJSModuleWrapper",["VideoUploadLoggingConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoUploadLoggingConfig")}),98);
__d("cometComposerMentionsBlockToEntity",["UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){var f=a.getEntityAt(c);if(f==null)return null;b=b.getEntity(f);if(b.getType()!=="MENTION")return null;f=a.getText().slice(c,e);a=b.getData();e=a.id;return e==null?null:{message:{ranges:[{entity:{id:e},length:(h||(h=d("UnicodeUtils"))).strlen(f),offset:c}],text:f}}}g["default"]=a}),98);
__d("extractMessageFromPlainText",["CometLexicalEmojiNode","CometLexicalEntityTextNode","Lexical","LexicalUtils","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=[],b="",c=!1,e=d("LexicalUtils").$dfs(),f=e.length;for(var g=0;g<f;g++){var i=e[g].node;if(d("Lexical").$isElementNode(i))continue;var j=i.getTextContent(),k=j.length,l=0;while(!c&&l<=k&&j[l]===" ")l+=1;if(l===k)continue;c=!0;k=j.substring(l);d("CometLexicalEntityTextNode").isCometLexicalEntityTextNode(i)?(a.push({entity:{id:i.getEntity().id},length:(h||(h=d("UnicodeUtils"))).strlen(k),offset:h.strlen(b)}),b+=k):d("CometLexicalEmojiNode").$isEmojiNode(i)?b+=i.getRawText():b+=k}j=b.trim();l=b.length-1;i=a.length;for(k=i-1;k>=0;k-=1){e=a[k];f=e.offset;if(f<=l)break;a.pop()}return{ranges:a,text:j}}g["default"]=a}),98);
__d("transformDraftEditorStateToTextWithEntities",["UnicodeUtils","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=[]);var e=[],f=0,g=[],i=a.getCurrentContent();i.getBlockMap().forEach(function(a){var j="",k=0;a.findEntityRanges(c("emptyFunction").thatReturnsTrue,function(c,g){var l=b.some(function(b){var l=a.getText().slice(0,c);l=Math.max(0,l.length-(h||(h=d("UnicodeUtils"))).strlen(l));b=b(a,i,c,g);if(b!=null){var m=f-l+k;l=b.message;j+=l.text;e.push.apply(e,l.ranges.map(function(a){return{entity:a.entity,length:a.length,offset:a.offset+m}}));k+=l.text.length-(g-c);return!0}return!1});l||(j+=a.getText().slice(c,g).replace(/@\[/g,"@ ["))});f+=(h||(h=d("UnicodeUtils"))).strlen(j)+1;g.push(j)});a=g.join("\n");return{ranges:e,text:a}}g["default"]=a}),98);
__d("composerMessageMediaViewerTransform",["cometComposerMentionsBlockToEntity","extractMessageFromPlainText","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","transformDraftEditorStateToTextWithEntities"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e=a.editorState;a=a.lexicalEditor;if(a!=null)a=a.getEditorState().read(function(){return c("extractMessageFromPlainText")()}),d(babelHelpers["extends"]({},b,{message:a}));else if(e==null)d(b);else if(e.__type==="plain-text")d(babelHelpers["extends"]({},b,{message:{text:c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(e)}}));else if(e.__type==="editor-state-based"){e=e.draftEditorState;a=c("transformDraftEditorStateToTextWithEntities")(e,[c("cometComposerMentionsBlockToEntity")]);d(babelHelpers["extends"]({},b,{message:a}))}}g["default"]=a}),98);
__d("createCometComposerRawDraftWhatsAppDeeplinkEntity",[],(function(a,b,c,d,e,f){"use strict";var g="PageWhatsAppNumber";function a(a,b){b===void 0;return{data:{entType:g,id:a},mutability:"IMMUTABLE",type:"MENTION"}}f["default"]=a}),66);
__d("getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE",["ContentState","EditorState","RichTextEditorUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a.__type){case"plain-text":var d=a.hasFocus,e=a.selectionOffsets,f=a.text,g=c("ContentState").createFromText(f.replace(/\n\n$/,"\n")),h=c("EditorState").createWithContent(g);a.startWithHeaderTextStyle===!0&&f===""&&(h=c("RichTextEditorUtil").toggleBlockType(h,"header-one"),h=c("EditorState").forceSelection(h,h.getSelection()));if(e){var i,j,k;f=g.getFirstBlock();var l=0;while(f){var m=f.getKey(),n=f.getLength(),o=l;l+=n;l>=e.start&&e.start-o>=0&&(i={key:m,offset:e.start-o});l>=e.end&&e.end-o>=0&&(j={key:m,offset:e.end-o});k==null&&(j&&!i?k=!0:i&&!j?k=!1:j&&i&&(k=i.offset>j.offset));f=g.getBlockAfter(m)}if(i&&j){n=h.getSelection().merge({anchorKey:i.key,anchorOffset:i.offset,focusKey:j.key,focusOffset:j.offset,isBackward:!!k});h=c("EditorState").forceSelection(h,n)}}else d&&(h=c("EditorState").moveFocusToEnd(h));return h;case"editor-state-based":default:return b!=null?c("EditorState").set(a.draftEditorState,{decorator:b}):a.draftEditorState}}g["default"]=a}),98);
__d("reformCometComposerTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerTextWithEntities_textWithEntities"};e.exports=a}),null);
__d("reformCometComposerTextWithEntities",["CometRelay","createCometComposerAgnosticEditorState","createCometComposerRawDraftMentionsEntity","createCometComposerRawDraftWhatsAppDeeplinkEntity","reformCometComposerTextWithEntities_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerTextWithEntities_textWithEntities.graphql"),a);var f=a.text;a=(a=a.ranges)!=null?a:[];var g=[];for(var i=0;i<a.length;i++){var j=a[i];j!=null&&j.offset!=null&&j.length!=null&&j.entity!=null&&j.entity.__typename!=null&&g.push({entity:j.entity,entity_is_weak_reference:j==null?void 0:j.entity_is_weak_reference,length:j.length,offset:j.offset})}j=c("createCometComposerAgnosticEditorState")(f!=null?f:"",g,function(a){a=a.entity;var b=a.__typename;a=a.id;if((b==="User"||b==="Page"||b==="Event"||b==="Group")&&a!=null)return c("createCometComposerRawDraftMentionsEntity")(a);return b==="PageWhatsAppNumber"&&a!=null?c("createCometComposerRawDraftWhatsAppDeeplinkEntity")(a,!1):null});return babelHelpers["extends"]({},e,j)}g["default"]=a}),98);